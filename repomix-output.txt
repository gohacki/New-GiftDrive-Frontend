This file is a merged representation of the entire codebase, combining all repository files into a single document.
Generated by Repomix on: 2025-01-05T15:22:03.005Z

================================================================
File Summary
================================================================

Purpose:
--------
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.

File Format:
------------
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Multiple file entries, each consisting of:
  a. A separator line (================)
  b. The file path (File: path/to/file)
  c. Another separator line
  d. The full contents of the file
  e. A blank line

Usage Guidelines:
-----------------
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.

Notes:
------
- Some files may have been excluded based on .gitignore rules and Repomix's
  configuration.
- Binary files are not included in this packed representation. Please refer to
  the Repository Structure section for a complete list of file paths, including
  binary files.

Additional Info:
----------------

For more information about Repomix, visit: https://github.com/yamadashy/repomix

================================================================
Directory Structure
================================================================
components/
  Cards/
    CardBarChart.js
    CardLineChart.js
    CardPageVisits.js
    CardPieChart.js
    CardSocialTraffic.js
    CardStats.js
    CardTable.js
    ChartWrapper.js
    ChildCard.js
    ChildList.js
    DriveCard.js
    ItemList.js
    OrganizationCard.js
  Dropdowns/
    IndexDropdown.js
    NotificationDropdown.js
    PagesDropdown.js
    TableDropdown.js
    UserDropdown.js
  Footers/
    Footer.js
    FooterAdmin.js
    FooterSmall.js
  Headers/
    HeaderStats.js
  Maps/
    MapExample.js
  Modals/
    AddChildModal.js
    AddDriveModal.js
    EditChildModal.js
    EditDriveModal.js
    ItemSelectionModal.js
    ModalRenderer.js
  Navbars/
    AdminNavbar.js
    AuthNavbar.js
  PageChange/
    PageChange.js
  Sidebar/
    Sidebar.js
  UI/
    Breadcrumbs.js
  ErrorBoundary.js
  Providers.js
contexts/
  AuthContext.js
  CartContext.js
  ModalContext.js
  StatisticsContext.js
layouts/
  Admin.js
  Auth.js
pages/
  admin/
    currentDrives.js
    dashboard.js
    editOrgInfo.js
    help.js
    maps.js
    pastDrives.js
    superAdmin.js
    tables.js
  api/
    checkout/
      create-checkout-session.js
  auth/
    login.js
    register.js
  visible/
    child/
      [id].js
    drive/
      [id].js
    organization/
      [id].js
    cancel.js
    cart.js
    orglist.js
    profile.js
    registerorg.js
    success.js
  _app.js
  _document.js
  _error.js
  404.js
  index.js
  landing.js
styles/
  index.css
utils/
  localStorageCart.js
.gitignore
eslint.config.mjs
jsconfig.json
next.config.js
package.json
postcss.config.js
tailwind.config.js

================================================================
Files
================================================================

================
File: components/Cards/CardBarChart.js
================
import React from "react";
import PropTypes from "prop-types";
import ChartWrapper from "./ChartWrapper";

const CardBarChart = ({ title, subtitle, data, labels, backgroundColor }) => {
  const chartData = {
    labels: labels,
    datasets: [
      {
        label: subtitle || "",
        data: data,
        backgroundColor: backgroundColor || "#ed64a6",
        borderColor: backgroundColor || "#ed64a6",
        borderWidth: 1,
        barThickness: 8,
      },
    ],
  };

  const chartOptions = {
    maintainAspectRatio: false,
    responsive: true,
    plugins: {
      legend: {
        labels: {
          color: "rgba(0,0,0,.4)",
        },
        align: "end",
        position: "bottom",
      },
      tooltip: {
        mode: "index",
        intersect: false,
        callbacks: {
          label: function (context) {
            return `$${context.parsed.y}`;
          },
        },
      },
    },
    scales: {
      x: {
        display: false,
        grid: {
          display: false,
        },
      },
      y: {
        display: true,
        ticks: {
          color: "rgba(0,0,0,.4)",
        },
        grid: {
          borderDash: [2],
          borderDashOffset: [2],
          color: "rgba(33, 37, 41, 0.3)",
          zeroLineColor: "rgba(33, 37, 41, 0.3)",
          zeroLineBorderDash: [2],
          zeroLineBorderDashOffset: [2],
        },
      },
    },
  };

  return (
    <ChartWrapper
      chartId={`bar-chart-${title}`}
      chartType="bar"
      data={chartData}
      options={chartOptions}
      title={title}
      subtitle={subtitle}
    />
  );
};

CardBarChart.propTypes = {
  title: PropTypes.string.isRequired,
  subtitle: PropTypes.string,
  data: PropTypes.arrayOf(PropTypes.number).isRequired,
  labels: PropTypes.arrayOf(PropTypes.string).isRequired,
  backgroundColor: PropTypes.string,
};

export default CardBarChart;

================
File: components/Cards/CardLineChart.js
================
import React from "react";
import PropTypes from "prop-types";
import ChartWrapper from "./ChartWrapper";

const CardLineChart = ({
  title,
  subtitle,
  data,
  labels,
  borderColor,
  backgroundColor,
}) => {
  const chartData = {
    labels: labels,
    datasets: [
      {
        label: subtitle || "",
        data: data,
        fill: false,
        borderColor: borderColor || "#4c51bf",
        backgroundColor: backgroundColor || "#4c51bf",
      },
    ],
  };

  const chartOptions = {
    maintainAspectRatio: false,
    responsive: true,
    plugins: {
      legend: {
        labels: {
          color: "#fff",
        },
        position: "bottom",
      },
      tooltip: {
        mode: "index",
        intersect: false,
      },
    },
    scales: {
      x: {
        ticks: {
          color: "#fff",
        },
        grid: {
          display: false,
        },
      },
      y: {
        ticks: {
          color: "#fff",
        },
        grid: {
          color: "rgba(255,255,255,0.2)",
        },
      },
    },
  };

  return (
    <ChartWrapper
      chartId={`line-chart-${title}`}
      chartType="line"
      data={chartData}
      options={chartOptions}
      title={title}
      subtitle={subtitle}
    />
  );
};

CardLineChart.propTypes = {
  title: PropTypes.string.isRequired,
  subtitle: PropTypes.string,
  data: PropTypes.arrayOf(PropTypes.number).isRequired,
  labels: PropTypes.arrayOf(PropTypes.string).isRequired,
  borderColor: PropTypes.string,
  backgroundColor: PropTypes.string,
};

export default CardLineChart;

================
File: components/Cards/CardPageVisits.js
================
// components/Cards/CardPageVisits.js

import React, { useEffect, useState, useContext } from "react";
import axios from "axios";
import PropTypes from "prop-types";
import { AuthContext } from "../../contexts/AuthContext";

export default function CardPageVisits({ apiUrl }) {
  const [pageVisits, setPageVisits] = useState([]);
  const { user } = useContext(AuthContext);

  useEffect(() => {
    const fetchPageVisits = async () => {
      try {
        if (user && user.org_id) {
          const response = await axios.get(`${apiUrl}/api/analytics/page-visits`, {
            params: {
              org_id: user.org_id,
            },
            withCredentials: true,
          });
          setPageVisits(response.data);
        }
      } catch (error) {
        console.error("Error fetching page visits:", error);
      }
    };

    fetchPageVisits();
  }, [apiUrl, user]);

  return (
    <>
      <div className="relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded">
        <div className="rounded-t mb-0 px-4 py-3 border-0">
          <div className="flex flex-wrap items-center">
            <div className="relative w-full px-4 max-w-full flex-grow flex-1">
              <h3 className="font-semibold text-base text-blueGray-700">Page Visits</h3>
            </div>
          </div>
        </div>
        <div className="block w-full overflow-x-auto">
          {/* Page Visits table */}
          <table className="items-center w-full bg-transparent border-collapse">
            <thead>
              <tr>
                <th className="px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">
                  Page Name
                </th>
                <th className="px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">
                  Visitors
                </th>
                <th className="px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">
                  Unique Users
                </th>
              </tr>
            </thead>
            <tbody>
              {pageVisits.length > 0 ? (
                pageVisits.map((visit) => (
                  <tr key={visit.pageName}>
                    <th className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-left">
                      {visit.pageName}
                    </th>
                    <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                      {visit.visitors}
                    </td>
                    <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                      {visit.uniqueUsers}
                    </td>
                  </tr>
                ))
              ) : (
                <tr>
                  <td
                    colSpan="3"
                    className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-center"
                  >
                    No data available.
                  </td>
                </tr>
              )}
            </tbody>
          </table>
        </div>
      </div>
    </>
  );
}

CardPageVisits.propTypes = {
  apiUrl: PropTypes.string.isRequired,
};

================
File: components/Cards/CardPieChart.js
================
import React from "react";
import PropTypes from "prop-types";
import ChartWrapper from "./ChartWrapper";

const CardPieChart = ({ title, data, labels, colors }) => {
  const chartData = {
    labels: labels,
    datasets: [
      {
        data: data,
        backgroundColor:
          colors || ["#0088FE", "#00C49F", "#FFBB28", "#FF8042"],
        hoverBackgroundColor:
          colors || ["#0088FE", "#00C49F", "#FFBB28", "#FF8042"],
      },
    ],
  };

  const chartOptions = {
    maintainAspectRatio: false,
    responsive: true,
    plugins: {
      legend: {
        position: "bottom",
        labels: {
          color: "#4a5568",
        },
      },
      tooltip: {
        callbacks: {
          label: function (context) {
            const label = context.label || "";
            const value = context.parsed;
            const total =
              context.chart._metasets[context.datasetIndex].total || 1;
            const percentage = ((value / total) * 100).toFixed(2);
            return `${label}: ${value} (${percentage}%)`;
          },
        },
      },
    },
  };

  return (
    <ChartWrapper
      chartId={`pie-chart-${title}`}
      chartType="pie"
      data={chartData}
      options={chartOptions}
      title={title}
    />
  );
};

CardPieChart.propTypes = {
  title: PropTypes.string.isRequired,
  data: PropTypes.arrayOf(PropTypes.number).isRequired,
  labels: PropTypes.arrayOf(PropTypes.string).isRequired,
  colors: PropTypes.arrayOf(PropTypes.string),
};

export default CardPieChart;

================
File: components/Cards/CardSocialTraffic.js
================
// components/Cards/CardSocialTraffic.js

import React, { useEffect, useState, useContext } from "react";
import axios from "axios";
import PropTypes from "prop-types";
import { AuthContext } from "../../contexts/AuthContext";

export default function CardSocialTraffic({ apiUrl }) {
  const [socialTraffic, setSocialTraffic] = useState([]);
  const { user } = useContext(AuthContext);

  useEffect(() => {
    const fetchSocialTraffic = async () => {
      try {
        if (user && user.org_id) {
          const response = await axios.get(`${apiUrl}/api/analytics/social-traffic`, {
            params: {
              org_id: user.org_id,
            },
            withCredentials: true,
          });
          setSocialTraffic(response.data);
        }
      } catch (error) {
        console.error("Error fetching social traffic:", error);
      }
    };

    fetchSocialTraffic();
  }, [apiUrl, user]);

  return (
    <>
      <div className="relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded">
        <div className="rounded-t mb-0 px-4 py-3 border-0">
          <div className="flex flex-wrap items-center">
            <div className="relative w-full px-4 max-w-full flex-grow flex-1">
              <h3 className="font-semibold text-base text-blueGray-700">Social Traffic</h3>
            </div>
          </div>
        </div>
        <div className="block w-full overflow-x-auto">
          {/* Social Traffic table */}
          <table className="items-center w-full bg-transparent border-collapse">
            <thead>
              <tr>
                <th className="px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">
                  Source
                </th>
                <th className="px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">
                  Visitors
                </th>
                <th className="px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">
                  Percentage
                </th>
              </tr>
            </thead>
            <tbody>
              {socialTraffic.length > 0 ? (
                socialTraffic.map((source) => (
                  <tr key={source.platform}>
                    <th className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-left">
                      {source.platform}
                    </th>
                    <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                      {source.visitors}
                    </td>
                    <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                      <div className="flex items-center">
                        <span className="mr-2">{source.percentage}%</span>
                        <div className="relative w-full">
                          <div className="overflow-hidden h-2 text-xs flex rounded bg-gray-200">
                            <div
                              style={{ width: `${source.percentage}%` }}
                              className="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-blue-500"
                            ></div>
                          </div>
                        </div>
                      </div>
                    </td>
                  </tr>
                ))
              ) : (
                <tr>
                  <td
                    colSpan="3"
                    className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-center"
                  >
                    No data available.
                  </td>
                </tr>
              )}
            </tbody>
          </table>
        </div>
      </div>
    </>
  );
}

CardSocialTraffic.propTypes = {
  apiUrl: PropTypes.string.isRequired,
};

================
File: components/Cards/CardStats.js
================
// components/Cards/CardStats.js

import React from "react";
import PropTypes from "prop-types";

export default function CardStats({
  statSubtitle,
  statTitle,
  statArrow,
  statPercent,
  statPercentColor,
  statDescripiron,
  statIconName,
  statIconColor,
}) {
  return (
    <>
      <div className="relative flex flex-col min-w-0 break-words bg-white rounded mb-6 xl:mb-0 shadow-lg">
        <div className="flex-auto p-4">
          <div className="flex flex-wrap">
            <div className="relative w-full pr-4 max-w-full flex-grow flex-1">
              <h5 className="uppercase text-blueGray-400 mb-1 text-xs font-semibold">
                {statSubtitle}
              </h5>
              <span className="font-semibold text-xl text-blueGray-700">
                {statTitle}
              </span>
            </div>
            <div className="relative w-auto pl-4 flex-initial">
              <div
                className={
                  "text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full " +
                  statIconColor
                }
              >
                <i className={statIconName}></i>
              </div>
            </div>
          </div>
          <p className="text-sm text-blueGray-400 mt-4">
            <span className={statPercentColor + " mr-2"}>
              <i
                className={
                  statArrow === "up"
                    ? "fas fa-arrow-up"
                    : statArrow === "down"
                    ? "fas fa-arrow-down"
                    : ""
                }
              ></i>{" "}
              {statPercent}%
            </span>
            <span className="whitespace-nowrap">{statDescripiron}</span>
          </p>
        </div>
      </div>
    </>
  );
}

CardStats.defaultProps = {
  statSubtitle: "Traffic",
  statTitle: "350,897",
  statArrow: "up",
  statPercent: "3.48",
  statPercentColor: "text-emerald-500",
  statDescripiron: "Since last month",
  statIconName: "far fa-chart-bar",
  statIconColor: "bg-red-500",
};

CardStats.propTypes = {
  statSubtitle: PropTypes.string,
  statTitle: PropTypes.string,
  statArrow: PropTypes.oneOf(["up", "down"]),
  statPercent: PropTypes.string,
  // can be any of the text color utilities from tailwindcss
  statPercentColor: PropTypes.string,
  statDescripiron: PropTypes.string,
  statIconName: PropTypes.string,
  // can be any of the background color utilities from tailwindcss
  statIconColor: PropTypes.string,
};

================
File: components/Cards/CardTable.js
================
import React from "react";
import PropTypes from "prop-types";

// components

import TableDropdown from "components/Dropdowns/TableDropdown.js";

export default function CardTable({ color }) {
  return (
    <>
      <div
        className={
          "relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded " +
          (color === "light" ? "bg-white" : "bg-blueGray-700 text-white")
        }
      >
        <div className="rounded-t mb-0 px-4 py-3 border-0">
          <div className="flex flex-wrap items-center">
            <div className="relative w-full px-4 max-w-full flex-grow flex-1">
              <h3
                className={
                  "font-semibold text-lg " +
                  (color === "light" ? "text-blueGray-700" : "text-white")
                }
              >
                Card Tables
              </h3>
            </div>
          </div>
        </div>
        <div className="block w-full overflow-x-auto">
          {/* Projects table */}
          <table className="items-center w-full bg-transparent border-collapse">
            <thead>
              <tr>
                <th
                  className={
                    "px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left " +
                    (color === "light"
                      ? "bg-blueGray-50 text-blueGray-500 border-blueGray-100"
                      : "bg-blueGray-600 text-blueGray-200 border-blueGray-500")
                  }
                >
                  Project
                </th>
                <th
                  className={
                    "px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left " +
                    (color === "light"
                      ? "bg-blueGray-50 text-blueGray-500 border-blueGray-100"
                      : "bg-blueGray-600 text-blueGray-200 border-blueGray-500")
                  }
                >
                  Budget
                </th>
                <th
                  className={
                    "px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left " +
                    (color === "light"
                      ? "bg-blueGray-50 text-blueGray-500 border-blueGray-100"
                      : "bg-blueGray-600 text-blueGray-200 border-blueGray-500")
                  }
                >
                  Status
                </th>
                <th
                  className={
                    "px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left " +
                    (color === "light"
                      ? "bg-blueGray-50 text-blueGray-500 border-blueGray-100"
                      : "bg-blueGray-600 text-blueGray-200 border-blueGray-500")
                  }
                >
                  Users
                </th>
                <th
                  className={
                    "px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left " +
                    (color === "light"
                      ? "bg-blueGray-50 text-blueGray-500 border-blueGray-100"
                      : "bg-blueGray-600 text-blueGray-200 border-blueGray-500")
                  }
                >
                  Completion
                </th>
                <th
                  className={
                    "px-6 align-middle border border-solid py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left " +
                    (color === "light"
                      ? "bg-blueGray-50 text-blueGray-500 border-blueGray-100"
                      : "bg-blueGray-600 text-blueGray-200 border-blueGray-500")
                  }
                ></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-left flex items-center">
                  <img
                    src="/img/bootstrap.jpg"
                    className="h-12 w-12 bg-white rounded-full border"
                    alt="..."
                  ></img>{" "}
                  <span
                    className={
                      "ml-3 font-bold " +
                      +(color === "light" ? "text-blueGray-600" : "text-white")
                    }
                  >
                    Argon Design System
                  </span>
                </th>
                <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                  $2,500 USD
                </td>
                <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                  <i className="fas fa-circle text-orange-500 mr-2"></i> pending
                </td>
                <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                  <div className="flex">
                    <img
                      src="/img/team-1-800x800.jpg"
                      alt="..."
                      className="w-10 h-10 rounded-full border-2 border-blueGray-50 shadow"
                    ></img>
                    <img
                      src="/img/team-2-800x800.jpg"
                      alt="..."
                      className="w-10 h-10 rounded-full border-2 border-blueGray-50 shadow -ml-4"
                    ></img>
                    <img
                      src="/img/team-3-800x800.jpg"
                      alt="..."
                      className="w-10 h-10 rounded-full border-2 border-blueGray-50 shadow -ml-4"
                    ></img>
                    <img
                      src="/img/team-4-470x470.png"
                      alt="..."
                      className="w-10 h-10 rounded-full border-2 border-blueGray-50 shadow -ml-4"
                    ></img>
                  </div>
                </td>
                <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                  <div className="flex items-center">
                    <span className="mr-2">60%</span>
                    <div className="relative w-full">
                      <div className="overflow-hidden h-2 text-xs flex rounded bg-red-200">
                        <div
                          style={{ width: "60%" }}
                          className="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-red-500"
                        ></div>
                      </div>
                    </div>
                  </div>
                </td>
                <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-right">
                  <TableDropdown />
                </td>
              </tr>
              <tr>
                <th className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-left flex items-center">
                  <img
                    src="/img/angular.jpg"
                    className="h-12 w-12 bg-white rounded-full border"
                    alt="..."
                  ></img>{" "}
                  <span
                    className={
                      "ml-3 font-bold " +
                      +(color === "light" ? "text-blueGray-600" : "text-white")
                    }
                  >
                    Angular Now UI Kit PRO
                  </span>
                </th>
                <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                  $1,800 USD
                </td>
                <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                  <i className="fas fa-circle text-emerald-500 mr-2"></i>{" "}
                  completed
                </td>
                <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                  <div className="flex">
                    <img
                      src="/img/team-1-800x800.jpg"
                      alt="..."
                      className="w-10 h-10 rounded-full border-2 border-blueGray-50 shadow"
                    ></img>
                    <img
                      src="/img/team-2-800x800.jpg"
                      alt="..."
                      className="w-10 h-10 rounded-full border-2 border-blueGray-50 shadow -ml-4"
                    ></img>
                    <img
                      src="/img/team-3-800x800.jpg"
                      alt="..."
                      className="w-10 h-10 rounded-full border-2 border-blueGray-50 shadow -ml-4"
                    ></img>
                    <img
                      src="/img/team-4-470x470.png"
                      alt="..."
                      className="w-10 h-10 rounded-full border-2 border-blueGray-50 shadow -ml-4"
                    ></img>
                  </div>
                </td>
                <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                  <div className="flex items-center">
                    <span className="mr-2">100%</span>
                    <div className="relative w-full">
                      <div className="overflow-hidden h-2 text-xs flex rounded bg-emerald-200">
                        <div
                          style={{ width: "100%" }}
                          className="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-emerald-500"
                        ></div>
                      </div>
                    </div>
                  </div>
                </td>
                <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-right">
                  <TableDropdown />
                </td>
              </tr>
              <tr>
                <th className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-left flex items-center">
                  <img
                    src="/img/sketch.jpg"
                    className="h-12 w-12 bg-white rounded-full border"
                    alt="..."
                  ></img>{" "}
                  <span
                    className={
                      "ml-3 font-bold " +
                      +(color === "light" ? "text-blueGray-600" : "text-white")
                    }
                  >
                    Black Dashboard Sketch
                  </span>
                </th>
                <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                  $3,150 USD
                </td>
                <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                  <i className="fas fa-circle text-red-500 mr-2"></i> delayed
                </td>
                <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                  <div className="flex">
                    <img
                      src="/img/team-1-800x800.jpg"
                      alt="..."
                      className="w-10 h-10 rounded-full border-2 border-blueGray-50 shadow"
                    ></img>
                    <img
                      src="/img/team-2-800x800.jpg"
                      alt="..."
                      className="w-10 h-10 rounded-full border-2 border-blueGray-50 shadow -ml-4"
                    ></img>
                    <img
                      src="/img/team-3-800x800.jpg"
                      alt="..."
                      className="w-10 h-10 rounded-full border-2 border-blueGray-50 shadow -ml-4"
                    ></img>
                    <img
                      src="/img/team-4-470x470.png"
                      alt="..."
                      className="w-10 h-10 rounded-full border-2 border-blueGray-50 shadow -ml-4"
                    ></img>
                  </div>
                </td>
                <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                  <div className="flex items-center">
                    <span className="mr-2">73%</span>
                    <div className="relative w-full">
                      <div className="overflow-hidden h-2 text-xs flex rounded bg-red-200">
                        <div
                          style={{ width: "73%" }}
                          className="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-red-500"
                        ></div>
                      </div>
                    </div>
                  </div>
                </td>
                <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-right">
                  <TableDropdown />
                </td>
              </tr>
              <tr>
                <th className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-left flex items-center">
                  <img
                    src="/img/react.jpg"
                    className="h-12 w-12 bg-white rounded-full border"
                    alt="..."
                  ></img>{" "}
                  <span
                    className={
                      "ml-3 font-bold " +
                      +(color === "light" ? "text-blueGray-600" : "text-white")
                    }
                  >
                    React Material Dashboard
                  </span>
                </th>
                <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                  $4,400 USD
                </td>
                <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                  <i className="fas fa-circle text-teal-500 mr-2"></i> on
                  schedule
                </td>
                <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                  <div className="flex">
                    <img
                      src="/img/team-1-800x800.jpg"
                      alt="..."
                      className="w-10 h-10 rounded-full border-2 border-blueGray-50 shadow"
                    ></img>
                    <img
                      src="/img/team-2-800x800.jpg"
                      alt="..."
                      className="w-10 h-10 rounded-full border-2 border-blueGray-50 shadow -ml-4"
                    ></img>
                    <img
                      src="/img/team-3-800x800.jpg"
                      alt="..."
                      className="w-10 h-10 rounded-full border-2 border-blueGray-50 shadow -ml-4"
                    ></img>
                    <img
                      src="/img/team-4-470x470.png"
                      alt="..."
                      className="w-10 h-10 rounded-full border-2 border-blueGray-50 shadow -ml-4"
                    ></img>
                  </div>
                </td>
                <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                  <div className="flex items-center">
                    <span className="mr-2">90%</span>
                    <div className="relative w-full">
                      <div className="overflow-hidden h-2 text-xs flex rounded bg-teal-200">
                        <div
                          style={{ width: "90%" }}
                          className="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-teal-500"
                        ></div>
                      </div>
                    </div>
                  </div>
                </td>
                <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-right">
                  <TableDropdown />
                </td>
              </tr>
              <tr>
                <th className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-left flex items-center">
                  <img
                    src="/img/vue.jpg"
                    className="h-12 w-12 bg-white rounded-full border"
                    alt="..."
                  ></img>{" "}
                  <span
                    className={
                      "ml-3 font-bold " +
                      +(color === "light" ? "text-blueGray-600" : "text-white")
                    }
                  >
                    React Material Dashboard
                  </span>
                </th>
                <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                  $2,200 USD
                </td>
                <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                  <i className="fas fa-circle text-emerald-500 mr-2"></i>{" "}
                  completed
                </td>
                <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                  <div className="flex">
                    <img
                      src="/img/team-1-800x800.jpg"
                      alt="..."
                      className="w-10 h-10 rounded-full border-2 border-blueGray-50 shadow"
                    ></img>
                    <img
                      src="/img/team-2-800x800.jpg"
                      alt="..."
                      className="w-10 h-10 rounded-full border-2 border-blueGray-50 shadow -ml-4"
                    ></img>
                    <img
                      src="/img/team-3-800x800.jpg"
                      alt="..."
                      className="w-10 h-10 rounded-full border-2 border-blueGray-50 shadow -ml-4"
                    ></img>
                    <img
                      src="/img/team-4-470x470.png"
                      alt="..."
                      className="w-10 h-10 rounded-full border-2 border-blueGray-50 shadow -ml-4"
                    ></img>
                  </div>
                </td>
                <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4">
                  <div className="flex items-center">
                    <span className="mr-2">100%</span>
                    <div className="relative w-full">
                      <div className="overflow-hidden h-2 text-xs flex rounded bg-emerald-200">
                        <div
                          style={{ width: "100%" }}
                          className="shadow-none flex flex-col text-center whitespace-nowrap text-white justify-center bg-emerald-500"
                        ></div>
                      </div>
                    </div>
                  </div>
                </td>
                <td className="border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 text-right">
                  <TableDropdown />
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </>
  );
}

CardTable.defaultProps = {
  color: "light",
};

CardTable.propTypes = {
  color: PropTypes.oneOf(["light", "dark"]),
};

================
File: components/Cards/ChartWrapper.js
================
import React, { useEffect, useRef } from "react";
import Chart from "chart.js";
import PropTypes from "prop-types";

const ChartWrapper = ({
  chartId,
  chartType,
  data,
  options,
  title,
  subtitle,
  children,
}) => {
  const chartRef = useRef(null);

  useEffect(() => {
    const canvas = document.getElementById(chartId);
    if (canvas) {
      const ctx = canvas.getContext("2d");

      // Destroy existing chart instance if it exists to prevent duplication
      if (chartRef.current) {
        chartRef.current.destroy();
      }

      // Initialize new Chart instance
      chartRef.current = new Chart(ctx, {
        type: chartType,
        data: data,
        options: options,
      });
    }

    // Cleanup on unmount
    return () => {
      if (chartRef.current) {
        chartRef.current.destroy();
      }
    };
  }, [chartId, chartType, data, options]);

  return (
    <div className="relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded">
      <div className="rounded-t mb-0 px-4 py-3 bg-transparent">
        <div className="flex flex-wrap items-center">
          <div className="relative w-full max-w-full flex-grow flex-1">
            {subtitle && (
              <h6 className="uppercase text-blueGray-400 mb-1 text-xs font-semibold">
                {subtitle}
              </h6>
            )}
            {title && (
              <h2 className="text-blueGray-700 text-xl font-semibold">
                {title}
              </h2>
            )}
          </div>
          {children}
        </div>
      </div>
      <div className="p-4 flex-auto">
        {/* Chart */}
        <div className="relative h-350-px">
          <canvas id={chartId}></canvas>
        </div>
      </div>
    </div>
  );
};

ChartWrapper.propTypes = {
  chartId: PropTypes.string.isRequired,
  chartType: PropTypes.oneOf(["bar", "line", "pie", "doughnut", "radar", "polarArea"]).isRequired,
  data: PropTypes.object.isRequired,
  options: PropTypes.object,
  title: PropTypes.string,
  subtitle: PropTypes.string,
  children: PropTypes.node,
};

ChartWrapper.defaultProps = {
  options: {},
  title: "",
  subtitle: "",
  children: null,
};

export default ChartWrapper;

================
File: components/Cards/ChildCard.js
================
// components/Cards/ChildCard.js
import React, { useState } from 'react';
import PropTypes from 'prop-types';
import { useModal, MODAL_TYPES } from '../../contexts/ModalContext';
import axios from 'axios';

const apiUrl = process.env.NEXT_PUBLIC_API_URL;

// Validate apiUrl
if (!apiUrl) {
  throw new Error('NEXT_PUBLIC_API_URL is not defined');
}

const ChildCard = ({ child, onDelete, onUpdateChild }) => {
  const { openModal } = useModal();
  const [loading, setLoading] = useState(false); // Optional: To handle loading state
  const [error, setError] = useState(null); // Optional: To handle errors

  /**
   * Handles the edit action by fetching the latest child data and opening the modal.
   */
  const handleEdit = async (e) => {
    // If this function is called from the card's onClick, prevent default behavior
    if (e) {
      e.stopPropagation(); // Prevent triggering other onClick events
    }
    setLoading(true);
    setError(null);

    try {
      // Fetch child details
      const childResponse = await axios.get(
        `${apiUrl}/api/children/${child.child_id}`,
        { withCredentials: true }
      );

      // Fetch child items
      const itemsResponse = await axios.get(
        `${apiUrl}/api/children/${child.child_id}/items`,
        { withCredentials: true }
      );

      const mergedChild = {
        ...childResponse.data,
        items: itemsResponse.data,
      };

      openModal(MODAL_TYPES.EDIT_CHILD, {
        child: mergedChild,
        onUpdateChild,
      });
    } catch (err) {
      console.error('Error fetching child data:', err);
      setError('Failed to load child data. Please try again.');
    } finally {
      setLoading(false);
    }
  };

  return (
    <div
      className="bg-white p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer"
      onClick={handleEdit} // Set onClick to handleEdit
    >
      <div className="flex justify-between items-center">
        <div className="flex items-center space-x-4">
          {child.child_photo && (
            <img
              src={child.child_photo}
              alt={`${child.child_name}'s profile`}
              className="w-16 h-16 object-cover rounded-full"
            />
          )}
          <h5 className="text-lg font-medium">{child.child_name}</h5>
        </div>
        <div
          className="flex items-center space-x-2"
          onClick={(e) => e.stopPropagation()} // Prevent triggering handleEdit
        >
          <button
            onClick={handleEdit}
            className="bg-yellow-500 text-white px-3 py-1 rounded hover:bg-yellow-600 disabled:opacity-50"
            disabled={loading}
          >
            {loading ? 'Loading...' : 'Edit'}
          </button>
          <button
            onClick={() => onDelete(child.child_id)}
            className="bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600"
          >
            Delete
          </button>
        </div>
      </div>

      {error && (
        <p className="text-red-500 mt-2" role="alert">
          {error}
        </p>
      )}
    </div>
  );
};

ChildCard.propTypes = {
  child: PropTypes.shape({
    child_id: PropTypes.number.isRequired,
    child_name: PropTypes.string.isRequired,
    child_photo: PropTypes.string,
    items: PropTypes.arrayOf(
      PropTypes.shape({
        child_item_id: PropTypes.number,
        child_id: PropTypes.number,
        item_id: PropTypes.number,
        item_name: PropTypes.string,
        description: PropTypes.string,
        price: PropTypes.number,
        item_photo: PropTypes.string,
        quantity: PropTypes.number,
        users_with_item_in_cart: PropTypes.number,
      })
    ),
  }).isRequired,
  onDelete: PropTypes.func.isRequired,
  onUpdateChild: PropTypes.func.isRequired,
};

export default ChildCard;

================
File: components/Cards/ChildList.js
================
// components/Cards/ChildList.js
import React, { useState, useEffect } from 'react';
import PropTypes from 'prop-types';
import ChildCard from './ChildCard';
import { useModal, MODAL_TYPES } from '../../contexts/ModalContext';
import axios from 'axios';

const apiUrl = process.env.NEXT_PUBLIC_API_URL;

// Validate apiUrl
if (!apiUrl) {
  throw new Error('NEXT_PUBLIC_API_URL is not defined');
}

const ChildList = ({ driveId }) => {
  const [children, setChildren] = useState([]);
  const { openModal } = useModal();
  const [loading, setLoading] = useState(true); // Optional: To handle loading state
  const [error, setError] = useState(null); // Optional: To handle errors

  useEffect(() => {
    fetchChildrenWithItems();
  }, [driveId]);

  /**
   * Fetches all children for the given driveId and their associated items.
   */
  const fetchChildrenWithItems = async () => {
    setLoading(true);
    setError(null);
    try {
      // Step 1: Fetch all children for the given driveId
      const response = await axios.get(`${apiUrl}/api/drives/${driveId}`, {
        withCredentials: true,
      });

      const childrenData = response.data.children;

      if (!Array.isArray(childrenData)) {
        throw new Error('Invalid children data format received from server.');
      }

      // Step 2: For each child, fetch their associated items
      const childrenWithItems = await Promise.all(
        childrenData.map(async (child) => {
          try {
            const itemsResponse = await axios.get(
              `${apiUrl}/api/children/${child.child_id}/items`,
              { withCredentials: true }
            );

            const itemsData = itemsResponse.data;

            // Ensure itemsData is an array
            if (!Array.isArray(itemsData)) {
              console.warn(
                `Invalid items data format for child_id ${child.child_id}. Expected an array.`
              );
              return { ...child, items: [] };
            }

            // Merge items into the child object
            return { ...child, items: itemsData };
          } catch (itemsError) {
            console.error(
              `Error fetching items for child_id ${child.child_id}:`,
              itemsError
            );
            // Optionally, you can set items to an empty array or keep previous items
            return { ...child, items: [] };
          }
        })
      );

      setChildren(childrenWithItems);
    } catch (err) {
      console.error('Error fetching children:', err);
      setError('Failed to load children. Please try again later.');
    } finally {
      setLoading(false);
    }
  };

  /**
   * Handles the update of a child (e.g., after editing items).
   * @param {Object} updatedChild - The updated child object returned from the server.
   */
  const handleUpdateChild = (updatedChild) => {
    setChildren((prevChildren) =>
      prevChildren.map((child) =>
        child.child_id === updatedChild.child_id ? updatedChild : child
      )
    );
  };

  /**
   * Handles the deletion of a child.
   * @param {number} childId - The ID of the child to delete.
   */
  const handleDeleteChild = async (childId) => {
    if (confirm('Are you sure you want to delete this child?')) {
      try {
        await axios.delete(`${apiUrl}/api/children/${childId}`, {
          withCredentials: true,
        });
        // Remove the deleted child from the state
        setChildren((prevChildren) =>
          prevChildren.filter((child) => child.child_id !== childId)
        );
      } catch (error) {
        console.error(`Error deleting child_id ${childId}:`, error);
        alert('Failed to delete child. Please try again.');
      }
    }
  };

  /**
   * Triggers the modal to add a new child.
   */
  const triggerAddChildModal = () => {
    openModal(MODAL_TYPES.ADD_CHILD, {
      driveId,
      onAddChild: fetchChildrenWithItems, // Refresh the list after adding
    });
  };

  /**
   * Optional: Loading and Error Handling UI
   */
  if (loading) {
    return <p>Loading children...</p>;
  }

  if (error) {
    return <p className="text-red-500">{error}</p>;
  }

  return (
    <div className="mt-4">
      <div className="flex justify-between items-center mb-4">
        <h4 className="text-lg font-semibold">Children in this Drive</h4>
        <button
          onClick={triggerAddChildModal}
          className="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
        >
          Add Child
        </button>
      </div>

      {children.length > 0 ? (
        <div className="grid grid-cols-1 gap-6">
          {children.map((child) => (
            <ChildCard
              key={child.child_id}
              child={child}
              onDelete={handleDeleteChild}
              onUpdateChild={handleUpdateChild} // Pass the handler to update specific child
            />
          ))}
        </div>
      ) : (
        <p className="text-gray-600">No children added to this drive yet.</p>
      )}
    </div>
  );
};

ChildList.propTypes = {
  driveId: PropTypes.number.isRequired,
};

export default ChildList;

================
File: components/Cards/DriveCard.js
================
// components/Cards/DriveCard.js
import React, { useState } from 'react';
import PropTypes from 'prop-types';
import ChildList from './ChildList'; // Import ChildList
import { useModal, MODAL_TYPES } from '../../contexts/ModalContext';

const DriveCard = ({ drive, onDelete, onUpdateDrive }) => {
  const [showDetails, setShowDetails] = useState(false);
  const { openModal } = useModal();

  const handleDelete = () => {
    if (confirm('Are you sure you want to delete this drive?')) {
      onDelete(drive.drive_id);
    }
  };

  const handleEdit = (e) => {
    e.stopPropagation(); // Prevent triggering the toggle of details
    openModal(MODAL_TYPES.EDIT_DRIVE, {
      drive,
      onUpdateDrive,
    });
  };

  return (
    <div
      className="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer"
      onClick={() => setShowDetails(!showDetails)}
      role="button"
      aria-expanded={showDetails}
      tabIndex={0}
      onKeyPress={(e) => {
        if (e.key === 'Enter') setShowDetails(!showDetails);
      }}
    >
      <div className="flex justify-between items-center">
        <div>
          <h3 className="text-xl font-bold mb-2">{drive.name}</h3>
          <p className="text-gray-600">{drive.description}</p>
        </div>
        <div
          className="flex items-center space-x-2"
          onClick={(e) => e.stopPropagation()} // Prevent triggering the toggle of details
        >
          <button
            onClick={() => setShowDetails(!showDetails)}
            aria-expanded={showDetails}
            tabIndex={0}
            onKeyPress={(e) => {
              if (e.key === 'Enter') setShowDetails(!showDetails);
            }}
            className="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600"
          >
            Manage Drive Donees
          </button>
          <button
            onClick={handleEdit}
            className="bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600"
          >
            Edit Drive Info
          </button>
          <button
            onClick={handleDelete}
            className="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600"
          >
            Delete
          </button>
        </div>
      </div>

      {showDetails && (
        <div className="mt-6">
          <p>
            <strong>Start Date:</strong> {new Date(drive.start_date).toLocaleDateString()}
          </p>
          <p>
            <strong>End Date:</strong> {new Date(drive.end_date).toLocaleDateString()}
          </p>
          <div className="mt-4">
            <ChildList driveId={drive.drive_id} />
          </div>
        </div>
      )}
    </div>
  );
};

DriveCard.propTypes = {
  drive: PropTypes.shape({
    drive_id: PropTypes.number.isRequired,
    name: PropTypes.string.isRequired,
    description: PropTypes.string,
    start_date: PropTypes.string.isRequired,
    end_date: PropTypes.string.isRequired,
  }).isRequired,
  onDelete: PropTypes.func.isRequired,
  onUpdateDrive: PropTypes.func.isRequired,
};

export default DriveCard;

================
File: components/Cards/ItemList.js
================
// components/Cards/ItemList.js
import React, { useState, useEffect } from 'react';
import PropTypes from 'prop-types';
import axios from 'axios';
import { useModal, MODAL_TYPES } from '../../contexts/ModalContext';

const apiUrl = process.env.NEXT_PUBLIC_API_URL;

const ItemList = ({ childId }) => {
  const [items, setItems] = useState([]);
  const { openModal } = useModal();

  useEffect(() => {
    fetchItems();
  }, [childId]);

  const fetchItems = async () => {
    try {
      const response = await axios.get(`${apiUrl}/api/children/${childId}/items`, {
        withCredentials: true,
      });
      setItems(response.data);
    } catch (error) {
      console.error('Error fetching items:', error);
    }
  };

  const handleDeleteItem = async (childItemId) => {
    try {
      await axios.delete(`${apiUrl}/api/children/${childId}/items/${childItemId}`, {
        withCredentials: true,
      });
      fetchItems(); // Refresh items list
    } catch (error) {
      console.error('Error deleting item:', error);
    }
  };

  const triggerItemSelectionModal = () => {
    openModal(MODAL_TYPES.ITEM_SELECTION, {
      childId,
      onItemAdded: fetchItems,
    });
  };

  return (
    <div className="mt-4">
      <h6 className="text-lg font-semibold mb-2">Items Needed</h6>

      {items.length > 0 ? (
        <ul className="list-disc list-inside space-y-2">
          {items.map((item) => (
            <li key={item.child_item_id} className="flex justify-between items-center">
              <span className="truncate max-w-[75%]">
                {item.item_name} - ${Number(item.price).toFixed(2)}
              </span>
              <button
                onClick={() => handleDeleteItem(item.child_item_id)}
                className="bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600"
              >
                Remove
              </button>
            </li>
          ))}
        </ul>
      ) : (
        <p className="text-gray-600">No items added for this child yet.</p>
      )}

      <div className="mt-4">
        <button
          onClick={triggerItemSelectionModal}
          className="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
        >
          Add Item
        </button>
      </div>
    </div>
  );
};

// PropTypes Validation
ItemList.propTypes = {
  childId: PropTypes.number.isRequired, // Ensure childId is provided and is a number
};

export default ItemList;

================
File: components/Cards/OrganizationCard.js
================
// components/Cards/OrganizationCard.js

import React from 'react';
import Link from 'next/link';
import Image from 'next/image';
import PropTypes from 'prop-types';

const OrganizationCard = ({ org }) => {
  return (
    <Link href={`/visible/organization/${org.org_id}`} className="block transform hover:scale-105 transition-transform duration-300 cursor-pointer">
      <div className="bg-white rounded-lg overflow-hidden shadow-md h-full">
        {/* Organization Image */}
        <div className="relative w-full h-48">
          <Image
            src={org.photo}
            alt={org.name}
            fill={true}
            style={{objectFit: "cover"}}
            className="rounded-t-lg"
            priority={false} // Set to true if images are above the fold
          />
        </div>
        {/* Organization Details */}
        <div className="p-4">
          <h4 className="text-xl font-semibold text-blueGray-800">{org.name}</h4>
          <p className="text-blueGray-600 mt-2 line-clamp-3">{org.description}</p>
        </div>
      </div>
    </Link>
  );
};

// Define PropTypes for the component
OrganizationCard.propTypes = {
  org: PropTypes.shape({
    org_id: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired, // 'org_id' can be string or number
    photo: PropTypes.string.isRequired,   // 'photo' must be a string URL
    name: PropTypes.string.isRequired,    // 'name' must be a string
    description: PropTypes.string,        // 'description' is optional
  }).isRequired, // 'org' prop is required
};

export default OrganizationCard;

================
File: components/Dropdowns/IndexDropdown.js
================
import React from "react";
import Link from "next/link";
import { createPopper } from "@popperjs/core";

const IndexDropdown = () => {
  // dropdown props
  const [dropdownPopoverShow, setDropdownPopoverShow] = React.useState(false);
  const btnDropdownRef = React.createRef();
  const popoverDropdownRef = React.createRef();
  const openDropdownPopover = () => {
    createPopper(btnDropdownRef.current, popoverDropdownRef.current, {
      placement: "bottom-start",
    });
    setDropdownPopoverShow(true);
  };
  const closeDropdownPopover = () => {
    setDropdownPopoverShow(false);
  };
  return (<>
    <a
      className="hover:text-blueGray-500 text-blueGray-700 px-3 py-4 lg:py-2 flex items-center text-xs uppercase font-bold"
      href="#pablo"
      ref={btnDropdownRef}
      onClick={(e) => {
        e.preventDefault();
        dropdownPopoverShow ? closeDropdownPopover() : openDropdownPopover();
      }}
    >
      Demo Pages
    </a>
    <div
      ref={popoverDropdownRef}
      className={
        (dropdownPopoverShow ? "block " : "hidden ") +
        "bg-white text-base z-50 float-left py-2 list-none text-left rounded shadow-lg min-w-48"
      }
    >
      <span
        className={
          "text-sm pt-2 pb-0 px-4 font-bold block w-full whitespace-nowrap bg-transparent text-blueGray-400"
        }
      >
        Admin Layout
      </span>
      <Link
        href="/admin/dashboard"
        className={
          "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
        }>
        
          Dashboard
        
      </Link>
      <Link
        href="/admin/settings"
        className={
          "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
        }>
        
          Settings
        
      </Link>
      <Link
        href="/admin/tables"
        className={
          "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
        }>
        
          Tables
        
      </Link>
      <Link
        href="/admin/maps"
        className={
          "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
        }>
        
          Maps
        
      </Link>
      <div className="h-0 mx-4 my-2 border border-solid border-blueGray-100" />
      <span
        className={
          "text-sm pt-2 pb-0 px-4 font-bold block w-full whitespace-nowrap bg-transparent text-blueGray-400"
        }
      >
        Auth Layout
      </span>
      <Link
        href="/auth/login"
        className={
          "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
        }>
        
          Login
        
      </Link>
      <Link
        href="/auth/register"
        className={
          "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
        }>
        
          Register
        
      </Link>
      <div className="h-0 mx-4 my-2 border border-solid border-blueGray-100" />
      <span
        className={
          "text-sm pt-2 pb-0 px-4 font-bold block w-full whitespace-nowrap bg-transparent text-blueGray-400"
        }
      >
        No Layout
      </span>
      <Link
        href="/landing"
        className={
          "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
        }>
        
          Landing
        
      </Link>
      <Link
        href="/profile"
        className={
          "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
        }>
        
          Profile
        
      </Link>
    </div>
  </>);
};

export default IndexDropdown;

================
File: components/Dropdowns/NotificationDropdown.js
================
import React from "react";
import { createPopper } from "@popperjs/core";

const NotificationDropdown = () => {
  // dropdown props
  const [dropdownPopoverShow, setDropdownPopoverShow] = React.useState(false);
  const btnDropdownRef = React.createRef();
  const popoverDropdownRef = React.createRef();
  const openDropdownPopover = () => {
    createPopper(btnDropdownRef.current, popoverDropdownRef.current, {
      placement: "bottom-start",
    });
    setDropdownPopoverShow(true);
  };
  const closeDropdownPopover = () => {
    setDropdownPopoverShow(false);
  };
  return (
    <>
      <a
        className="text-blueGray-500 block py-1 px-3"
        href="#pablo"
        ref={btnDropdownRef}
        onClick={(e) => {
          e.preventDefault();
          dropdownPopoverShow ? closeDropdownPopover() : openDropdownPopover();
        }}
      >
        <i className="fas fa-bell"></i>
      </a>
      <div
        ref={popoverDropdownRef}
        className={
          (dropdownPopoverShow ? "block " : "hidden ") +
          "bg-white text-base z-50 float-left py-2 list-none text-left rounded shadow-lg min-w-48"
        }
      >
        <a
          href="#pablo"
          className={
            "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
          }
          onClick={(e) => e.preventDefault()}
        >
          Action
        </a>
        <a
          href="#pablo"
          className={
            "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
          }
          onClick={(e) => e.preventDefault()}
        >
          Another action
        </a>
        <a
          href="#pablo"
          className={
            "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
          }
          onClick={(e) => e.preventDefault()}
        >
          Something else here
        </a>
        <div className="h-0 my-2 border border-solid border-blueGray-100" />
        <a
          href="#pablo"
          className={
            "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
          }
          onClick={(e) => e.preventDefault()}
        >
          Seprated link
        </a>
      </div>
    </>
  );
};

export default NotificationDropdown;

================
File: components/Dropdowns/PagesDropdown.js
================
import React from "react";
import Link from "next/link";
import { createPopper } from "@popperjs/core";

const PagesDropdown = () => {
  // dropdown props
  const [dropdownPopoverShow, setDropdownPopoverShow] = React.useState(false);
  const btnDropdownRef = React.createRef();
  const popoverDropdownRef = React.createRef();
  const openDropdownPopover = () => {
    createPopper(btnDropdownRef.current, popoverDropdownRef.current, {
      placement: "bottom-start",
    });
    setDropdownPopoverShow(true);
  };
  const closeDropdownPopover = () => {
    setDropdownPopoverShow(false);
  };
  return (<>
    <a
      className="lg:text-white lg:hover:text-blueGray-200 text-blueGray-700 px-3 py-4 lg:py-2 flex items-center text-xs uppercase font-bold"
      href="#pablo"
      ref={btnDropdownRef}
      onClick={(e) => {
        e.preventDefault();
        dropdownPopoverShow ? closeDropdownPopover() : openDropdownPopover();
      }}
    >
      Demo Pages
    </a>
    <div
      ref={popoverDropdownRef}
      className={
        (dropdownPopoverShow ? "block " : "hidden ") +
        "bg-white text-base z-50 float-left py-2 list-none text-left rounded shadow-lg min-w-48"
      }
    >
      <span
        className={
          "text-sm pt-2 pb-0 px-4 font-bold block w-full whitespace-nowrap bg-transparent text-blueGray-400"
        }
      >
        Admin Layout
      </span>
      <Link
        href="/admin/dashboard"
        className={
          "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
        }>
        
          Dashboard
        
      </Link>
      <Link
        href="/admin/settings"
        className={
          "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
        }>
        
          Settings
        
      </Link>
      <Link
        href="/admin/tables"
        className={
          "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
        }>
        
          Tables
        
      </Link>
      <Link
        href="/admin/maps"
        className={
          "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
        }>
        
          Maps
        
      </Link>
      <div className="h-0 mx-4 my-2 border border-solid border-blueGray-100" />
      <span
        className={
          "text-sm pt-2 pb-0 px-4 font-bold block w-full whitespace-nowrap bg-transparent text-blueGray-400"
        }
      >
        Auth Layout
      </span>
      <Link
        href="/auth/login"
        className={
          "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
        }>
        
          Login
        
      </Link>
      <Link
        href="/auth/register"
        className={
          "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
        }>
        
          Register
        
      </Link>
      <div className="h-0 mx-4 my-2 border border-solid border-blueGray-100" />
      <span
        className={
          "text-sm pt-2 pb-0 px-4 font-bold block w-full whitespace-nowrap bg-transparent text-blueGray-400"
        }
      >
        No Layout
      </span>
      <Link
        href="/landing"
        className={
          "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
        }>
        
          Landing
        
      </Link>
      <Link
        href="/profile"
        className={
          "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
        }>
        
          Profile
        
      </Link>
    </div>
  </>);
};

export default PagesDropdown;

================
File: components/Dropdowns/TableDropdown.js
================
import React from "react";
import { createPopper } from "@popperjs/core";

const NotificationDropdown = () => {
  // dropdown props
  const [dropdownPopoverShow, setDropdownPopoverShow] = React.useState(false);
  const btnDropdownRef = React.createRef();
  const popoverDropdownRef = React.createRef();
  const openDropdownPopover = () => {
    createPopper(btnDropdownRef.current, popoverDropdownRef.current, {
      placement: "left-start",
    });
    setDropdownPopoverShow(true);
  };
  const closeDropdownPopover = () => {
    setDropdownPopoverShow(false);
  };
  return (
    <>
      <a
        className="text-blueGray-500 py-1 px-3"
        href="#pablo"
        ref={btnDropdownRef}
        onClick={(e) => {
          e.preventDefault();
          dropdownPopoverShow ? closeDropdownPopover() : openDropdownPopover();
        }}
      >
        <i className="fas fa-ellipsis-v"></i>
      </a>
      <div
        ref={popoverDropdownRef}
        className={
          (dropdownPopoverShow ? "block " : "hidden ") +
          "bg-white text-base z-50 float-left py-2 list-none text-left rounded shadow-lg min-w-48"
        }
      >
        <a
          href="#pablo"
          className={
            "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
          }
          onClick={(e) => e.preventDefault()}
        >
          Action
        </a>
        <a
          href="#pablo"
          className={
            "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
          }
          onClick={(e) => e.preventDefault()}
        >
          Another action
        </a>
        <a
          href="#pablo"
          className={
            "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
          }
          onClick={(e) => e.preventDefault()}
        >
          Something else here
        </a>
      </div>
    </>
  );
};

export default NotificationDropdown;

================
File: components/Dropdowns/UserDropdown.js
================
import React from "react";
import { createPopper } from "@popperjs/core";

const UserDropdown = () => {
  // dropdown props
  const [dropdownPopoverShow, setDropdownPopoverShow] = React.useState(false);
  const btnDropdownRef = React.createRef();
  const popoverDropdownRef = React.createRef();
  const openDropdownPopover = () => {
    createPopper(btnDropdownRef.current, popoverDropdownRef.current, {
      placement: "bottom-start",
    });
    setDropdownPopoverShow(true);
  };
  const closeDropdownPopover = () => {
    setDropdownPopoverShow(false);
  };
  return (
    <>
      <a
        className="text-blueGray-500 block"
        href="#pablo"
        ref={btnDropdownRef}
        onClick={(e) => {
          e.preventDefault();
          dropdownPopoverShow ? closeDropdownPopover() : openDropdownPopover();
        }}
      >
        <div className="items-center flex">
          <span className="w-12 h-12 text-sm text-white bg-blueGray-200 inline-flex items-center justify-center rounded-full">
            <img
              alt="..."
              className="w-full rounded-full align-middle border-none shadow-lg"
              src="/img/team-1-800x800.jpg"
            />
          </span>
        </div>
      </a>
      <div
        ref={popoverDropdownRef}
        className={
          (dropdownPopoverShow ? "block " : "hidden ") +
          "bg-white text-base z-50 float-left py-2 list-none text-left rounded shadow-lg min-w-48"
        }
      >
        <a
          href="#pablo"
          className={
            "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
          }
          onClick={(e) => e.preventDefault()}
        >
          Action
        </a>
        <a
          href="#pablo"
          className={
            "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
          }
          onClick={(e) => e.preventDefault()}
        >
          Another action
        </a>
        <a
          href="#pablo"
          className={
            "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
          }
          onClick={(e) => e.preventDefault()}
        >
          Something else here
        </a>
        <div className="h-0 my-2 border border-solid border-blueGray-100" />
        <a
          href="#pablo"
          className={
            "text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700"
          }
          onClick={(e) => e.preventDefault()}
        >
          Seprated link
        </a>
      </div>
    </>
  );
};

export default UserDropdown;

================
File: components/Footers/Footer.js
================
// src/components/Footers/Footer.js

import React from "react";
import Link from "next/link";
import { FaTwitter, FaFacebookSquare } from "react-icons/fa";

export default function Footer() {
  return (
    <footer className="relative bg-blueGray-200 pt-24 pb-6 overflow-x-hidden">
      {/* Decorative SVG */}
      <div
        className="bottom-auto top-0 left-0 right-0 w-full absolute pointer-events-none overflow-hidden -mt-20 h-20"
        style={{ transform: "translateZ(0)" }}
      >
        <svg
          className="absolute bottom-0 overflow-hidden"
          xmlns="http://www.w3.org/2000/svg"
          preserveAspectRatio="none"
          version="1.1"
          viewBox="0 0 2560 100"
          x="0"
          y="0"
        >
          <polygon
            className="text-blueGray-200 fill-current"
            points="2560 0 2560 100 0 100"
          ></polygon>
        </svg>
      </div>
      
      {/* Main Footer Content */}
      <div className="container mx-auto px-4">
        <div className="flex flex-wrap text-center lg:text-left">
          {/* Contact & Social Media */}
          <div className="w-full lg:w-6/12 px-4">
            <h4 className="text-3xl font-semibold text-blueGray-800">Let&apos;s keep in touch!</h4>
            <h5 className="text-lg mt-0 mb-2 text-blueGray-600">
              Find us on any of these platforms, we respond 1-2 business days.
            </h5>
            <div className="mt-6 flex justify-center lg:justify-start">
              {/* Twitter */}
              <a
                href="https://twitter.com/yourprofile"
                target="_blank"
                rel="noopener noreferrer"
                className="bg-white text-blueGray-400 shadow-lg font-normal h-10 w-10 flex items-center justify-center rounded-full outline-none focus:outline-none mr-2 transition transform hover:scale-110"
                aria-label="Twitter"
              >
                <FaTwitter />
              </a>
              {/* Facebook */}
              <a
                href="https://facebook.com/yourprofile"
                target="_blank"
                rel="noopener noreferrer"
                className="bg-white text-blueGray-600 shadow-lg font-normal h-10 w-10 flex items-center justify-center rounded-full outline-none focus:outline-none mr-2 transition transform hover:scale-110"
                aria-label="Facebook"
              >
                <FaFacebookSquare />
              </a>
            </div>
          </div>
          
          {/* Useful Links */}
          <div className="w-full lg:w-6/12 px-4">
            <div className="flex flex-wrap items-top mb-6">
              {/* Useful Links */}
              <div className="w-full lg:w-4/12 px-4 ml-auto">
                <span className="block uppercase text-blueGray-500 text-sm font-semibold mb-2">
                  Useful Links
                </span>
                <ul className="list-unstyled">
                  <li>
                    <Link href="/about">
                      <span className="text-blueGray-600 hover:text-blueGray-800 font-semibold block pb-2 text-sm cursor-pointer">
                        About Us
                      </span>
                    </Link>
                  </li>
                  <li>
                    <Link href="/blog">
                      <span className="text-blueGray-600 hover:text-blueGray-800 font-semibold block pb-2 text-sm cursor-pointer">
                        Blog
                      </span>
                    </Link>
                  </li>
                  <li>
                    <Link href="/contact">
                      <span className="text-blueGray-600 hover:text-blueGray-800 font-semibold block pb-2 text-sm cursor-pointer">
                        Contact Us
                      </span>
                    </Link>
                  </li>
                  <li>
                    <Link href="/careers">
                      <span className="text-blueGray-600 hover:text-blueGray-800 font-semibold block pb-2 text-sm cursor-pointer">
                        Careers
                      </span>
                    </Link>
                  </li>
                </ul>
              </div>
              
              {/* Other Resources */}
              <div className="w-full lg:w-4/12 px-4">
                <span className="block uppercase text-blueGray-500 text-sm font-semibold mb-2">
                  Other Resources
                </span>
                <ul className="list-unstyled">
                  <li>
                    <span
                      onClick={() => window.open("https://yourwebsite.com/terms", "_blank", "noopener,noreferrer")}
                      className="text-blueGray-600 hover:text-blueGray-800 font-semibold block pb-2 text-sm cursor-pointer"
                    >
                      Terms & Conditions
                    </span>
                  </li>
                  <li>
                    <span
                      onClick={() => window.open("https://yourwebsite.com/privacy", "_blank", "noopener,noreferrer")}
                      className="text-blueGray-600 hover:text-blueGray-800 font-semibold block pb-2 text-sm cursor-pointer"
                    >
                      Privacy Policy
                    </span>
                  </li>
                  <li>
                    <span
                      onClick={() => window.open("https://yourwebsite.com/support", "_blank", "noopener,noreferrer")}
                      className="text-blueGray-600 hover:text-blueGray-800 font-semibold block pb-2 text-sm cursor-pointer"
                    >
                      Support
                    </span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        
        {/* Divider */}
        <hr className="my-6 border-blueGray-300" />
        
        {/* Copyright */}
        <div className="flex flex-wrap items-center md:justify-between justify-center">
          <div className="w-full md:w-4/12 px-4 mx-auto text-center">
            <div className="text-sm text-blueGray-500 font-semibold py-1">
              &copy; {new Date().getFullYear()} GiftDrive. All rights reserved.
            </div>
          </div>
        </div>
      </div>
    </footer>
  );
}

================
File: components/Footers/FooterAdmin.js
================
import React from "react";
import Link from "next/link";

export default function FooterAdmin() {
  return (
    <>
      <footer className="block py-4">
        <div className="container mx-auto px-4">
          <hr className="mb-4 border-b-1 border-blueGray-200" />
          <div className="flex flex-wrap items-center md:justify-between justify-center">
            <div className="w-full md:w-4/12 px-4">
              <div className="text-sm text-blueGray-500 font-semibold py-1 text-center md:text-left">
                Copyright  {new Date().getFullYear()}{" "}
                <Link
                  href="/"
                  className="text-blueGray-500 hover:text-blueGray-700 text-sm font-semibold py-1"
                >
                  GiftDrive
                </Link>
              </div>
            </div>
            <div className="w-full md:w-8/12 px-4">
              <ul className="flex flex-wrap list-none md:justify-end  justify-center">
                <li>
                  <a
                    href="https://www.creative-tim.com/presentation?ref=nnjs-footer-admin"
                    className="text-blueGray-600 hover:text-blueGray-800 text-sm font-semibold block py-1 px-3"
                  >
                    About Us
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </footer>
    </>
  );
}

================
File: components/Footers/FooterSmall.js
================
import React from "react";
import Link from "next/link";

export default function FooterSmall(props) {
  return (
    <>
      <footer
        className={
          (props.absolute
            ? "absolute w-full bottom-0 bg-blueGray-800"
            : "relative") + " pb-6"
        }
      >
        <div className="container mx-auto px-4">
          <hr className="mb-6 border-b-1 border-blueGray-600" />
          <div className="flex flex-wrap items-center md:justify-between justify-center">
            <div className="w-full md:w-4/12 px-4">
              <div className="text-sm text-blueGray-500 font-semibold py-1 text-center md:text-left">
                Copyright  {new Date().getFullYear()}{" "}
                <Link
                  href="/"
                  className="text-white hover:text-blueGray-300 text-sm font-semibold py-1"
                >
                  GiftDrive
                </Link>
              </div>
            </div>
            <div className="w-full md:w-8/12 px-4">
              <ul className="flex flex-wrap list-none md:justify-end  justify-center">
                <li>
                  <Link
                    href="/"
                    className="text-white hover:text-blueGray-300 text-sm font-semibold block py-1 px-3"
                  >
                    About Us
                  </Link>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </footer>
    </>
  );
}

================
File: components/Headers/HeaderStats.js
================
// components/Headers/HeaderStats.js

import React, { useContext } from "react";
import CardStats from "components/Cards/CardStats.js";
import { StatisticsContext } from "../../contexts/StatisticsContext";

export default function HeaderStats() {
  const { statistics } = useContext(StatisticsContext);

  if (!statistics) {
    // Optionally, you can return a loading indicator or placeholders
    return (
      <div className="relative bg-blueGray-800 md:pt-32 pb-32 pt-12">
        <div className="px-4 md:px-10 mx-auto w-full">
          <div className="flex flex-wrap">
            <div className="w-full px-4">
              <div className="flex flex-wrap">
                {/* Total Kids */}
                <div className="w-full sm:w-6/12 lg:w-3/12 px-4">
                  <CardStats
                    statSubtitle="Total Donees"
                    statTitle="Loading..."
                    statArrow="up"
                    statPercent="0.00"
                    statPercentColor="text-emerald-500"
                    statDescripiron="Since last month"
                    statIconName="fas fa-users"
                    statIconColor="bg-red-500"
                  />
                </div>
                {/* Kids Fully Gifted */}
                <div className="w-full sm:w-6/12 lg:w-3/12 px-4">
                  <CardStats
                    statSubtitle="Fully Gifted"
                    statTitle="Loading..."
                    statArrow="up"
                    statPercent="0.00"
                    statPercentColor="text-emerald-500"
                    statDescripiron="Since last month"
                    statIconName="fas fa-check-circle"
                    statIconColor="bg-emerald-500"
                  />
                </div>
                {/* Kids Partially Gifted */}
                <div className="w-full sm:w-6/12 lg:w-3/12 px-4">
                  <CardStats
                    statSubtitle="Partially Gifted"
                    statTitle="Loading..."
                    statArrow="down"
                    statPercent="0.00"
                    statPercentColor="text-red-500"
                    statDescripiron="Since last month"
                    statIconName="fas fa-exclamation-triangle"
                    statIconColor="bg-yellow-500"
                  />
                </div>
                {/* Kids Ungifted */}
                <div className="w-full sm:w-6/12 lg:w-3/12 px-4">
                  <CardStats
                    statSubtitle="Ungifted"
                    statTitle="Loading..."
                    statArrow="down"
                    statPercent="0.00"
                    statPercentColor="text-red-500"
                    statDescripiron="Since last month"
                    statIconName="fas fa-times-circle"
                    statIconColor="bg-red-500"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    );
  }

  // Calculate percentage changes (ensure previous month data is available)
  const calculatePercentageChange = (current, previous) => {
    if (!previous || previous === 0) return 0;
    return ((current - previous) / previous) * 100;
  };

  const totalKidsChange = calculatePercentageChange(
    statistics.totalKids,
    statistics.totalKidsLastMonth
  );
  const kidsFullyGiftedChange = calculatePercentageChange(
    statistics.kidsFullyGifted,
    statistics.kidsFullyGiftedLastMonth
  );
  const kidsPartiallyGiftedChange = calculatePercentageChange(
    statistics.kidsPartiallyGifted,
    statistics.kidsPartiallyGiftedLastMonth
  );
  const kidsUngiftedChange = calculatePercentageChange(
    statistics.kidsUngifted,
    statistics.kidsUngiftedLastMonth
  );

  return (
    <>
      {/* Header */}
      <div className="relative bg-blueGray-800 md:pt-32 pb-32 pt-12">
        <div className="px-4 md:px-10 mx-auto w-full">
          <div>
            <div className="flex flex-wrap">
              {/* Total Kids */}
              <div className="w-full sm:w-6/12 lg:w-3/12 px-4">
                <CardStats
                  statSubtitle="Total Donees"
                  statTitle={statistics.totalKids.toString()}
                  statArrow={totalKidsChange >= 0 ? "up" : "down"}
                  statPercent={Math.abs(totalKidsChange).toFixed(2)}
                  statPercentColor={
                    totalKidsChange >= 0 ? "text-emerald-500" : "text-red-500"
                  }
                  statDescripiron="Since last month"
                  statIconName="fas fa-users"
                  statIconColor="bg-red-500"
                />
              </div>
              {/* Kids Fully Gifted */}
              <div className="w-full sm:w-6/12 lg:w-3/12 px-4">
                <CardStats
                  statSubtitle="Fully Gifted"
                  statTitle={statistics.kidsFullyGifted.toString()}
                  statArrow={kidsFullyGiftedChange >= 0 ? "up" : "down"}
                  statPercent={Math.abs(kidsFullyGiftedChange).toFixed(2)}
                  statPercentColor={
                    kidsFullyGiftedChange >= 0 ? "text-emerald-500" : "text-red-500"
                  }
                  statDescripiron="Since last month"
                  statIconName="fas fa-check-circle"
                  statIconColor="bg-emerald-500"
                />
              </div>
              {/* Kids Partially Gifted */}
              <div className="w-full sm:w-6/12 lg:w-3/12 px-4">
                <CardStats
                  statSubtitle="Partially Gifted"
                  statTitle={statistics.kidsPartiallyGifted.toString()}
                  statArrow={kidsPartiallyGiftedChange >= 0 ? "up" : "down"}
                  statPercent={Math.abs(kidsPartiallyGiftedChange).toFixed(2)}
                  statPercentColor={
                    kidsPartiallyGiftedChange >= 0 ? "text-emerald-500" : "text-red-500"
                  }
                  statDescripiron="Since last month"
                  statIconName="fas fa-exclamation-triangle"
                  statIconColor="bg-yellow-500"
                />
              </div>
              {/* Kids Ungifted */}
              <div className="w-full sm:w-6/12 lg:w-3/12 px-4">
                <CardStats
                  statSubtitle="Ungifted"
                  statTitle={statistics.kidsUngifted.toString()}
                  statArrow={kidsUngiftedChange >= 0 ? "up" : "down"}
                  statPercent={Math.abs(kidsUngiftedChange).toFixed(2)}
                  statPercentColor={
                    kidsUngiftedChange >= 0 ? "text-emerald-500" : "text-red-500"
                  }
                  statDescripiron="Since last month"
                  statIconName="fas fa-times-circle"
                  statIconColor="bg-red-500"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </>
  );
}

================
File: components/Maps/MapExample.js
================
import React from "react";

function MapExample() {
  const mapRef = React.useRef(null);
  React.useEffect(() => {
    let google = window.google;
    let map = mapRef.current;
    let lat = "40.748817";
    let lng = "-73.985428";
    const myLatlng = new google.maps.LatLng(lat, lng);
    const mapOptions = {
      zoom: 12,
      center: myLatlng,
      scrollwheel: false,
      zoomControl: true,
      styles: [
        {
          featureType: "administrative",
          elementType: "labels.text.fill",
          stylers: [{ color: "#444444" }],
        },
        {
          featureType: "landscape",
          elementType: "all",
          stylers: [{ color: "#f2f2f2" }],
        },
        {
          featureType: "poi",
          elementType: "all",
          stylers: [{ visibility: "off" }],
        },
        {
          featureType: "road",
          elementType: "all",
          stylers: [{ saturation: -100 }, { lightness: 45 }],
        },
        {
          featureType: "road.highway",
          elementType: "all",
          stylers: [{ visibility: "simplified" }],
        },
        {
          featureType: "road.arterial",
          elementType: "labels.icon",
          stylers: [{ visibility: "off" }],
        },
        {
          featureType: "transit",
          elementType: "all",
          stylers: [{ visibility: "off" }],
        },
        {
          featureType: "water",
          elementType: "all",
          stylers: [{ color: "#cbd5e0" }, { visibility: "on" }],
        },
      ],
    };

    map = new google.maps.Map(map, mapOptions);

    const marker = new google.maps.Marker({
      position: myLatlng,
      map: map,
      animation: google.maps.Animation.DROP,
      title: "Notus NextJS!",
    });

    const contentString =
      '<div class="info-window-content"><h2>Notus NextJS</h2>' +
      "<p>A free Admin for Tailwind CSS, React, React Hooks, and NextJS.</p></div>";

    const infowindow = new google.maps.InfoWindow({
      content: contentString,
    });

    google.maps.event.addListener(marker, "click", function () {
      infowindow.open(map, marker);
    });
  });
  return (
    <>
      <div className="relative w-full rounded h-600-px">
        <div className="rounded h-full" ref={mapRef} />
      </div>
    </>
  );
}

export default MapExample;

================
File: components/Modals/AddChildModal.js
================
import React, { useState, useEffect } from 'react';
import axios from 'axios';
import PropTypes from 'prop-types'; // Import PropTypes

const apiUrl = process.env.NEXT_PUBLIC_API_URL;

const AddChildModal = ({ onClose, onAddChild, driveId }) => {
  const [defaultChildren, setDefaultChildren] = useState([]);
  const [selectedChildId, setSelectedChildId] = useState(null);
  const [defaultItems, setDefaultItems] = useState([]);
  const [selectedItemIds, setSelectedItemIds] = useState([]);

  useEffect(() => {
    fetchDefaultChildren();
    fetchDefaultItems();
  }, []);

  const fetchDefaultChildren = async () => {
    try {
      const response = await axios.get(`${apiUrl}/api/children/default`, {
        withCredentials: true,
      });
      setDefaultChildren(response.data);
    } catch (error) {
      console.error('Error fetching default children:', error);
    }
  };

  const fetchDefaultItems = async () => {
    try {
      const response = await axios.get(`${apiUrl}/api/items/`, {
        withCredentials: true,
      });
      setDefaultItems(response.data);
    } catch (error) {
      console.error('Error fetching default items:', error);
    }
  };

  const handleItemSelection = (e) => {
    const itemId = e.target.value;
    const isChecked = e.target.checked;
    if (isChecked) {
      setSelectedItemIds([...selectedItemIds, itemId]);
    } else {
      setSelectedItemIds(selectedItemIds.filter((id) => id !== itemId));
    }
  };

  const handleSubmit = async (e) => {
    e.preventDefault();

    try {
      await axios.post(
        `${apiUrl}/api/children`,
        {
          child_id: selectedChildId,
          item_ids: selectedItemIds,
          drive_id: driveId,
        },
        { withCredentials: true }
      );

      onAddChild(); // Refresh the child list
      onClose(); // Close the modal
    } catch (error) {
      console.error('Error adding child:', error);
    }
  };

  return (
    <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
      <div className="bg-white rounded-lg shadow-lg p-6 max-w-lg w-full">
        <h2 className="text-xl font-semibold mb-4">Add Child to Drive</h2>
        <form onSubmit={handleSubmit}>
          <div className="mb-4">
            <label className="block font-medium mb-1">Select Child:</label>
            <select
              value={selectedChildId || ''}
              onChange={(e) => setSelectedChildId(e.target.value)}
              className="w-full border border-gray-300 rounded p-2"
              required
            >
              <option value="" disabled>
                -- Select a Child --
              </option>
              {defaultChildren.map((child) => (
                <option key={child.child_id} value={child.child_id}>
                  {child.name}
                </option>
              ))}
            </select>
          </div>

          <div className="mb-4">
            <label className="block font-medium mb-1">Select Items Needed:</label>
            <div className="space-y-2">
              {defaultItems.map((item) => (
                <div key={item.item_id} className="flex items-center space-x-2">
                  <input
                    type="checkbox"
                    value={item.item_id}
                    checked={selectedItemIds.includes(item.item_id.toString())}
                    onChange={handleItemSelection}
                    className="w-4 h-4"
                  />
                  <label>
                    {item.name} - ${Number(item.price).toFixed(2)}
                  </label>
                </div>
              ))}
            </div>
          </div>

          <div className="flex justify-end space-x-4">
            <button
              type="button"
              onClick={onClose}
              className="px-4 py-2 bg-gray-300 rounded hover:bg-gray-400"
            >
              Cancel
            </button>
            <button
              type="submit"
              className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
            >
              Add Child
            </button>
          </div>
        </form>
      </div>
    </div>
  );
};

// PropTypes Validation
AddChildModal.propTypes = {
  driveId: PropTypes.string.isRequired, // Validate driveId as a string
  onClose: PropTypes.func.isRequired, // Ensure onClose is a function
  onAddChild: PropTypes.func.isRequired, // Ensure onAddChild is a function
};

export default AddChildModal;

================
File: components/Modals/AddDriveModal.js
================
import React, { useState, useEffect, useRef } from 'react';
import PropTypes from 'prop-types';
import axios from 'axios';

const apiUrl = process.env.NEXT_PUBLIC_API_URL;

const AddDriveModal = ({ onClose, onAddDrive }) => {
  const [driveData, setDriveData] = useState({
    name: '',
    description: '',
    photo: null,
    start_date: '',
    end_date: '',
  });

  const [errors, setErrors] = useState({});
  const modalRef = useRef(null);

  // Focus management for accessibility
  useEffect(() => {
    if (modalRef.current) {
      const firstInput = modalRef.current.querySelector('input, textarea, button');
      if (firstInput) firstInput.focus();
    }

    const handleKeyDown = (e) => {
      if (e.key === 'Escape') {
        onClose();
      }
    };

    window.addEventListener('keydown', handleKeyDown);

    // Cleanup on unmount
    return () => window.removeEventListener('keydown', handleKeyDown);
  }, [onClose]);

  const handleInputChange = (e) => {
    const { name, value } = e.target;
    setDriveData({ ...driveData, [name]: value });
  };

  const handleFileChange = (e) => {
    setDriveData({ ...driveData, photo: e.target.files[0] });
  };

  const validateForm = () => {
    const newErrors = {};

    if (!driveData.name || driveData.name.trim().length < 3) {
      newErrors.name = 'Drive name must be at least 3 characters long.';
    }
    if (driveData.description.length > 500) {
      newErrors.description = 'Description must be under 500 characters.';
    }
    if (!driveData.start_date) {
      newErrors.start_date = 'Start date is required.';
    }
    if (!driveData.end_date) {
      newErrors.end_date = 'End date is required.';
    } else if (driveData.end_date < driveData.start_date) {
      newErrors.end_date = 'End date cannot be before the start date.';
    }

    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };

  const handleSubmit = async (e) => {
    e.preventDefault();

    if (!validateForm()) return;

    const formData = new FormData();
    formData.append('name', driveData.name.trim());
    formData.append('description', driveData.description.trim());
    if (driveData.photo) {
      formData.append('photo', driveData.photo);
    }
    formData.append('start_date', driveData.start_date);
    formData.append('end_date', driveData.end_date);

    try {
      const response = await axios.post(
        `${apiUrl}/api/drives`,
        formData,
        {
          withCredentials: true,
          headers: { 'Content-Type': 'multipart/form-data' },
        }
      );

      onAddDrive(response.data); // Refresh the drive list or perform other actions
      onClose(); // Close the modal
    } catch (error) {
      console.error('Error adding drive:', error);
      // Optionally, set a global error message here
    }
  };

  return (
    <div
      className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
      role="dialog"
      aria-modal="true"
      aria-labelledby="add-drive-modal-title"
      ref={modalRef}
    >
      <div className="bg-white rounded-lg shadow-lg p-6 max-w-lg w-full relative">
        {/* Close Button */}
        <button
          onClick={onClose}
          className="absolute top-3 right-3 text-gray-600 hover:text-gray-800"
          aria-label="Close modal"
        >
          &times;
        </button>

        <h2 id="add-drive-modal-title" className="text-xl font-semibold mb-4">
          Add New Drive
        </h2>
        <form onSubmit={handleSubmit} noValidate>
          <div className="mb-4">
            <label htmlFor="drive-name" className="block font-medium mb-1">
              Drive Name
            </label>
            <input
              type="text"
              id="drive-name"
              name="name"
              value={driveData.name}
              onChange={handleInputChange}
              className={`w-full border ${
                errors.name ? 'border-red-500' : 'border-gray-300'
              } rounded p-2`}
              required
              minLength={3}
              aria-invalid={errors.name ? 'true' : 'false'}
              aria-describedby={errors.name ? 'drive-name-error' : undefined}
            />
            {errors.name && (
              <p id="drive-name-error" className="text-red-500 text-sm">
                {errors.name}
              </p>
            )}
          </div>

          <div className="mb-4">
            <label htmlFor="drive-description" className="block font-medium mb-1">
              Description
            </label>
            <textarea
              id="drive-description"
              name="description"
              value={driveData.description}
              onChange={handleInputChange}
              className={`w-full border ${
                errors.description ? 'border-red-500' : 'border-gray-300'
              } rounded p-2`}
              maxLength={500}
              aria-invalid={errors.description ? 'true' : 'false'}
              aria-describedby={errors.description ? 'drive-description-error' : undefined}
            />
            {errors.description && (
              <p id="drive-description-error" className="text-red-500 text-sm">
                {errors.description}
              </p>
            )}
          </div>

          <div className="mb-4">
            <label htmlFor="drive-photo" className="block font-medium mb-1">
              Photo
            </label>
            <input
              type="file"
              id="drive-photo"
              accept="image/*"
              onChange={handleFileChange}
              className="w-full"
            />
            {/* Optionally, display a preview of the uploaded photo */}
            {driveData.photo && (
              <div className="mt-2">
                <img
                  src={URL.createObjectURL(driveData.photo)}
                  alt="Drive Preview"
                  className="w-32 h-32 object-cover rounded"
                />
              </div>
            )}
          </div>

          <div className="mb-4">
            <label htmlFor="start-date" className="block font-medium mb-1">
              Start Date
            </label>
            <input
              type="date"
              id="start-date"
              name="start_date"
              value={driveData.start_date}
              onChange={handleInputChange}
              className={`w-full border ${
                errors.start_date ? 'border-red-500' : 'border-gray-300'
              } rounded p-2`}
              required
              aria-invalid={errors.start_date ? 'true' : 'false'}
              aria-describedby={errors.start_date ? 'start-date-error' : undefined}
            />
            {errors.start_date && (
              <p id="start-date-error" className="text-red-500 text-sm">
                {errors.start_date}
              </p>
            )}
          </div>

          <div className="mb-4">
            <label htmlFor="end-date" className="block font-medium mb-1">
              End Date
            </label>
            <input
              type="date"
              id="end-date"
              name="end_date"
              value={driveData.end_date}
              onChange={handleInputChange}
              className={`w-full border ${
                errors.end_date ? 'border-red-500' : 'border-gray-300'
              } rounded p-2`}
              required
              aria-invalid={errors.end_date ? 'true' : 'false'}
              aria-describedby={errors.end_date ? 'end-date-error' : undefined}
            />
            {errors.end_date && (
              <p id="end-date-error" className="text-red-500 text-sm">
                {errors.end_date}
              </p>
            )}
          </div>

          <div className="flex justify-end space-x-4">
            <button
              type="button"
              onClick={onClose}
              className="px-4 py-2 bg-gray-300 rounded hover:bg-gray-400"
            >
              Cancel
            </button>
            <button
              type="submit"
              className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
            >
              Add Drive
            </button>
          </div>
        </form>
      </div>
    </div>
  );
};

// PropTypes Validation
AddDriveModal.propTypes = {
  onClose: PropTypes.func.isRequired,
  onAddDrive: PropTypes.func.isRequired,
};

export default AddDriveModal;

================
File: components/Modals/EditChildModal.js
================
import React, { useState, useEffect } from 'react';
import axios from 'axios';
import PropTypes from 'prop-types';

const apiUrl = process.env.NEXT_PUBLIC_API_URL;

// Validate apiUrl
if (!apiUrl) {
  throw new Error('NEXT_PUBLIC_API_URL is not defined');
}

const EditChildModal = ({ child, onClose, onUpdateChild }) => {
  // State to manage current items with quantities
  const [currentItems, setCurrentItems] = useState(
    child.items?.map((item) => ({
      child_item_id: Number(item.child_item_id),
      item_id: Number(item.item_id),
      item_name: item.item_name,
      price: Number(item.price),
      quantity: Number(item.quantity) || 1,
      item_photo: item.item_photo,
    })) || []
  );

  // State to manage all items fetched from the backend
  const [allItems, setAllItems] = useState([]);
  
  // State for search term
  const [searchTerm, setSearchTerm] = useState('');

  const [error, setError] = useState(null);
  const [isSubmitting, setIsSubmitting] = useState(false);

  useEffect(() => {
    fetchAllItems();
    fetchCurrentItems(); 
  }, []);

  const fetchAllItems = async () => {
    try {
      const response = await axios.get(`${apiUrl}/api/items/`, {
        withCredentials: true,
      });
      setAllItems(response.data);
    } catch (error) {
      console.error('Error fetching all items:', error);
      setError('Failed to load items. Please try again.');
    }
  };

  // Compute available items by excluding current items
  const availableItems = allItems.filter(
    (item) => !currentItems.some((ci) => ci.item_id === item.item_id)
  );

  // Handler to adjust quantity
  const handleQuantityChange = (childItemId, delta) => {
    setCurrentItems((prevItems) =>
      prevItems.map((item) =>
        item.child_item_id === childItemId
          ? {
              ...item,
              quantity: Math.max(item.quantity + delta, 1),
            }
          : item
      )
    );
  };

  // Handler to remove an item
  // Handler to remove an item
const handleRemoveItem = async (childItemId) => {
    try {
      const response = await axios.delete(
        `${apiUrl}/api/children/${child.child_id}/items/${childItemId}`,
        {
          withCredentials: true,
        }
      );

      console.log('Item removed successfully:', response.data);

      // Fetch the updated list of child items
      await fetchCurrentItems();
    } catch (error) {
      console.error('Error removing item from child:', error);
      setError(
        error.response?.data?.error ||
          'Failed to remove item. Please try again.'
      );
    }
};


  // Handler to add an item
  // Handler to add an item
  const handleAddItem = async (item) => {
    try {
      // Send POST request to add the item
      const response = await axios.post(
        `${apiUrl}/api/children/${child.child_id}/items`,
        {
          item_id: item.item_id,
          config_id: item.config_id || null, // Include config_id if applicable
          quantity: 1, // Default quantity
        },
        {
          headers: {
            'Content-Type': 'application/json',
          },
          withCredentials: true,
        }
      );

      console.log('Item added successfully:', response.data);

      // Fetch the updated list of child items
      await fetchCurrentItems();
    } catch (error) {
      console.error('Error adding item to child:', error);
      setError(
        error.response?.data?.error ||
          'Failed to add item to child. Please try again.'
      );
    }
  };

  // Function to fetch current items for the child
  const fetchCurrentItems = async () => {
    try {
      const response = await axios.get(
        `${apiUrl}/api/children/${child.child_id}/items`,
        {
          withCredentials: true,
        }
      );

      // Update the currentItems state with fetched data
      setCurrentItems(
        response.data.map((item) => ({
          child_item_id: Number(item.child_item_id),
          item_id: Number(item.item_id),
          item_name: item.item_name,
          price: Number(item.price),
          quantity: Number(item.quantity) || 1,
          item_photo: item.item_photo,
        }))
      );
    } catch (error) {
      console.error('Error fetching current items:', error);
      setError('Failed to load current items. Please try again.');
    }
  };



  // Handler for search input
  const handleSearchChange = (e) => {
    setSearchTerm(e.target.value);
  };
  

  // Filtered available items based on search term
  const filteredAvailableItems = availableItems.filter((item) =>
    item.name.toLowerCase().includes(searchTerm.toLowerCase())
  );

  const handleSubmit = async (e) => {
    e.preventDefault();
    setError(null);
    setIsSubmitting(true);
  
    try {
      const payload = {
        child_item_ids: currentItems.map((item) => item.child_item_id),
        quantities: currentItems.reduce((acc, item) => {
          acc[item.child_item_id] = item.quantity;
          return acc;
        }, {}),
      };
  
      const response = await axios.put(
        `${apiUrl}/api/children/${child.child_id}`,
        payload,
        {
          headers: {
            'Content-Type': 'application/json',
          },
          withCredentials: true,
        }
      );
  
      console.log('Child updated successfully:', response.data);
  
      onUpdateChild(response.data);
      onClose();
    } catch (error) {
      console.error('Error updating child:', error);
      setError(
        error.response?.data?.error ||
          'Failed to update child. Please check your inputs and try again.'
      );
    } finally {
      setIsSubmitting(false);
    }
  };
  

  return (
    <div
      role="dialog"
      aria-modal="true"
      aria-labelledby="edit-child-modal-title"
      className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-auto"
    >
      <div
        className="bg-white rounded-lg shadow-lg p-6 max-w-3xl w-full mx-4 my-8"
        role="document"
      >
        <h2 id="edit-child-modal-title" className="text-2xl font-semibold mb-6">
          Manage Child&apos;s Items
        </h2>
        <form onSubmit={handleSubmit}>
          {error && (
            <div className="mb-4 text-red-500" role="alert">
              {error}
            </div>
          )}

          {/* Current Items Section */}
          <div className="mb-6">
            <h3 className="text-xl font-medium mb-3">Current Items</h3>
            {currentItems.length === 0 ? (
              <p className="text-gray-600">No items currently associated with this child.</p>
            ) : (
              <ul className="space-y-4">
                {currentItems.map((item) => (
                  <li
                    key={item.child_item_id}
                    className="flex items-center justify-between bg-gray-100 p-4 rounded"
                  >
                    <div className="flex items-center space-x-4">
                      {item.item_photo && (
                        <img
                          src={item.item_photo}
                          alt={item.item_name}
                          className="w-16 h-16 object-cover rounded"
                        />
                      )}
                      <div>
                        <h4 className="text-lg font-semibold">{item.item_name}</h4>
                        <p className="text-gray-600">${item.price.toFixed(2)}</p>
                      </div>
                    </div>
                    <div className="flex items-center space-x-4">
                      <div className="flex items-center space-x-2">
                        <button
                          type="button"
                          onClick={() => handleQuantityChange(item.child_item_id, -1)}
                          className="px-2 py-1 bg-gray-300 rounded hover:bg-gray-400"
                          aria-label={`Decrease quantity of ${item.item_name}`}
                        >
                          -
                        </button>
                        <span>{item.quantity}</span>
                        <button
                          type="button"
                          onClick={() => handleQuantityChange(item.child_item_id, 1)}
                          className="px-2 py-1 bg-gray-300 rounded hover:bg-gray-400"
                          aria-label={`Increase quantity of ${item.item_name}`}
                        >
                          +
                        </button>
                      </div>
                      <button
                        type="button"
                        onClick={() => handleRemoveItem(item.child_item_id)}
                        className="px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600"
                        aria-label={`Remove ${item.item_name} from child`}
                      >
                        Remove
                      </button>
                    </div>
                  </li>
                ))}

              </ul>
            )}
          </div>

          {/* Available Items Section */}
          <div className="mb-6">
            <h3 className="text-xl font-medium mb-3">Available Items</h3>
            <div className="mb-4">
              <input
                type="text"
                placeholder="Search items..."
                value={searchTerm}
                onChange={handleSearchChange}
                className="w-full border border-gray-300 rounded p-2"
                aria-label="Search available items"
              />
            </div>
            {filteredAvailableItems.length === 0 ? (
              <p className="text-gray-600">No available items match your search.</p>
            ) : (
              <ul className="space-y-4 max-h-64 overflow-y-auto">
                {filteredAvailableItems.map((item) => (
                  <li
                    key={item.item_id}
                    className="flex items-center justify-between bg-gray-50 p-4 rounded"
                  >
                    <div className="flex items-center space-x-4">
                      {item.image_url && (
                        <img
                          src={item.image_url}
                          alt={item.name}
                          className="w-16 h-16 object-cover rounded"
                        />
                      )}
                      <div>
                        <h4 className="text-lg font-semibold">{item.name}</h4>
                        <p className="text-gray-600">${Number(item.price).toFixed(2)}</p>
                      </div>
                    </div>
                    <button
                      type="button"
                      onClick={() => handleAddItem(item)}
                      className="px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600"
                      aria-label={`Add ${item.name} to child`}
                    >
                      Add
                    </button>
                  </li>
                ))}
              </ul>
            )}
          </div>

          {/* Submit and Cancel Buttons */}
          <div className="flex justify-end space-x-4">
            <button
              type="button"
              onClick={onClose}
              className="px-4 py-2 bg-gray-300 rounded hover:bg-gray-400"
            >
              Cancel
            </button>
            <button
              type="submit"
              disabled={isSubmitting}
              className={`px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 ${
                isSubmitting ? 'opacity-50 cursor-not-allowed' : ''
              }`}
            >
              {isSubmitting ? 'Saving...' : 'Save Changes'}
            </button>
          </div>
        </form>
      </div>
    </div>
  );
};

// Enhanced PropTypes Validation
EditChildModal.propTypes = {
  child: PropTypes.shape({
    child_id: PropTypes.number.isRequired,
    child_name: PropTypes.string.isRequired,
    child_photo: PropTypes.string,
    items: PropTypes.arrayOf(
      PropTypes.shape({
        child_item_id: PropTypes.number,
        child_id: PropTypes.number,
        item_id: PropTypes.number,
        item_name: PropTypes.string,
        description: PropTypes.string,
        price: PropTypes.number,
        item_photo: PropTypes.string,
        quantity: PropTypes.number,
        users_with_item_in_cart: PropTypes.number,
      })
    ),
  }).isRequired,
  onClose: PropTypes.func.isRequired,
  onUpdateChild: PropTypes.func.isRequired,
};

export default EditChildModal;

================
File: components/Modals/EditDriveModal.js
================
import React, { useState, useEffect, useRef } from 'react';
import PropTypes from 'prop-types';
import axios from 'axios';

const apiUrl = process.env.NEXT_PUBLIC_API_URL;

const EditDriveModal = ({ drive, onClose, onUpdateDrive }) => {
  const [driveData, setDriveData] = useState({
    name: drive.name || '',
    description: drive.description || '',
    photo: null, // New photo file if uploaded
    start_date: drive.start_date || '',
    end_date: drive.end_date || '',
  });

  const [errors, setErrors] = useState({});
  const modalRef = useRef(null);

  // Focus management for accessibility
  useEffect(() => {
    if (modalRef.current) {
      const firstInput = modalRef.current.querySelector('input, textarea, button');
      if (firstInput) firstInput.focus();
    }

    const handleKeyDown = (e) => {
      if (e.key === 'Escape') {
        onClose();
      }
    };

    window.addEventListener('keydown', handleKeyDown);

    // Cleanup on unmount
    return () => window.removeEventListener('keydown', handleKeyDown);
  }, [onClose]);

  const handleInputChange = (e) => {
    const { name, value } = e.target;
    setDriveData({ ...driveData, [name]: value });
  };

  const handleFileChange = (e) => {
    setDriveData({ ...driveData, photo: e.target.files[0] });
  };

  const validateForm = () => {
    const newErrors = {};

    if (!driveData.name || driveData.name.trim().length < 3) {
      newErrors.name = 'Drive name must be at least 3 characters long.';
    }

    if (driveData.description.length > 500) {
      newErrors.description = 'Description must be under 500 characters.';
    }

    if (!driveData.start_date) {
      newErrors.start_date = 'Start date is required.';
    }

    if (!driveData.end_date) {
      newErrors.end_date = 'End date is required.';
    } else if (driveData.end_date < driveData.start_date) {
      newErrors.end_date = 'End date cannot be before the start date.';
    }

    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };

  const handleSubmit = async (e) => {
    e.preventDefault();

    if (!validateForm()) return; // Prevent submission if validation fails

    const formData = new FormData();
    formData.append('name', driveData.name.trim());
    formData.append('description', driveData.description.trim());
    if (driveData.photo) {
      formData.append('photo', driveData.photo);
    }
    formData.append('start_date', driveData.start_date);
    formData.append('end_date', driveData.end_date);

    try {
      const response = await axios.put(
        `${apiUrl}/api/drives/${drive.drive_id}`,
        formData,
        {
          withCredentials: true,
          headers: { 'Content-Type': 'multipart/form-data' },
        }
      );

      onUpdateDrive(response.data); // Update the drive in the parent component
      onClose(); // Close the modal
    } catch (error) {
      console.error('Error updating drive:', error);
      // Optionally, set a global error message here
    }
  };

  return (
    <div
      className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
      role="dialog"
      aria-modal="true"
      aria-labelledby="edit-drive-modal-title"
      ref={modalRef}
    >
      <div className="bg-white rounded-lg shadow-lg p-6 max-w-lg w-full relative">
        {/* Close Button */}
        <button
          onClick={onClose}
          className="absolute top-3 right-3 text-gray-600 hover:text-gray-800"
          aria-label="Close modal"
        >
          &times;
        </button>

        <h2 id="edit-drive-modal-title" className="text-xl font-semibold mb-4">
          Edit Drive
        </h2>
        <form onSubmit={handleSubmit} noValidate>
          <div className="mb-4">
            <label htmlFor="drive-name" className="block font-medium mb-1">
              Drive Name
            </label>
            <input
              type="text"
              id="drive-name"
              name="name"
              value={driveData.name}
              onChange={handleInputChange}
              className={`w-full border ${
                errors.name ? 'border-red-500' : 'border-gray-300'
              } rounded p-2`}
              required
              minLength={3}
              aria-invalid={errors.name ? 'true' : 'false'}
              aria-describedby={errors.name ? 'drive-name-error' : undefined}
            />
            {errors.name && (
              <p id="drive-name-error" className="text-red-500 text-sm">
                {errors.name}
              </p>
            )}
          </div>

          <div className="mb-4">
            <label htmlFor="drive-description" className="block font-medium mb-1">
              Description
            </label>
            <textarea
              id="drive-description"
              name="description"
              value={driveData.description}
              onChange={handleInputChange}
              className={`w-full border ${
                errors.description ? 'border-red-500' : 'border-gray-300'
              } rounded p-2`}
              maxLength={500}
              aria-invalid={errors.description ? 'true' : 'false'}
              aria-describedby={errors.description ? 'drive-description-error' : undefined}
            />
            {errors.description && (
              <p id="drive-description-error" className="text-red-500 text-sm">
                {errors.description}
              </p>
            )}
          </div>

          <div className="mb-4">
            <label htmlFor="drive-photo" className="block font-medium mb-1">
              Photo
            </label>
            <input
              type="file"
              id="drive-photo"
              accept="image/*"
              onChange={handleFileChange}
              className="w-full"
            />
            {/* Display current photo if exists and no new photo is uploaded */}
            {drive.photo && !driveData.photo && (
              <div className="mt-2">
                <p>Current Photo:</p>
                <img
                  src={drive.photo}
                  alt={drive.name}
                  className="w-32 h-32 object-cover rounded"
                />
              </div>
            )}
            {/* Preview of the new photo */}
            {driveData.photo && (
              <div className="mt-2">
                <img
                  src={URL.createObjectURL(driveData.photo)}
                  alt="Drive Preview"
                  className="w-32 h-32 object-cover rounded"
                />
              </div>
            )}
          </div>

          <div className="mb-4">
            <label htmlFor="start-date" className="block font-medium mb-1">
              Start Date
            </label>
            <input
              type="date"
              id="start-date"
              name="start_date"
              value={driveData.start_date}
              onChange={handleInputChange}
              className={`w-full border ${
                errors.start_date ? 'border-red-500' : 'border-gray-300'
              } rounded p-2`}
              required
              aria-invalid={errors.start_date ? 'true' : 'false'}
              aria-describedby={errors.start_date ? 'start-date-error' : undefined}
            />
            {errors.start_date && (
              <p id="start-date-error" className="text-red-500 text-sm">
                {errors.start_date}
              </p>
            )}
          </div>

          <div className="mb-4">
            <label htmlFor="end-date" className="block font-medium mb-1">
              End Date
            </label>
            <input
              type="date"
              id="end-date"
              name="end_date"
              value={driveData.end_date}
              onChange={handleInputChange}
              className={`w-full border ${
                errors.end_date ? 'border-red-500' : 'border-gray-300'
              } rounded p-2`}
              required
              aria-invalid={errors.end_date ? 'true' : 'false'}
              aria-describedby={errors.end_date ? 'end-date-error' : undefined}
            />
            {errors.end_date && (
              <p id="end-date-error" className="text-red-500 text-sm">
                {errors.end_date}
              </p>
            )}
          </div>

          <div className="flex justify-end space-x-4">
            <button
              type="button"
              onClick={onClose}
              className="px-4 py-2 bg-gray-300 rounded hover:bg-gray-400"
            >
              Cancel
            </button>
            <button
              type="submit"
              className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
            >
              Save Changes
            </button>
          </div>
        </form>
      </div>
    </div>
  );
};

// PropTypes Validation
EditDriveModal.propTypes = {
  drive: PropTypes.shape({
    drive_id: PropTypes.number.isRequired,
    name: PropTypes.string,
    description: PropTypes.string,
    start_date: PropTypes.string,
    end_date: PropTypes.string,
    photo: PropTypes.string,
  }).isRequired,
  onClose: PropTypes.func.isRequired,
  onUpdateDrive: PropTypes.func.isRequired,
};

export default EditDriveModal;

================
File: components/Modals/ItemSelectionModal.js
================
//TODO delete this modal
import React, { useState, useEffect, useRef } from 'react';
import PropTypes from 'prop-types';
import axios from 'axios';

const apiUrl = process.env.NEXT_PUBLIC_API_URL;

const ItemSelectionModal = ({ childId, onClose, onItemAdded }) => {
  const [defaultItems, setDefaultItems] = useState([]);
  const [searchTerm, setSearchTerm] = useState('');
  const [loadingItemId, setLoadingItemId] = useState(null); // Track loading state per item
  const modalRef = useRef(null);

  // Focus management for accessibility
  useEffect(() => {
    if (modalRef.current) {
      const firstInput = modalRef.current.querySelector('input, button');
      if (firstInput) firstInput.focus();
    }

    const handleKeyDown = (e) => {
      if (e.key === 'Escape') {
        onClose();
      }
    };

    window.addEventListener('keydown', handleKeyDown);

    // Cleanup on unmount
    return () => window.removeEventListener('keydown', handleKeyDown);
  }, [onClose]);

  const fetchDefaultItems = async () => {
    try {
      const response = await axios.get(`${apiUrl}/api/items/`, {
        withCredentials: true,
      });
      setDefaultItems(response.data);
    } catch (error) {
      console.error('Error fetching default items:', error);
      // Optionally, set a global error message here
    }
  };

  useEffect(() => {
    fetchDefaultItems();
  }, []);

  const handleAddItem = async (itemId) => {
    setLoadingItemId(itemId); // Start loading for this specific item
    try {
      const response = await axios.post(
        `${apiUrl}/api/children/${childId}/items`,
        { rye_item_id: itemId },
        { withCredentials: true }
      );
      console.log('Item added successfully:', response.data);

      onItemAdded(); // Refresh the item list or perform other actions
      onClose(); // Close the modal
    } catch (error) {
      console.error('Error adding item:', error);
      alert('Failed to add item. Please try again.');
    } finally {
      setLoadingItemId(null); // Reset loading state
    }
  };

  const filteredItems = defaultItems.filter((item) =>
    item.name.toLowerCase().includes(searchTerm.toLowerCase())
  );

  return (
    <div
      className="fixed inset-0 z-50 bg-black bg-opacity-50 flex items-start justify-center"
      role="dialog"
      aria-modal="true"
      aria-labelledby="item-selection-modal-title"
      ref={modalRef}
    >
      {/* Side Modal Container */}
      <div className="bg-white w-80 max-w-full h-full p-6 overflow-y-auto shadow-lg relative">
        {/* Close Button */}
        <button
          onClick={onClose}
          className="absolute top-3 right-3 text-gray-600 hover:text-gray-800"
          aria-label="Close modal"
        >
          &times;
        </button>

        {/* Modal Header */}
        <div className="flex justify-between items-center mb-4">
          <h2 id="item-selection-modal-title" className="text-xl font-semibold">
            Select an Item
          </h2>
        </div>

        {/* Search Bar */}
        <input
          type="text"
          placeholder="Search for an item..."
          value={searchTerm}
          onChange={(e) => setSearchTerm(e.target.value)}
          className="w-full border border-gray-300 rounded px-4 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500"
          aria-label="Search items"
        />

        {/* Items List */}
        <div className="space-y-2">
          {filteredItems.length > 0 ? (
            filteredItems.map((item) => (
              <div
                key={item.rye_item_id}
                className="flex justify-between items-center p-2 border border-gray-200 rounded hover:bg-gray-100"
              >
                <span>{item.name} - ${Number(item.price).toFixed(2)}</span>
                <button
                  onClick={() => handleAddItem(item.rye_item_id)}
                  className={`px-3 py-1 rounded text-white ${
                    loadingItemId === item.rye_item_id
                      ? 'bg-gray-400 cursor-not-allowed'
                      : 'bg-green-500 hover:bg-green-600'
                  }`}
                  disabled={loadingItemId === item.rye_item_id}
                  aria-label={`Add ${item.name}`}
                >
                  {loadingItemId === item.rye_item_id ? 'Adding...' : 'Add'}
                </button>
              </div>
            ))
          ) : (
            <p className="text-gray-600">No items found.</p>
          )}
        </div>
      </div>
    </div>
  );
};

// PropTypes Validation
ItemSelectionModal.propTypes = {
  childId: PropTypes.number.isRequired, // Ensure childId is provided as a number
  onClose: PropTypes.func.isRequired, // Ensure onClose is a function
  onItemAdded: PropTypes.func.isRequired, // Ensure onItemAdded is a function
};

export default ItemSelectionModal;

================
File: components/Modals/ModalRenderer.js
================
import React from 'react';
import { useModal, MODAL_TYPES } from '../../contexts/ModalContext';
import AddChildModal from './AddChildModal';
import EditChildModal from './EditChildModal';
import AddDriveModal from './AddDriveModal';
import EditDriveModal from './EditDriveModal';

const ModalRenderer = () => {
  const { modalState, closeModal } = useModal();

  if (!modalState.isOpen || !modalState.modalType) {
    return null;
  }

  const { modalType, modalProps } = modalState;

  switch (modalType) {
    case MODAL_TYPES.ADD_CHILD:
      return <AddChildModal onClose={closeModal} {...modalProps} />;
    case MODAL_TYPES.EDIT_CHILD:
      return <EditChildModal onClose={closeModal} {...modalProps} />;
    case MODAL_TYPES.ADD_DRIVE:
      return <AddDriveModal onClose={closeModal} {...modalProps} />;
    case MODAL_TYPES.EDIT_DRIVE:
      return <EditDriveModal onClose={closeModal} {...modalProps} />;
    default:
      return null;
  }
};

export default ModalRenderer;

================
File: components/Navbars/AdminNavbar.js
================
import React from "react";

// import UserDropdown from "components/Dropdowns/UserDropdown.js";

export default function Navbar() {
  return (
    <>
      {/* Navbar */}
      <nav className="absolute top-0 left-0 w-full z-10 bg-transparent md:flex-row md:flex-nowrap md:justify-start flex items-center p-4">
        <div className="w-full mx-autp items-center flex justify-between md:flex-nowrap flex-wrap md:px-10 px-4">
          {/* Brand */}
          <a
            className="text-white text-sm uppercase hidden lg:inline-block font-semibold"
            href="#pablo"
            onClick={(e) => e.preventDefault()}
          >
            Dashboard
          </a>
          {/* Form */}
          {/* <form className="md:flex hidden flex-row flex-wrap items-center lg:ml-auto mr-3">
            <div className="relative flex w-full flex-wrap items-stretch">
              <span className="z-10 h-full leading-snug font-normal absolute text-center text-blueGray-300 absolute bg-transparent rounded text-base items-center justify-center w-8 pl-3 py-3">
                <i className="fas fa-search"></i>
              </span>
              <input
                type="text"
                placeholder="Search here..."
                className="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 relative bg-white bg-white rounded text-sm shadow outline-none focus:outline-none focus:ring w-full pl-10"
              />
            </div>
          </form>
          <ul className="flex-col md:flex-row list-none items-center hidden md:flex">
            <UserDropdown />
          </ul> */}
        </div>
      </nav>
      {/* End Navbar */}
    </>
  );
}

================
File: components/Navbars/AuthNavbar.js
================
// src/components/Navbars/AdminNavbar.js

import React, { useContext, useState, useEffect } from 'react';
import Link from 'next/link';
import { AuthContext } from '../../contexts/AuthContext';
import { useRouter } from 'next/router';
import Image from 'next/image';
import { FaShoppingCart } from 'react-icons/fa';

const Navbar = () => {
  const { user, logout } = useContext(AuthContext);
  const [navbarOpen, setNavbarOpen] = useState(false);
  const [scrolled, setScrolled] = useState(false);
  const router = useRouter();

  // Handle scroll event to toggle navbar background
  useEffect(() => {
    const handleScroll = () => {
      const offset = window.scrollY;
      if (offset > 50) {
        setScrolled(true);
      } else {
        setScrolled(false);
      }
    };

    // Add scroll event listener
    window.addEventListener('scroll', handleScroll);

    // Clean up the event listener
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  // Close navbar when route changes
  useEffect(() => {
    const handleRouteChange = () => {
      setNavbarOpen(false);
    };

    router.events.on('routeChangeStart', handleRouteChange);
    return () => {
      router.events.off('routeChangeStart', handleRouteChange);
    };
  }, [router.events]);

  const handleLogout = async (e) => {
    e.preventDefault();
    await logout();
    setNavbarOpen(false); // Close navbar after logout
    router.push('/'); // Redirect to homepage after logout
  };

  // Determine active link
  const isActive = (href) => router.pathname === href;

  return (
    <nav
      className={`fixed top-0 z-50 w-full transition-colors duration-300 ${
        scrolled || navbarOpen ? 'bg-blueGray-800 shadow-lg' : 'bg-transparent'
      }`}
    >
      <div className="container mx-auto px-4 py-3 flex flex-wrap items-center justify-between">
        {/* Brand and Toggle Button */}
        <div className="flex justify-between w-full lg:w-auto">
          <Link href="/">
            <div className="flex items-center text-white text-sm font-bold leading-relaxed mr-4 py-2 whitespace-nowrap uppercase cursor-pointer">
              <Image
                src="https://giveagift-assets.nyc3.cdn.digitaloceanspaces.com/images/GiftDriveLogo.png"
                alt="GiftDrive Logo"
                width={24}
                height={24}
                className="inline-block h-6 w-6 mr-2"
              />
              GiftDrive
            </div>
          </Link>
          <button
            className="text-white cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none"
            type="button"
            onClick={() => setNavbarOpen(!navbarOpen)}
            aria-label="Toggle navigation menu"
            aria-expanded={navbarOpen}
            aria-controls="navbar-menu"
          >
            {/* Hamburger Icon */}
            <svg
              className="h-6 w-6"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
              aria-hidden="true"
            >
              {navbarOpen ? (
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth={2}
                  d="M6 18L18 6M6 6l12 12"
                />
              ) : (
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth={2}
                  d="M4 6h16M4 12h16M4 18h16"
                />
              )}
            </svg>
          </button>
        </div>

        {/* Navbar Links */}
        <div
          className={`lg:flex flex-grow items-center transition-all duration-300 ease-in-out ${
            navbarOpen ? 'block bg-blueGray-800 lg:bg-transparent' : 'hidden'
          }`}
          id="navbar-menu"
        >
          <ul className="flex flex-col lg:flex-row list-none lg:ml-auto">
            <li className="flex items-center">
              <Link href="/visible/orglist">
                <span
                  className={`text-sm font-bold uppercase px-3 py-2 flex items-center text-white hover:text-blueGray-200 ${
                    isActive('/visible/orglist') ? 'text-blueGray-300' : ''
                  }`}
                >
                  Browse all Organizations
                </span>
              </Link>
            </li>

            {user && (
              <>
                <li className="flex items-center">
                  <Link href="/visible/profile">
                    <span
                      className={`text-sm font-bold uppercase px-3 py-2 flex items-center text-white hover:text-blueGray-200 ${
                        isActive('/visible/profile') ? 'text-blueGray-300' : ''
                      }`}
                    >
                      Account
                    </span>
                  </Link>
                </li>

                {user.is_org_admin && (
                  <li className="flex items-center">
                    <Link href="/admin/dashboard">
                      <span
                        className={`text-sm font-bold uppercase px-3 py-2 flex items-center text-white hover:text-blueGray-200 ${
                          isActive('/admin/dashboard') ? 'text-blueGray-300' : ''
                        }`}
                      >
                        My Organization Dashboard
                      </span>
                    </Link>
                  </li>
                )}

                {/* Super Admin Link */}
                {user.is_super_admin && (
                  <li className="flex items-center">
                    <Link href="/admin/superAdmin">
                      <span
                        className={`text-sm font-bold uppercase px-3 py-2 flex items-center text-white hover:text-blueGray-200 ${
                          isActive('/admin/superAdmin') ? 'text-blueGray-300' : ''
                        }`}
                      >
                        Super Admin
                      </span>
                    </Link>
                  </li>
                )}

                <li className="flex items-center">
                  <button
                    onClick={handleLogout}
                    className="text-sm font-bold uppercase px-3 py-2 flex items-center text-white hover:text-blueGray-200 cursor-pointer bg-transparent border-none"
                  >
                    Logout
                  </button>
                </li>
              </>
            )}

            {!user && (
              <>
                <li className="flex items-center">
                  <Link href="/auth/login">
                    <span
                      className={`text-sm font-bold uppercase px-3 py-2 flex items-center text-white hover:text-blueGray-200 ${
                        isActive('/auth/login') ? 'text-blueGray-300' : ''
                      }`}
                    >
                      Login
                    </span>
                  </Link>
                </li>
                <li className="flex items-center">
                  <Link href="/auth/register">
                    <span
                      className={`text-sm font-bold uppercase px-3 py-2 flex items-center text-white hover:text-blueGray-200 ${
                        isActive('/auth/register') ? 'text-blueGray-300' : ''
                      }`}
                    >
                      Register
                    </span>
                  </Link>
                </li>
              </>
            )}

            {user?.is_org_admin && (
              <li className="flex items-center">
                <Link href="/visible/registerorg">
                  <span className="text-sm font-bold uppercase px-3 py-2 flex items-center">
                    <button
                      className="bg-white text-blueGray-700 active:bg-blueGray-50 text-xs font-bold uppercase px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none ease-linear transition-all duration-150"
                      type="button"
                    >
                      Enroll Your Org Now
                    </button>
                  </span>
                </Link>
              </li>
            )}

            {/* Cart Icon for Small Screens */}
            <li className="flex items-center lg:hidden">
              <Link href="/visible/cart">
                <span
                  className={`text-sm font-bold uppercase px-3 py-2 flex items-center text-white hover:text-blueGray-200 ${
                    isActive('/visible/cart') ? 'text-blueGray-300' : ''
                  }`}
                >
                  <FaShoppingCart className="h-6 w-6 mr-1" /> Cart
                </span>
              </Link>
            </li>
          </ul>
        </div>

        {/* Cart Icon for Large Screens */}
        <div className="navbar-cart flex items-center hidden lg:flex">
          <Link href="/visible/cart">
            <span className="flex items-center">
              <FaShoppingCart className="h-6 w-6 text-white" />
            </span>
          </Link>
        </div>
      </div>
    </nav>
  );
};

export default Navbar;

================
File: components/PageChange/PageChange.js
================
import React from "react";

// reactstrap components
// import { Spinner } from "reactstrap";

// core components

export default function PageChange(props) {
  return (
    <div>
      <div
        className="bg-cover fixed z-40 w-full h-full top-0 left-0"
        style={{
          backgroundImage: "url('/img/img-1-1000x600.jpg')",
        }}
      ></div>
      <div className="top-0 left-0 w-full h-full block z-50 absolute bg-black bg-opacity-50"></div>
      <div className="my-32 mx-auto max-w-sm text-center relative z-50 top-0">
        <div className="block mb-4">
          <i className="fas fa-circle-notch animate-spin text-white mx-auto text-6xl"></i>
        </div>
        <h4 className="text-lg font-medium text-white">
          Loading page contents for: {props.path}
        </h4>
      </div>
    </div>
  );
}

================
File: components/Sidebar/Sidebar.js
================
// src/components/Sidebar.js

import React, { useState } from "react";
import Link from "next/link";
import { useRouter } from "next/router";
import { FaBars, FaTimes, FaEdit, FaBullhorn, FaHistory, FaChartLine, FaQuestionCircle } from "react-icons/fa"; // Importing icons
import Image from 'next/image'; // Import Next.js Image component


const Sidebar = () => {
  const [collapseShow, setCollapseShow] = useState("hidden");
  const router = useRouter();

  // Define your admin sections with corresponding routes and icons
  const adminSections = [
    {
      name: "Drive Statistics",
      href: "/admin/dashboard",
      icon: <FaChartLine className="mr-2 text-sm" />,
    },
    {
      name: "Edit Organization Info",
      href: "/admin/editOrgInfo",
      icon: <FaEdit className="mr-2 text-sm" />,
    },
    {
      name: "Current Drives",
      href: "/admin/currentDrives",
      icon: <FaBullhorn className="mr-2 text-sm" />,
    },
    {
      name: "Past Drives",
      href: "/admin/pastDrives",
      icon: <FaHistory className="mr-2 text-sm" />,
    },
    {
      name: "Help Page",
      href: "/admin/help",
      icon: <FaQuestionCircle className="mr-2 text-sm" />,
    },
  ];

  return (
    <>
      <nav className="md:left-0 md:block md:fixed md:top-0 md:bottom-0 md:overflow-y-auto md:flex-row md:flex-nowrap md:overflow-hidden shadow-xl bg-white flex flex-wrap items-center justify-between relative md:w-64 z-10 py-4 px-6">
        <div className="md:flex-col md:items-stretch md:min-h-full md:flex-nowrap px-0 flex flex-wrap items-center justify-between w-full mx-auto">
          
          {/* Toggler */}
          <button
            className="cursor-pointer text-black opacity-50 md:hidden px-3 py-1 text-xl leading-none bg-transparent rounded border border-solid border-transparent"
            type="button"
            onClick={() => setCollapseShow("bg-white m-2 py-3 px-6")}
          >
            <FaBars />
          </button>

          {/* Brand */}
          <Link href="/" className="text-black text-sm font-bold leading-relaxed py-2 whitespace-nowrap uppercase flex items-center">
            {/* Next.js Image component for optimization */}
            <Image
              src="https://giveagift-assets.nyc3.cdn.digitaloceanspaces.com/images/GiftDriveLogo.png"
              alt="GiftDrive Logo"
              width={24}
              height={24}
              className="inline-block h-6 w-6 mr-2"
            />
            GiftDrive
          </Link>

          {/* User Dropdown (Optional) */}
          {/* If you have user-related dropdowns, you can include them here */}
          {/* <ul className="md:hidden items-center flex flex-wrap list-none">
            <li className="inline-block relative">
              <NotificationDropdown />
            </li>
            <li className="inline-block relative">
              <UserDropdown />
            </li>
          </ul> */}

          {/* Collapse */}
          <div
            className={
              "md:flex md:flex-col md:items-stretch md:opacity-100 md:relative md:mt-4 md:shadow-none shadow absolute top-0 left-0 right-0 z-40 overflow-y-auto overflow-x-hidden h-auto items-center flex-1 rounded " +
              collapseShow
            }
          >
            {/* Collapse header */}
            <div className="md:min-w-full md:hidden block pb-4 mb-4 border-b border-solid border-blueGray-200">
              <div className="flex flex-wrap">
                <div className="w-6/12">
                  <Link
                    href="/"
                    className="md:block text-left md:pb-2 text-blueGray-600 mr-0 inline-block whitespace-nowrap text-sm uppercase font-bold p-4 px-0"
                  >
                    Organization Dashboard
                  </Link>
                </div>
                <div className="w-6/12 flex justify-end">
                  <button
                    type="button"
                    className="cursor-pointer text-black opacity-50 md:hidden px-3 py-1 text-xl leading-none bg-transparent rounded border border-solid border-transparent"
                    onClick={() => setCollapseShow("hidden")}
                  >
                    <FaTimes />
                  </button>
                </div>
              </div>
            </div>

            {/* Form (Optional) */}
            {/* If you need a search form within the sidebar on mobile, include it here */}
            {/* <form className="mt-6 mb-4 md:hidden">
              <div className="mb-3 pt-0">
                <input
                  type="text"
                  placeholder="Search"
                  className="border-0 px-3 py-2 h-12 border border-solid  border-blueGray-500 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-base leading-snug shadow-none outline-none focus:outline-none w-full font-normal"
                />
              </div>
            </form> */}

            {/* Divider */}
            <hr className="my-4 md:min-w-full" />

            {/* Heading */}
            <h6 className="md:min-w-full text-blueGray-500 text-xs uppercase font-bold block pt-1 pb-4 no-underline">
              Admin Sections
            </h6>

            {/* Navigation */}
            <ul className="md:flex-col md:min-w-full flex flex-col list-none">
              {adminSections.map((section) => (
                <li className="items-center" key={section.name}>
                  <Link
                    href={section.href}
                    className={
                      "text-xs uppercase py-3 font-bold block " +
                      (router.pathname === section.href
                        ? "text-blue-500 hover:text-blue-600"
                        : "text-blueGray-700 hover:text-blueGray-500")
                    }
                  >
                    {section.icon}
                    {section.name}
                  </Link>
                </li>
              ))}
            </ul>

            {/* Optional: Additional Sections */}
            {/* If you have more sections or nested navigation, include them here */}

          </div>
        </div>
      </nav>
    </>
  );
};

export default Sidebar;

================
File: components/UI/Breadcrumbs.js
================
// src/components/UI/Breadcrumbs.js

import Link from 'next/link';
import PropTypes from 'prop-types';
import React from 'react';

const Breadcrumbs = ({ links }) => {
  return (
    <nav className="flex mb-6" aria-label="Breadcrumb">
      <ol className="inline-flex items-center space-x-1 md:space-x-3">
        {links.map((link, index) => (
          <li key={index} className="inline-flex items-center">
            {index > 0 && (
              <svg
                className="w-6 h-6 text-gray-400"
                fill="currentColor"
                viewBox="0 0 20 20"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fillRule="evenodd"
                  d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                  clipRule="evenodd"
                />
              </svg>
            )}
            <Link href={link.href} passHref
            className={`text-sm font-medium ${
                index === links.length - 1
                  ? 'text-gray-500'
                  : 'text-blue-600 hover:text-blue-800'
              }`}
              aria-current={index === links.length - 1 ? 'page' : undefined}>
                {link.label}
            </Link>
          </li>
        ))}
      </ol>
    </nav>
  );
};

Breadcrumbs.propTypes = {
  links: PropTypes.arrayOf(
    PropTypes.shape({
      href: PropTypes.string.isRequired,
      label: PropTypes.string.isRequired,
    })
  ).isRequired,
};

export default Breadcrumbs;

================
File: components/ErrorBoundary.js
================
// src/components/ErrorBoundary.js

import React from 'react';

class ErrorBoundary extends React.Component {
  constructor(props) {
    super(props);
    this.state = { hasError: false };
  }

  static getDerivedStateFromError(error) {
    return { hasError: true };
  }

  componentDidCatch(error, errorInfo) {
    // You can log the error to an error reporting service here
    console.error("Uncaught error:", error, errorInfo);
  }

  render() {
    if (this.state.hasError) {
      return (
        <div className="flex items-center justify-center min-h-screen bg-blueGray-100">
          <div className="text-center">
            <h1 className="text-4xl font-bold text-blueGray-800 mb-4">Something went wrong.</h1>
            <p className="text-blueGray-600">Please try refreshing the page or contact support if the problem persists.</p>
          </div>
        </div>
      );
    }

    return this.props.children; 
  }
}

export default ErrorBoundary;

================
File: components/Providers.js
================
// src/components/Providers.js

import React from "react";
import { AuthProvider } from '../contexts/AuthContext';
import { CartProvider } from '../contexts/CartContext';
import { StatisticsProvider } from '../contexts/StatisticsContext';

const Providers = ({ children }) => {
  return (
    <AuthProvider>
      <CartProvider>
        <StatisticsProvider>
          {children}
        </StatisticsProvider>
      </CartProvider>
    </AuthProvider>
  );
};

export default Providers;

================
File: contexts/AuthContext.js
================
// src/contexts/AuthContext.js

import React, { createContext, useState, useEffect } from 'react';
import axios from 'axios';

const apiUrl = process.env.NEXT_PUBLIC_API_URL;

export const AuthContext = createContext();

export const AuthProvider = ({ children }) => {
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(true);

  axios.defaults.withCredentials = true;

  useEffect(() => {
    const fetchUser = async () => {
      try {
        const response = await axios.get(`${apiUrl}/api/auth/me`);
        setUser(response.data.user);
      } catch (error) {
        setUser(null);
      } finally {
        setLoading(false);
      }
    };

    fetchUser();
  }, []);

  const login = async (credentials) => {
    try {
      const response = await axios.post(`${apiUrl}/api/auth/login`, credentials);
      setUser(response.data.user);
    } catch (error) {
      throw error;
    }
  };

  const logout = async () => {
    try {
      await axios.post(`${apiUrl}/api/auth/logout`);
      setUser(null);
    } catch (error) {
      throw error;
    }
  };

  return (
    <AuthContext.Provider value={{ user, setUser, loading, login, logout }}>
      {!loading && children}
    </AuthContext.Provider>
  );
};

================
File: contexts/CartContext.js
================
// contexts/CartContext.js

import React, { createContext, useState, useEffect } from 'react';
import axios from 'axios';
import {toast} from 'react-toastify';

export const CartContext = createContext();

const apiUrl = process.env.NEXT_PUBLIC_API_URL;

export const CartProvider = ({ children }) => {
  const [cart, setCart] = useState(null);
  const [loading, setLoading] = useState(true); // Optional: To handle loading states

  useEffect(() => {
    fetchCart();
  }, []);

  /**
   * Fetches the current cart from the backend.
   */
  const fetchCart = async () => {
    setLoading(true);
    try {
      const response = await axios.get(`${apiUrl}/api/cart`, { withCredentials: true });
      setCart(response.data.cart); // Assuming backend sends { cart: { ... } }
    } catch (error) {
      console.error('Error fetching cart:', error.response?.data || error.message);
    } finally {
      setLoading(false);
    }
  };

  /**
   * Adds an item to the cart.
   * @param {number} item_id - The ID of the item to add.
   * @param {number} [config_id] - The configuration ID (optional).
   * @param {number} [child_id] - The child ID associated with the item (optional).
   * @param {number} [quantity=1] - The quantity of the item to add.
   */
  const addToCart = async (item_id, config_id = null, child_id = null, quantity = 1) => {
    try {
      await axios.post(
        `${apiUrl}/api/cart/add`,
        { item_id, config_id, child_id, quantity },
        { withCredentials: true }
      );
      fetchCart();
      toast.success('Item added to cart successfully!');
    } catch (error) {
      console.error('Error adding to cart:', error.response?.data || error.message);
      toast.error('Failed to add item to cart.');
    }
  };

  /**
   * Removes an item from the cart.
   * @param {number} cart_item_id - The ID of the cart item to remove.
   */
  const removeFromCart = async (cart_item_id) => {
    try {
      await axios.post(
        `${apiUrl}/api/cart/remove`,
        { cart_item_id },
        { withCredentials: true }
      );
      fetchCart();
    } catch (error) {
      console.error('Error removing from cart:', error.response?.data || error.message);
    }
  };

  /**
   * Updates the quantity of a cart item.
   * @param {number} cart_item_id - The ID of the cart item to update.
   * @param {number} quantity - The new quantity.
   */
  const updateCartItemQuantity = async (cart_item_id, quantity) => {
    try {
      await axios.post(
        `${apiUrl}/api/cart/update`, // Ensure your backend has an update endpoint
        { cart_item_id, quantity },
        { withCredentials: true }
      );
      fetchCart();
    } catch (error) {
      console.error('Error updating cart item quantity:', error.response?.data || error.message);
    }
  };

  return (
    <CartContext.Provider value={{ cart, addToCart, removeFromCart, updateCartItemQuantity, loading }}>
      {children}
    </CartContext.Provider>
  );
};

================
File: contexts/ModalContext.js
================
import React, { createContext, useState, useContext } from 'react';
import PropTypes from 'prop-types';

// Define modal types
export const MODAL_TYPES = {
  ADD_CHILD: 'ADD_CHILD',
  EDIT_CHILD: 'EDIT_CHILD',
  ADD_DRIVE: 'ADD_DRIVE',
  EDIT_DRIVE: 'EDIT_DRIVE',
  ITEM_SELECTION: 'ITEM_SELECTION',
  // Add more modal types as needed
};

// Create the context
const ModalContext = createContext();

// Custom hook for easy access to the ModalContext
export const useModal = () => useContext(ModalContext);

// ModalProvider component
export const ModalProvider = ({ children }) => {
  const [modalState, setModalState] = useState({
    isOpen: false,
    modalType: null,
    modalProps: {},
  });

  const openModal = (modalType, modalProps = {}) => {
    setModalState({
      isOpen: true,
      modalType,
      modalProps,
    });
  };

  const closeModal = () => {
    setModalState({
      isOpen: false,
      modalType: null,
      modalProps: {},
    });
  };

  return (
    <ModalContext.Provider value={{ modalState, openModal, closeModal }}>
      {children}
    </ModalContext.Provider>
  );
};

ModalProvider.propTypes = {
  children: PropTypes.node.isRequired,
};

================
File: contexts/StatisticsContext.js
================
// contexts/StatisticsContext.js

import React, { createContext, useState } from 'react';
import PropTypes from 'prop-types'; // Import PropTypes

// Create the StatisticsContext
export const StatisticsContext = createContext();

// Create a provider component
export const StatisticsProvider = ({ children }) => {
  const [statistics, setStatistics] = useState(null);

  return (
    <StatisticsContext.Provider value={{ statistics, setStatistics }}>
      {children}
    </StatisticsContext.Provider>
  );
};

// Add prop validation
StatisticsProvider.propTypes = {
  children: PropTypes.node.isRequired, // Validates that children is a React node
};

================
File: layouts/Admin.js
================
import React from "react";

// components

import AdminNavbar from "components/Navbars/AdminNavbar.js";
import Sidebar from "components/Sidebar/Sidebar.js";
import HeaderStats from "components/Headers/HeaderStats.js";
import FooterAdmin from "components/Footers/FooterAdmin.js";

export default function Admin({ children }) {
  return (
    <>
      <Sidebar />
      <div className="relative md:ml-64 bg-blueGray-100">
        <AdminNavbar />
        {/* Header */}
        <HeaderStats />
        <div className="px-4 md:px-10 mx-auto w-full -m-24">
          {children}
          <FooterAdmin />
        </div>
      </div>
    </>
  );
}

================
File: layouts/Auth.js
================
// components/Auth.js

import React from "react";
import PropTypes from "prop-types"; // Import PropTypes

// components
import Navbar from "components/Navbars/AuthNavbar.js";
import FooterSmall from "components/Footers/FooterSmall.js";

export default function Auth({ children }) {
  return (
    <>
      <Navbar transparent />
      <main>
        <section className="relative w-full h-full py-40 min-h-screen">
          <div
            className="absolute top-0 w-full h-full bg-blueGray-800 bg-no-repeat bg-full"
            style={{
              backgroundImage: "url('/img/register_bg_2.png')",
            }}
          ></div>
          {children}
          <FooterSmall absolute />
        </section>
      </main>
    </>
  );
}

// Add prop validation
Auth.propTypes = {
  children: PropTypes.node.isRequired, // Validate that children is a React node and required
};

================
File: pages/admin/currentDrives.js
================
// pages/CurrentDrives.js
import React, { useState, useEffect, useContext } from 'react';
import axios from 'axios';
import DriveCard from '../../components/Cards/DriveCard';
import { useModal, MODAL_TYPES } from '../../contexts/ModalContext';
import { AuthContext } from '../../contexts/AuthContext';
import Admin from 'layouts/Admin.js';

const apiUrl = process.env.NEXT_PUBLIC_API_URL;

const CurrentDrives = () => {
  const [drives, setDrives] = useState([]);
  const { openModal } = useModal();
  const { user } = useContext(AuthContext);

  useEffect(() => {
    if (user && user.org_id) {
      fetchDrives();
    }
  }, [user]);

  const fetchDrives = async () => {
    try {
      const response = await axios.get(`${apiUrl}/api/drives/organization/${user.org_id}/current`, {
        withCredentials: true,
      });
      setDrives(response.data);
    } catch (error) {
      console.error('Error fetching current drives:', error);
    }
  };

  const handleAddDrive = async (driveData) => {
    try {
      const formData = new FormData();
      formData.append('name', driveData.name.trim());
      formData.append('description', driveData.description.trim());
      if (driveData.photo) {
        formData.append('photo', driveData.photo);
      }
      formData.append('start_date', driveData.start_date);
      formData.append('end_date', driveData.end_date);

      const response = await axios.post(`${apiUrl}/api/drives`, formData, {
        withCredentials: true,
        headers: { 'Content-Type': 'multipart/form-data' },
      });

      setDrives([...drives, response.data]);
    } catch (error) {
      console.error('Error adding drive:', error);
    }
  };

  const handleDeleteDrive = async (driveId) => {
    if (confirm('Are you sure you want to delete this drive?')) {
      try {
        await axios.delete(`${apiUrl}/api/drives/${driveId}`, { withCredentials: true });
        setDrives(drives.filter((drive) => drive.drive_id !== driveId));
      } catch (error) {
        console.error('Error deleting drive:', error);
      }
    }
  };

  const triggerAddDriveModal = () => {
    openModal(MODAL_TYPES.ADD_DRIVE, {
      onAddDrive: handleAddDrive,
    });
  };

  return (
    <div className="min-h-screen bg-gray-100 p-6 pt-32">
      <div className="flex justify-between items-center mb-6">
        <h2 className="text-2xl font-semibold">Current Drives</h2>
        <button
          onClick={triggerAddDriveModal}
          className="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600"
        >
          Add New Drive
        </button>
      </div>

      {drives.length > 0 ? (
        <div className="grid grid-cols-1 gap-6">
          {drives.map((drive) => (
            <DriveCard
              key={drive.drive_id}
              drive={drive}
              onDelete={handleDeleteDrive}
              onUpdateDrive={fetchDrives}
            />
          ))}
        </div>
      ) : (
        <p>No current drives available.</p>
      )}
    </div>
  );
};

CurrentDrives.layout = Admin;

export default CurrentDrives;

================
File: pages/admin/dashboard.js
================
// pages/dashboard.js

import React, { useState, useEffect, useContext } from "react";
import axios from "axios";
import DatePicker from "react-datepicker";
import "react-datepicker/dist/react-datepicker.css";

// Import Chart Components
import CardLineChart from "components/Cards/CardLineChart";
import CardBarChart from "components/Cards/CardBarChart";
import CardPieChart from "components/Cards/CardPieChart";
import CardStats from "components/Cards/CardStats";
import CardPageVisits from "components/Cards/CardPageVisits";
import CardSocialTraffic from "components/Cards/CardSocialTraffic";

// Layout
import Admin from "layouts/Admin.js";

// Auth Context
import { AuthContext } from "../../contexts/AuthContext";
import { StatisticsContext } from "../../contexts/StatisticsContext"; // Import the StatisticsContext

export default function Dashboard() {
  const [localStatistics, setLocalStatistics] = useState(null);
  const { user, loading } = useContext(AuthContext);
  const { setStatistics: setGlobalStatistics } = useContext(StatisticsContext); // Destructure setStatistics

  const apiUrl = process.env.NEXT_PUBLIC_API_URL;

  const [startDate, setStartDate] = useState(
    new Date(new Date().setMonth(new Date().getMonth() - 1))
  );
  const [endDate, setEndDate] = useState(new Date());


  useEffect(() => {
    const fetchStatistics = async () => {
      try {
        if (user && user.org_id) {
          const response = await axios.get(
            `${apiUrl}/api/drives/organization/${user.org_id}/statistics`,
            {
              params: {
                startDate: startDate.toISOString(),
                endDate: endDate.toISOString(),
              },
              withCredentials: true,
            }
          );
          setLocalStatistics(response.data);
          setGlobalStatistics(response.data); // Update the global StatisticsContext
        }
      } catch (error) {
        console.error("Error fetching statistics:", error);
      }
    };

    if (!loading) {
      fetchStatistics();
    }
  }, [user, loading, apiUrl, setGlobalStatistics, startDate, endDate]);

  if (loading || !localStatistics) {
    return (
      <div className="flex justify-center items-center h-screen">
        <p className="text-xl">Loading statistics...</p>
      </div>
    );
  }

  return (
    <>
      <div className="flex justify-end p-4">
        <div className="mr-4">
          <label className="block text-sm font-medium text-white">Start Date</label>
          <DatePicker
            selected={startDate}
            onChange={(date) => setStartDate(date)}
            className="mt-1 block w-full border border-gray-300 rounded-md p-2 bg-white text-black"
          />
        </div>
        <div>
          <label className="block text-sm font-medium text-white">End Date</label>
          <DatePicker
            selected={endDate}
            onChange={(date) => setEndDate(date)}
            className="mt-1 block w-full border border-gray-300 rounded-md p-2 bg-white text-black"
          />
        </div>
      </div>
      {/* Charts Section */}
      <div className="flex flex-wrap mt-4">
        {/* Kids Gifted Status Pie Chart */}
        <div className="w-full xl:w-6/12 mb-12 xl:mb-0 px-4">
          <CardPieChart
            title="Donees Gifted Status"
            data={[
              localStatistics.kidsFullyGifted,
              localStatistics.kidsPartiallyGifted,
              localStatistics.kidsUngifted,
            ]}
            labels={["Fully Gifted", "Partially Gifted", "Ungifted"]}
            colors={["#0088FE", "#00C49F", "#FFBB28"]}
          />
        </div>

        {/* Gifts Status Pie Chart */}
        <div className="w-full xl:w-6/12 mb-12 xl:mb-0 px-4">
          <CardPieChart
            title="Gifts Status"
            data={[
              localStatistics.giftsPurchased,
              localStatistics.giftsInCarts,
              localStatistics.giftsUnpurchased,
            ]}
            labels={["Purchased", "In Carts", "Unpurchased"]}
            colors={["#FF8042", "#00C49F", "#FFBB28"]}
          />
        </div>
      </div>

      <div className="flex flex-wrap mt-4">
        {/* Leaderboard of Donors Bar Chart */}
        <div className="w-full xl:w-6/12 mb-12 xl:mb-0 px-4">
          <CardBarChart
            title="Leaderboard of Donors"
            subtitle="Top Donors"
            data={localStatistics.topDonors.map((donor) => donor.amount)}
            labels={localStatistics.topDonors.map((donor) => donor.name)}
            backgroundColor="#8884d8"
          />
        </div>

        {/* Page Views Over Time Line Chart */}
        {localStatistics.pageViewsOverTime && (
          <div className="w-full xl:w-6/12 mb-12 xl:mb-0 px-4">
            <CardLineChart
              title="Page Views Over Time"
              subtitle="Daily Page Views"
              data={localStatistics.pageViewsOverTime.map((pv) => pv.views)}
              labels={localStatistics.pageViewsOverTime.map((pv) =>
                new Date(pv.date).toLocaleDateString()
              )}
              borderColor="#4c51bf"
              backgroundColor="#4c51bf"
            />
          </div>
        )}
      </div>

      {/* Additional Statistics */}
      <div className="flex flex-wrap mt-4">
        {/* Financial Statistics */}
        <div className="w-full xl:w-6/12 mb-12 xl:mb-0 px-4">
          <CardStats
            statSubtitle="Total Money Spent"
            statTitle={`$${localStatistics.totalMoneySpent.toLocaleString()}`}
            statArrow="up"
            statPercent="5.45"
            statPercentColor="text-emerald-500"
            statDescripiron="Since last month"
            statIconName="fas fa-dollar-sign"
            statIconColor="bg-green-500"
          />
        </div>
        <div className="w-full xl:w-6/12 mb-12 xl:mb-0 px-4">
          <CardStats
            statSubtitle="Avg Donation per Person"
            statTitle={`$${localStatistics.avgMoneyDonatedPerPerson.toFixed(2)}`}
            statArrow="up"
            statPercent="2.34"
            statPercentColor="text-emerald-500"
            statDescripiron="Since last month"
            statIconName="fas fa-user-dollar"
            statIconColor="bg-blue-500"
          />
        </div>
        {/* Add more financial stats as needed */}
      </div>

      {/* Page Visits and Social Traffic Tables */}
      <div className="flex flex-wrap mt-4">
        {/* Page Visits */}
        <div className="w-full xl:w-6/12 mb-12 xl:mb-0 px-4">
          <CardPageVisits />
        </div>

        {/* Social Traffic */}
        <div className="w-full xl:w-6/12 px-4">
          <CardSocialTraffic />
        </div>
      </div>
    </>
  );
}

Dashboard.layout = Admin;

================
File: pages/admin/editOrgInfo.js
================
import React, { useState, useEffect, useContext } from 'react';
import axios from 'axios';
import PropTypes from 'prop-types';
import { AuthContext } from '../../contexts/AuthContext';
import Image from 'next/image';

import Admin from "layouts/Admin.js";

const apiUrl = process.env.NEXT_PUBLIC_API_URL;

const EditOrganizationInfo = () => {
  const { user } = useContext(AuthContext);
  const [organization, setOrganization] = useState({
    name: '',
    description: '',
    website: '',
    photo: null,
    address: '',
    city: '',
    country: '',
    postalCode: '',
  });
  const [previewPhoto, setPreviewPhoto] = useState(null); // State for new photo preview
  const [errors, setErrors] = useState({});
  const [loading, setLoading] = useState(false);

  useEffect(() => {
    if (user && user.org_id) {
      fetchOrganizationInfo();
    }

    // Cleanup the object URL when component unmounts or when a new file is selected
    return () => {
      if (previewPhoto) {
        URL.revokeObjectURL(previewPhoto);
      }
    };
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [user]);

  const fetchOrganizationInfo = async () => {
    try {
      const response = await axios.get(
        `${apiUrl}/api/organizations/${user.org_id}`,
        { withCredentials: true }
      );

      // Debugging log
      console.log('Fetched organization data:', response.data);

      // Assuming the API returns address details
      setOrganization({
        name: response.data.name || '',
        description: response.data.description || '',
        website: response.data.website || '',
        photo: response.data.photo || null,
        address: response.data.address || '',
        city: response.data.city || '',
        country: response.data.country || '',
        postalCode: response.data.postalCode || '',
      });
    } catch (error) {
      console.error('Error fetching organization info:', error);
    }
  };

  const handleInputChange = (e) => {
    const { name, value } = e.target;
    setOrganization({ ...organization, [name]: value });
  };

  const handleFileChange = (e) => {
    const file = e.target.files[0];
    setOrganization({ ...organization, photo: file });

    if (file) {
      // Revoke the previous object URL if it exists to prevent memory leaks
      if (previewPhoto) {
        URL.revokeObjectURL(previewPhoto);
      }
      const previewUrl = URL.createObjectURL(file);
      setPreviewPhoto(previewUrl);
    } else {
      // If no file is selected, remove the preview
      if (previewPhoto) {
        URL.revokeObjectURL(previewPhoto);
      }
      setPreviewPhoto(null);
    }
  };

  const validateForm = () => {
    const newErrors = {};

    if (!organization.name || organization.name.length < 3) {
      newErrors.name = 'Organization name must be at least 3 characters long.';
    }
    if (organization.description.length > 500) {
      newErrors.description = 'Description must be under 500 characters.';
    }
    // Add more validations as needed

    setErrors(newErrors);
    return Object.keys(newErrors).length === 0;
  };

  const handleSubmit = async (e) => {
    e.preventDefault();

    if (!validateForm()) return;

    const formData = new FormData();
    formData.append('name', organization.name);
    formData.append('description', organization.description);
    formData.append('website', organization.website);
    formData.append('address', organization.address);
    formData.append('city', organization.city);
    formData.append('country', organization.country);
    formData.append('postalCode', organization.postalCode);
    if (organization.photo) {
      formData.append('photo', organization.photo);
    }

    try {
      setLoading(true);
      await axios.put(
        `${apiUrl}/api/organizations/${user.org_id}`,
        formData,
        {
          withCredentials: true,
          headers: { 'Content-Type': 'multipart/form-data' },
        }
      );
      alert('Organization info updated successfully!');
      setLoading(false);
      // Optionally, refetch organization info to update the state with the new photo URL
      fetchOrganizationInfo();
      // Reset preview photo after successful upload
      if (previewPhoto) {
        URL.revokeObjectURL(previewPhoto);
        setPreviewPhoto(null);
      }
    } catch (error) {
      console.error('Error updating organization info:', error);
      setLoading(false);
    }
  };

  return (
    <div className="min-h-screen bg-blueGray-100 p-6 pt-32">
      <div className="relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-white border-0">
        <div className="rounded-t bg-white mb-0 px-6 py-6">
          <div className="text-center flex justify-between">
            <h6 className="text-blueGray-700 text-xl font-bold">Edit Organization Info</h6>
            <button
              className="bg-blueGray-700 active:bg-blueGray-600 text-white font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150"
              type="button"
              onClick={() => window.history.back()}
            >
              Cancel
            </button>
          </div>
        </div>
        <div className="flex-auto px-4 lg:px-10 py-10 pt-0">
          <form onSubmit={handleSubmit}>
            {/* Organization Information */}
            <h6 className="text-blueGray-400 text-sm mt-3 mb-6 font-bold uppercase">
              Organization Information
            </h6>
            <div className="flex flex-wrap">
              <div className="w-full lg:w-6/12 px-4">
                <div className="relative w-full mb-3">
                  <label
                    className="block uppercase text-blueGray-600 text-xs font-bold mb-2"
                    htmlFor="name"
                  >
                    Organization Name
                  </label>
                  <input
                    type="text"
                    name="name"
                    value={organization.name}
                    onChange={handleInputChange}
                    className={`border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150 ${
                      errors.name ? 'border-red-500' : ''
                    }`}
                    placeholder="Organization Name"
                    required
                    minLength={3}
                  />
                  {errors.name && (
                    <p className="text-red-500 text-xs mt-1">{errors.name}</p>
                  )}
                </div>
              </div>
              <div className="w-full lg:w-6/12 px-4">
                <div className="relative w-full mb-3">
                  <label
                    className="block uppercase text-blueGray-600 text-xs font-bold mb-2"
                    htmlFor="website"
                  >
                    Website
                  </label>
                  <input
                    type="url"
                    name="website"
                    value={organization.website}
                    onChange={handleInputChange}
                    className="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
                    placeholder="https://example.com"
                  />
                </div>
              </div>
              <div className="w-full px-4">
                <div className="relative w-full mb-3">
                  <label
                    className="block uppercase text-blueGray-600 text-xs font-bold mb-2"
                    htmlFor="description"
                  >
                    Description
                  </label>
                  <textarea
                    name="description"
                    value={organization.description}
                    onChange={handleInputChange}
                    className={`border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150 ${
                      errors.description ? 'border-red-500' : ''
                    }`}
                    placeholder="Organization Description"
                    maxLength={500}
                    rows="4"
                  ></textarea>
                  {errors.description && (
                    <p className="text-red-500 text-xs mt-1">{errors.description}</p>
                  )}
                </div>
              </div>
            </div>

            <hr className="mt-6 border-b-1 border-blueGray-300" />

            {/* Contact Information */}
            <h6 className="text-blueGray-400 text-sm mt-3 mb-6 font-bold uppercase">
              Contact Information
            </h6>
            <div className="flex flex-wrap">
              <div className="w-full lg:w-6/12 px-4">
                <div className="relative w-full mb-3">
                  <label
                    className="block uppercase text-blueGray-600 text-xs font-bold mb-2"
                    htmlFor="address"
                  >
                    Address
                  </label>
                  <input
                    type="text"
                    name="address"
                    value={organization.address}
                    onChange={handleInputChange}
                    className="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
                    placeholder="1234 Main St"
                  />
                </div>
              </div>
              <div className="w-full lg:w-3/12 px-4">
                <div className="relative w-full mb-3">
                  <label
                    className="block uppercase text-blueGray-600 text-xs font-bold mb-2"
                    htmlFor="city"
                  >
                    City
                  </label>
                  <input
                    type="text"
                    name="city"
                    value={organization.city}
                    onChange={handleInputChange}
                    className="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
                    placeholder="New York"
                  />
                </div>
              </div>
              <div className="w-full lg:w-3/12 px-4">
                <div className="relative w-full mb-3">
                  <label
                    className="block uppercase text-blueGray-600 text-xs font-bold mb-2"
                    htmlFor="country"
                  >
                    Country
                  </label>
                  <input
                    type="text"
                    name="country"
                    value={organization.country}
                    onChange={handleInputChange}
                    className="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
                    placeholder="United States"
                  />
                </div>
              </div>
              <div className="w-full lg:w-3/12 px-4">
                <div className="relative w-full mb-3">
                  <label
                    className="block uppercase text-blueGray-600 text-xs font-bold mb-2"
                    htmlFor="postalCode"
                  >
                    Postal Code
                  </label>
                  <input
                    type="text"
                    name="postalCode"
                    value={organization.postalCode}
                    onChange={handleInputChange}
                    className="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
                    placeholder="10001"
                  />
                </div>
              </div>
            </div>

            <hr className="mt-6 border-b-1 border-blueGray-300" />

            {/* Photo Upload */}
            <h6 className="text-blueGray-400 text-sm mt-3 mb-6 font-bold uppercase">
              Organization Photo
            </h6>
            <div className="flex flex-wrap">
              <div className="w-full px-4">
                <div className="relative w-full mb-3">
                  <input
                    type="file"
                    accept="image/*"
                    onChange={handleFileChange}
                    className="border-0 px-3 py-3 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
                  />
                  {/* Display Current Photo */}
                  {organization.photo && typeof organization.photo === 'string' && (
                    <div className="mt-2 flex items-center">
                      <p className="text-blueGray-700 text-sm mr-2">Current Photo:</p>
                      <div className="relative w-32 h-32">
                        <Image
                          src={organization.photo}
                          alt="Organization Photo"
                          className="rounded object-cover"
                          layout="fill" // Use 'fill' with proper parent styling
                          objectFit="cover"
                          priority={true} // Optional: prioritize loading if necessary
                        />
                      </div>
                    </div>
                  )}
                  {/* Display New Photo Preview */}
                  {previewPhoto && (
                    <div className="mt-2 flex items-center">
                      <p className="text-blueGray-700 text-sm mr-2">New Photo Preview:</p>
                      <div className="relative w-32 h-32">
                        <Image
                          src={previewPhoto}
                          alt="New Organization Photo"
                          className="rounded object-cover"
                          layout="fill"
                          objectFit="cover"
                        />
                      </div>
                    </div>
                  )}
                </div>
              </div>
            </div>

            <hr className="mt-6 border-b-1 border-blueGray-300" />

            {/* Submit Button */}
            <div className="flex justify-end">
              <button
                type="submit"
                className={`bg-blueGray-700 text-white active:bg-blueGray-600 font-bold uppercase text-xs px-4 py-2 rounded shadow hover:shadow-md outline-none focus:outline-none mr-1 ease-linear transition-all duration-150 ${
                  loading ? 'bg-blueGray-500 cursor-not-allowed' : ''
                }`}
                disabled={loading}
              >
                {loading ? 'Saving...' : 'Save Changes'}
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  );
};

EditOrganizationInfo.propTypes = {
  user: PropTypes.shape({
    org_id: PropTypes.number.isRequired,
  }),
};

EditOrganizationInfo.layout = Admin;

export default EditOrganizationInfo;

================
File: pages/admin/help.js
================
import React from 'react';

import Admin from "layouts/Admin.js";

const HelpPage = () => {
  const faqItems = [
    {
      question: "How do I create a new drive?",
      answer: "You can create a new drive by navigating to the 'Current Drives' section and clicking on the 'Add New Drive' button.",
    },
    {
      question: "How do I edit a drive?",
      answer: "To edit a drive, click the 'Edit' button on the relevant drive card in the Current Drives section.",
    },
    {
      question: "How do I delete a drive?",
      answer: "Click the 'Delete' button on the drive card. Please note that this action is irreversible.",
    },
    {
      question: "What is a drive?",
      answer: "A drive is a campaign where organizations collect donations or gifts for a specific purpose or group.",
    },
    {
      question: "How do I contact support?",
      answer: "You can contact support by sending an email to support@example.com.",
    },
  ];

  return (
    <div className="min-h-screen bg-gray-100 p-6 pt-32">
      <h2 className="text-2xl font-semibold mb-4">Help & FAQ</h2>

      <div className="space-y-6">
        {faqItems.map((item, index) => (
          <div
            key={index}
            className="bg-white p-4 rounded shadow-md hover:shadow-lg transition-shadow"
          >
            <h3 className="text-lg font-medium">{item.question}</h3>
            <p className="text-gray-600 mt-2">{item.answer}</p>
          </div>
        ))}
      </div>

      <div className="mt-10">
        <h3 className="text-lg font-medium mb-2">Need Further Assistance?</h3>
        <p className="text-gray-600">
          If your question isn&apos;t listed above, please reach out to our support team at:
        </p>
        <a
          href="mailto:support@example.com"
          className="text-blue-500 hover:underline"
        >
          support@example.com
        </a>
      </div>
    </div>
  );
};

HelpPage.layout = Admin;

export default HelpPage;

================
File: pages/admin/maps.js
================
import React from "react";

// components

import MapExample from "components/Maps/MapExample.js";

// layout for page

import Admin from "layouts/Admin.js";

export default function Maps() {
  return (
    <>
      <div className="flex flex-wrap">
        <div className="w-full px-4">
          <div className="relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded">
            <MapExample />
          </div>
        </div>
      </div>
    </>
  );
}

Maps.layout = Admin;

================
File: pages/admin/pastDrives.js
================
import React, { useState, useEffect, useContext } from 'react';
import axios from 'axios';
import DriveCard from '../../components/Cards/DriveCard';
import { AuthContext } from '../../contexts/AuthContext';

import Admin from "layouts/Admin.js";

const apiUrl = process.env.NEXT_PUBLIC_API_URL;

const PastDrives = () => {
  const [drives, setDrives] = useState([]);
  const { user } = useContext(AuthContext);

  useEffect(() => {
    if (user && user.org_id) {
      fetchPastDrives();
    }
  }, [user]);

  const fetchPastDrives = async () => {
    try {
      const response = await axios.get(
        `${apiUrl}/api/drives/organization/${user.org_id}/past`,
        { withCredentials: true }
      );
      setDrives(response.data);
    } catch (error) {
      console.error('Error fetching past drives:', error);
    }
  };

  const handleDeleteDrive = async (driveId) => {
    if (confirm('Are you sure you want to delete this drive? This action cannot be undone.')) {
      try {
        await axios.delete(`${apiUrl}/api/drives/${driveId}`, { withCredentials: true });
        setDrives(drives.filter((drive) => drive.drive_id !== driveId));
      } catch (error) {
        console.error('Error deleting drive:', error);
      }
    }
  };

  const handleUpdateDrive = (updatedDrive) => {
    setDrives((prevDrives) =>
      prevDrives.map((drive) =>
        drive.drive_id === updatedDrive.drive_id ? updatedDrive : drive
      )
    );
  };

  return (
    <div className="min-h-screen bg-gray-100 p-6 pt-32">
      <h2 className="text-2xl font-semibold mb-4">Past Drives</h2>

      {drives.length > 0 ? (
        <div className="grid grid-cols-1 gap-6">
          {drives.map((drive) => (
            <DriveCard
              key={drive.drive_id}
              drive={drive}
              onDelete={handleDeleteDrive}
              onUpdateDrive={handleUpdateDrive}
            />
          ))}
        </div>
      ) : (
        <p className="text-center text-gray-600 mt-10">No past drives available.</p>
      )}
    </div>
  );
};

PastDrives.layout = Admin;

export default PastDrives;

================
File: pages/admin/superAdmin.js
================
// src/pages/superadmin/organizations.js
import React from 'react';
import { FaTrash, FaSync } from 'react-icons/fa'; // Optional: For icons

import Navbar from 'components/Navbars/AuthNavbar';

import { useState, useEffect, useContext, useCallback } from 'react';
import axios from 'axios';
import { AuthContext } from '../../contexts/AuthContext';
import { useRouter } from 'next/router';

const OrganizationsAdminPage = () => {
  const { user } = useContext(AuthContext);
  const router = useRouter();
  const apiUrl = process.env.NEXT_PUBLIC_API_URL;

  // State variables
  const [organizations, setOrganizations] = useState([]);
  const [formData, setFormData] = useState({
    name: '',
    description: '',
    address: '',
    city: '',
    state: '',
    zip_code: '',
    website_link: '',
    photo: null,
  });
  const [errorMessage, setErrorMessage] = useState('');
  const [syncMessage, setSyncMessage] = useState('');
  const [productUrl, setProductUrl] = useState('');
  const [loading, setLoading] = useState(false);
  const [syncLoading, setSyncLoading] = useState(false);

  // Fetch organizations with useCallback to prevent re-creation
  const fetchOrganizations = useCallback(async () => {
    setLoading(true);
    try {
      const response = await axios.get(`${apiUrl}/api/organizations`, { withCredentials: true });
      setOrganizations(response.data);
      setErrorMessage('');
    } catch (error) {
      console.error('Error fetching organizations:', error);
      setErrorMessage('Failed to load organizations.');
    } finally {
      setLoading(false);
    }
  }, [apiUrl]);

  // Handle authentication and fetch organizations on user change
  useEffect(() => {
    if (!user) {
      router.push('/login');
    } else if (!user.is_super_admin) {
      router.push('/');
    } else {
      fetchOrganizations();
    }
  }, [user, router, fetchOrganizations]);

  // Handle input changes
  const handleInputChange = (e) => {
    const { name, value } = e.target;
    setFormData((prev) => ({ ...prev, [name]: value }));
  };

  const handleFileChange = (e) => {
    setFormData((prev) => ({ ...prev, photo: e.target.files[0] }));
  };

  // Handle adding a new organization
  const handleAddOrganization = async (e) => {
    e.preventDefault();
    if (!formData.name) {
      setErrorMessage('Organization name is required.');
      return;
    }

    const submitData = new FormData();
    Object.keys(formData).forEach((key) => submitData.append(key, formData[key]));

    setLoading(true);
    try {
      await axios.post(`${apiUrl}/api/organizations`, submitData, {
        withCredentials: true,
        headers: { 'Content-Type': 'multipart/form-data' },
      });
      setErrorMessage('');
      setFormData({
        name: '',
        description: '',
        address: '',
        city: '',
        state: '',
        zip_code: '',
        website_link: '',
        photo: null,
      });
      fetchOrganizations();
    } catch (error) {
      console.error('Error adding organization:', error);
      setErrorMessage('Failed to add organization.');
    } finally {
      setLoading(false);
    }
  };

  // Handle deleting an organization
  const handleDeleteOrganization = async (org_id) => {
    if (confirm('Are you sure you want to delete this organization?')) {
      setLoading(true);
      try {
        await axios.delete(`${apiUrl}/api/organizations/${org_id}`, { withCredentials: true });
        fetchOrganizations();
      } catch (error) {
        console.error('Error deleting organization:', error);
        alert('Failed to delete organization.');
      } finally {
        setLoading(false);
      }
    }
  };

  // Handle product tracking
  const handleTrackProduct = async () => {
    if (!productUrl.trim()) {
      setSyncMessage('Please enter a valid product URL.');
      return;
    }

    setSyncLoading(true);
    try {
      await axios.post(`${apiUrl}/api/items/track`, { url: productUrl }, { withCredentials: true });
      setSyncMessage('Product tracking initiated successfully!');
      setProductUrl('');
    } catch (error) {
      console.error('Error tracking product:', error);
      setSyncMessage('Failed to track product.');
    } finally {
      setSyncLoading(false);
    }
  };

  return (
    <>
    <Navbar transparent/>
    <div className="py-24 px-6 bg-gray-400 p-6">
      {/* Header */}
      <header className="flex justify-between items-center mb-6">
        <h1 className="text-3xl font-bold text-gray-800">Super Admin Dashboard</h1>
      </header>

      {/* Product Tracking Section */}
      <section className="bg-white p-6 rounded-lg shadow-md mb-6">
        <h2 className="text-2xl font-semibold text-gray-700 mb-4">Track a New Product</h2>
        {syncMessage && (
          <div
            className={`mb-4 px-4 py-2 rounded ${
              syncMessage.includes('successfully') ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'
            }`}
          >
            {syncMessage}
          </div>
        )}
        <div className="flex flex-col sm:flex-row items-center">
          <input
            type="text"
            placeholder="Enter product URL..."
            value={productUrl}
            onChange={(e) => setProductUrl(e.target.value)}
            className="w-full sm:w-auto flex-grow px-4 py-2 border border-gray-300 rounded mb-4 sm:mb-0 sm:mr-4 focus:outline-none focus:ring-2 focus:ring-blue-500"
          />
          <button
            onClick={handleTrackProduct}
            disabled={syncLoading}
            className="w-full sm:w-auto bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition-colors flex items-center justify-center"
          >
            {syncLoading ? (
              <svg
                className="animate-spin h-5 w-5 mr-2 text-white"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
              >
                <circle
                  className="opacity-25"
                  cx="12"
                  cy="12"
                  r="10"
                  stroke="currentColor"
                  strokeWidth="4"
                ></circle>
                <path
                  className="opacity-75"
                  fill="currentColor"
                  d="M4 12a8 8 0 018-8v8H4z"
                ></path>
              </svg>
            ) : (
              <FaSync className="mr-2" />
            )}
            Start Tracking
          </button>
        </div>
      </section>

      {/* Organization Addition Form */}
      <section className="bg-white p-6 rounded-lg shadow-md mb-6">
        <h2 className="text-2xl font-semibold text-gray-700 mb-4">Add New Organization</h2>
        {errorMessage && (
          <div className="mb-4 px-4 py-2 rounded bg-red-100 text-red-700">
            {errorMessage}
          </div>
        )}
        <form onSubmit={handleAddOrganization} encType="multipart/form-data">
          <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
            {/* Name */}
            <div>
              <label htmlFor="name" className="block text-gray-700 font-medium mb-2">
                Name <span className="text-red-500">*</span>
              </label>
              <input
                type="text"
                name="name"
                id="name"
                value={formData.name}
                onChange={handleInputChange}
                required
                className="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
            </div>

            {/* Website Link */}
            <div>
              <label htmlFor="website_link" className="block text-gray-700 font-medium mb-2">
                Website Link
              </label>
              <input
                type="url"
                name="website_link"
                id="website_link"
                value={formData.website_link}
                onChange={handleInputChange}
                className="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                placeholder="https://example.com"
              />
            </div>

            {/* City */}
            <div>
              <label htmlFor="city" className="block text-gray-700 font-medium mb-2">
                City
              </label>
              <input
                type="text"
                name="city"
                id="city"
                value={formData.city}
                onChange={handleInputChange}
                className="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
            </div>

            {/* State */}
            <div>
              <label htmlFor="state" className="block text-gray-700 font-medium mb-2">
                State
              </label>
              <input
                type="text"
                name="state"
                id="state"
                value={formData.state}
                onChange={handleInputChange}
                className="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
            </div>

            {/* Zip Code */}
            <div>
              <label htmlFor="zip_code" className="block text-gray-700 font-medium mb-2">
                Zip Code
              </label>
              <input
                type="text"
                name="zip_code"
                id="zip_code"
                value={formData.zip_code}
                onChange={handleInputChange}
                className="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
            </div>

            {/* Address */}
            <div className="md:col-span-2">
              <label htmlFor="address" className="block text-gray-700 font-medium mb-2">
                Address
              </label>
              <input
                type="text"
                name="address"
                id="address"
                value={formData.address}
                onChange={handleInputChange}
                className="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
            </div>

            {/* Description */}
            <div className="md:col-span-2">
              <label htmlFor="description" className="block text-gray-700 font-medium mb-2">
                Description
              </label>
              <textarea
                name="description"
                id="description"
                value={formData.description}
                onChange={handleInputChange}
                rows="4"
                className="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                placeholder="Provide a brief description of the organization..."
              ></textarea>
            </div>

            {/* Photo */}
            <div className="md:col-span-2">
              <label htmlFor="photo" className="block text-gray-700 font-medium mb-2">
                Photo
              </label>
              <input
                type="file"
                name="photo"
                id="photo"
                accept="image/*"
                onChange={handleFileChange}
                className="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
              />
            </div>
          </div>

          {/* Submit Button */}
          <div className="mt-6">
            <button
              type="submit"
              disabled={loading}
              className={`w-full flex justify-center items-center px-6 py-3 bg-green-600 text-white font-semibold rounded-md hover:bg-green-700 transition-colors ${
                loading ? 'opacity-50 cursor-not-allowed' : ''
              }`}
            >
              {loading ? (
                <svg
                  className="animate-spin h-5 w-5 mr-3 text-white"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                >
                  <circle
                    className="opacity-25"
                    cx="12"
                    cy="12"
                    r="10"
                    stroke="currentColor"
                    strokeWidth="4"
                  ></circle>
                  <path
                    className="opacity-75"
                    fill="currentColor"
                    d="M4 12a8 8 0 018-8v8H4z"
                  ></path>
                </svg>
              ) : (
                'Add Organization'
              )}
              {loading ? 'Adding...' : 'Add Organization'}
            </button>
          </div>
        </form>
      </section>

      {/* Organization List */}
      <section className="bg-white p-6 rounded-lg shadow-md">
        <h2 className="text-2xl font-semibold text-gray-700 mb-4">Existing Organizations</h2>
        {loading ? (
          <div className="flex justify-center items-center">
            <svg
              className="animate-spin h-8 w-8 text-blue-600"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
            >
              <circle
                className="opacity-25"
                cx="12"
                cy="12"
                r="10"
                stroke="currentColor"
                strokeWidth="4"
              ></circle>
              <path
                className="opacity-75"
                fill="currentColor"
                d="M4 12a8 8 0 018-8v8H4z"
              ></path>
            </svg>
            <span className="ml-2 text-gray-700">Loading organizations...</span>
          </div>
        ) : organizations.length === 0 ? (
          <p className="text-gray-500">No organizations found.</p>
        ) : (
          <div className="overflow-x-auto">
            <table className="min-w-full bg-white">
              <thead>
                <tr>
                  <th className="px-6 py-3 border-b-2 border-gray-300 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">
                    Name
                  </th>
                  <th className="px-6 py-3 border-b-2 border-gray-300 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">
                    Description
                  </th>
                  <th className="px-6 py-3 border-b-2 border-gray-300 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider">
                    Actions
                  </th>
                </tr>
              </thead>
              <tbody>
                {organizations.map((org) => (
                  <tr key={org.org_id} className="hover:bg-gray-100">
                    <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                      <div className="flex items-center">
                        {/* Optional: Display organization photo */}
                        {org.photo && (
                          <div className="flex-shrink-0 h-10 w-10">
                            <img
                              src={org.photo}
                              alt={`${org.name} Logo`}
                              width={40}
                              height={40}
                              className="rounded-full object-cover"
                            />
                          </div>
                        )}
                        <div className="ml-4">
                          <div className="text-sm font-medium text-gray-900">{org.name}</div>
                        </div>
                      </div>
                    </td>
                    <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-700">
                      {org.description.length > 100
                        ? `${org.description.substring(0, 100)}...`
                        : org.description}
                    </td>
                    <td className="px-6 py-4 whitespace-nowrap text-sm text-gray-700">
                      <button
                        onClick={() => handleDeleteOrganization(org.org_id)}
                        className="flex items-center text-red-600 hover:text-red-800"
                      >
                        <FaTrash className="mr-1" />
                        Delete
                      </button>
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        )}
      </section>
    </div>
    </>
  );
};


export default OrganizationsAdminPage;

================
File: pages/admin/tables.js
================
import React from "react";

// components

import CardTable from "components/Cards/CardTable.js";

// layout for page

import Admin from "layouts/Admin.js";

export default function Tables() {
  return (
    <>
      <div className="flex flex-wrap mt-4">
        <div className="w-full mb-12 px-4">
          <CardTable />
        </div>
        <div className="w-full mb-12 px-4">
          <CardTable color="dark" />
        </div>
      </div>
    </>
  );
}

Tables.layout = Admin;

================
File: pages/api/checkout/create-checkout-session.js
================
// pages/api/checkout/create-checkout-session.js
import axios from 'axios';

export default async function handler(req, res) {
  if (req.method === 'POST') {
    try {
      // Forward the request to your backend
      const backendResponse = await axios.post(
        `${process.env.NEXT_PUBLIC_API_URL}/checkout/create-checkout-session`,
        {},
        {
          headers: {
            // Forward cookies or authentication headers if necessary
            'Content-Type': 'application/json',
            Cookie: req.headers.cookie,
          },
        }
      );

      res.status(200).json(backendResponse.data);
    } catch (error) {
      console.error('Error creating checkout session:', error.response?.data || error.message);
      res.status(500).json({ error: 'Failed to create checkout session' });
    }
  } else {
    res.setHeader('Allow', 'POST');
    res.status(405).end('Method Not Allowed');
  }
}

================
File: pages/auth/login.js
================
import React, { useState, useContext, useEffect } from 'react';
import Link from 'next/link';
import { useRouter } from 'next/router';
import Auth from 'layouts/Auth.js';
import { AuthContext } from '../../contexts/AuthContext';
import axios from 'axios';
import { getLocalCartItems, setLocalCartItems } from '../../utils/localStorageCart';

const apiUrl = process.env.NEXT_PUBLIC_API_URL;

export default function Login() {
  const { user, login } = useContext(AuthContext);
  const router = useRouter();

  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [error, setError] = useState('');

  const handleGoogleLogin = () => {
    window.location.href = `${apiUrl}/api/auth/google`;
  };

  const handleFacebookLogin = () => {
    window.location.href = `${apiUrl}/api/auth/facebook`;
  };

  const mergeCarts = async () => {
    const localCartItems = getLocalCartItems();
    if (localCartItems.length > 0) {
      try {
        await axios.post(
          `${apiUrl}/api/cart/merge`,
          {
            account_id: user.account_id,
            items: localCartItems,
          },
          {
            withCredentials: true,
          }
        );
        setLocalCartItems([]);
      } catch (err) {
        console.error('Error merging carts:', err);
      }
    }
  };

  useEffect(() => {
    if (user && user.account_id) {
      mergeCarts();
      router.push('../visible/profile');
    }
  }, [user]);

  const handleSubmit = async (e) => {
    e.preventDefault();

    try {
      await login({ email, password });
    } catch (err) {
      console.error('Login failed:', err);
      setError(err.response?.data?.message || 'An error occurred during login.');
    }
  };

  return (
    <>
      <div className="container mx-auto px-4 h-full">
        <div className="flex content-center items-center justify-center h-full">
          <div className="w-full lg:w-4/12 px-4">
            <div className="relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-blueGray-200 border-0">
              <div className="rounded-t mb-0 px-6 py-6">
                <div className="text-center mb-3">
                  <h6 className="text-blueGray-500 text-sm font-bold">
                    Sign in with
                  </h6>
                </div>
                {error && (
                  <div className="text-center mb-3">
                    <p className="text-red-500 text-sm">{error}</p>
                  </div>
                )}
                <div className="btn-wrapper text-center">
                  <button
                    className="bg-white active:bg-blueGray-50 text-blueGray-700 font-normal px-4 py-2 rounded outline-none focus:outline-none mr-2 mb-1 uppercase shadow hover:shadow-md inline-flex items-center font-bold text-xs ease-linear transition-all duration-150"
                    type="button"
                    onClick={handleFacebookLogin}
                  >
                    <img
                      alt="Facebook Logo"
                      className="w-5 mr-1"
                      src="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg"
                    />
                    Facebook
                  </button>
                  <button
                    className="bg-white active:bg-blueGray-50 text-blueGray-700 font-normal px-4 py-2 rounded outline-none focus:outline-none mr-1 mb-1 uppercase shadow hover:shadow-md inline-flex items-center font-bold text-xs ease-linear transition-all duration-150"
                    type="button"
                    onClick={handleGoogleLogin}
                  >
                    <img
                      alt="Google Logo"
                      className="w-5 mr-1"
                      src="https://www.gstatic.com/images/branding/product/1x/gsa_512dp.png"
                    />
                    Google
                  </button>
                </div>
                <hr className="mt-6 border-b-1 border-blueGray-300" />
              </div>
              <div className="flex-auto px-4 lg:px-10 py-10 pt-0">
                <div className="text-blueGray-400 text-center mb-3 font-bold">
                  <small>Or sign in with credentials</small>
                </div>
                <form onSubmit={handleSubmit}>
                  <div className="relative w-full mb-3">
                    <label
                      className="block uppercase text-blueGray-600 text-xs font-bold mb-2"
                      htmlFor="email"
                    >
                      Email
                    </label>
                    <input
                      type="email"
                      id="email"
                      value={email}
                      onChange={(e) => setEmail(e.target.value)}
                      className="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
                      placeholder="Email"
                      required
                      autoComplete="email"
                    />
                  </div>

                  <div className="relative w-full mb-3">
                    <label
                      className="block uppercase text-blueGray-600 text-xs font-bold mb-2"
                      htmlFor="password"
                    >
                      Password
                    </label>
                    <input
                      type="password"
                      id="password"
                      value={password}
                      onChange={(e) => setPassword(e.target.value)}
                      className="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
                      placeholder="Password"
                      required
                      autoComplete="current-password"
                    />
                  </div>
                  <div className="flex flex-wrap">
                    <div className="w-1/2">
                      <label className="inline-flex items-center cursor-pointer">
                        <input
                          id="customCheckLogin"
                          type="checkbox"
                          className="form-checkbox border-0 rounded text-blueGray-700 ml-1 w-5 h-5 ease-linear transition-all duration-150"
                        />
                        <span className="ml-2 text-sm font-semibold text-blueGray-600">
                          Remember me
                        </span>
                      </label>
                    </div>
                  </div>

                  <div className="text-center mt-6">
                    <button
                      className="bg-blueGray-800 text-white active:bg-blueGray-600 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 w-full ease-linear transition-all duration-150"
                      type="submit"
                    >
                      Sign In
                    </button>
                  </div>
                </form>
              </div>
            </div>
            <div className="flex flex-wrap mt-6 relative">
              <div className="w-1/2">
                <a
                  href="#forgot-password"
                  onClick={(e) => e.preventDefault()}
                  className="text-blueGray-200"
                >
                  <small>Forgot password?</small>
                </a>
              </div>
              <div className="w-1/2 text-right">
                <Link href="/auth/register" className="text-blueGray-200">
                    <small>Create new account</small>
                </Link>
              </div>
            </div>
          </div>
        </div>
      </div>
    </>
  );
}

Login.layout = Auth;

================
File: pages/auth/register.js
================
// pages/register.js

import React, { useState, useContext, useEffect } from 'react';
import { useRouter } from 'next/router'; 
import axios from 'axios';
import { AuthContext } from '../../contexts/AuthContext';
import Link from 'next/link';

// Import the Auth layout
import Auth from "layouts/Auth.js";

const apiUrl = process.env.NEXT_PUBLIC_API_URL;

const RegisterPage = () => {
  const { user, login } = useContext(AuthContext);
  const router = useRouter();

  const [formData, setFormData] = useState({
    username: '',
    email: '',
    password: '',
    confirmPassword: '',
  });

  const [error, setError] = useState('');

  // Redirect logic
  useEffect(() => {
    if (user) {
      router.push('/account');
    }
  }, [user, router]);

  const handleChange = (e) => {
    setFormData({
      ...formData,
      [e.target.name]: e.target.value,
    });
  };

  const handleSubmit = async (e) => {
    e.preventDefault();

    // Basic validation
    if (formData.password !== formData.confirmPassword) {
      setError('Passwords do not match.');
      return;
    }

    try {
      // Send a POST request to the backend to register the user
      await axios.post(`${apiUrl}/api/auth/register`, {
        username: formData.username,
        email: formData.email,
        password: formData.password,
      }, { withCredentials: true });

      // Log the user in by updating the AuthContext
      await login({ email: formData.email, password: formData.password });

      // Redirect to the account page
      router.push('/account');
    } catch (err) {
      console.error('Registration failed:', err);
      setError(err.response?.data?.message || 'An error occurred during registration.');
    }
  };

  const handleGoogleLogin = () => {
    window.location.href = `${apiUrl}/api/auth/google`;
  };

  const handleFacebookLogin = () => {
    window.location.href = `${apiUrl}/api/auth/facebook`;
  };

  return (
    <div className="container mx-auto px-4 h-full">
      <div className="flex content-center items-center justify-center h-full">
        <div className="w-full lg:w-6/12 px-4">
          <div className="relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-blueGray-200 border-0">
            {/* Header Section with Social Logins */}
            <div className="rounded-t mb-0 px-6 py-6">
              <div className="text-center mb-3">
                <h6 className="text-blueGray-500 text-sm font-bold">
                  Sign up with
                </h6>
              </div>
              <div className="btn-wrapper text-center">
                {/* Google Button */}
                <button
                  className="bg-white active:bg-blueGray-50 text-blueGray-700 font-normal px-4 py-2 rounded outline-none focus:outline-none mr-2 mb-1 uppercase shadow hover:shadow-md inline-flex items-center font-bold text-xs ease-linear transition-all duration-150"
                  type="button"
                  onClick={handleGoogleLogin}
                >
                  <img alt="Google" className="w-5 mr-1" src="https://www.gstatic.com/images/branding/product/1x/gsa_512dp.png" />
                  Google
                </button>
                {/* Facebook Button */}
                <button
                  className="bg-white active:bg-blueGray-50 text-blueGray-700 font-normal px-4 py-2 rounded outline-none focus:outline-none mb-1 uppercase shadow hover:shadow-md inline-flex items-center font-bold text-xs ease-linear transition-all duration-150"
                  type="button"
                  onClick={handleFacebookLogin}
                >
                  <img alt="Facebook" className="w-5 mr-1" src="https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg" />
                  Facebook
                </button>
              </div>
              <hr className="mt-6 border-b-1 border-blueGray-300" />
            </div>
            {/* Form Section */}
            <div className="flex-auto px-4 lg:px-10 py-10 pt-0">
              <div className="text-blueGray-400 text-center mb-3 font-bold">
                <small>Or sign up with your credentials</small>
              </div>
              {/* Display Error Message */}
              {error && (
                <div
                  className="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4"
                  role="alert"
                >
                  <span className="block sm:inline">{error}</span>
                </div>
              )}
              <form onSubmit={handleSubmit} noValidate>
                {/* Username */}
                <div className="relative w-full mb-3">
                  <label
                    className="block uppercase text-blueGray-600 text-xs font-bold mb-2"
                    htmlFor="username"
                  >
                    Username
                  </label>
                  <input
                    type="text"
                    name="username"
                    value={formData.username}
                    onChange={handleChange}
                    className="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
                    placeholder="Username"
                    required
                    autoComplete="username"
                  />
                </div>

                {/* Email */}
                <div className="relative w-full mb-3">
                  <label
                    className="block uppercase text-blueGray-600 text-xs font-bold mb-2"
                    htmlFor="email"
                  >
                    Email
                  </label>
                  <input
                    type="email"
                    name="email"
                    value={formData.email}
                    onChange={handleChange}
                    className="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
                    placeholder="Email"
                    required
                    autoComplete="email"
                  />
                </div>

                {/* Password */}
                <div className="relative w-full mb-3">
                  <label
                    className="block uppercase text-blueGray-600 text-xs font-bold mb-2"
                    htmlFor="password"
                  >
                    Password
                  </label>
                  <input
                    type="password"
                    name="password"
                    value={formData.password}
                    onChange={handleChange}
                    className="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
                    placeholder="Password"
                    required
                    autoComplete="new-password"
                  />
                </div>

                {/* Confirm Password */}
                <div className="relative w-full mb-3">
                  <label
                    className="block uppercase text-blueGray-600 text-xs font-bold mb-2"
                    htmlFor="confirmPassword"
                  >
                    Confirm Password
                  </label>
                  <input
                    type="password"
                    name="confirmPassword"
                    value={formData.confirmPassword}
                    onChange={handleChange}
                    className="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
                    placeholder="Confirm Password"
                    required
                    autoComplete="new-password"
                  />
                </div>

                {/* Privacy Policy Agreement */}
                <div>
                  <label className="inline-flex items-center cursor-pointer">
                    <input
                      id="customCheckRegister"
                      type="checkbox"
                      className="form-checkbox border-0 rounded text-blueGray-700 ml-1 w-5 h-5 ease-linear transition-all duration-150"
                      required
                    />
                    <span className="ml-2 text-sm font-semibold text-blueGray-600">
                      I agree with the{' '}
                      <a
                        href="/privacy-policy" // Update with actual privacy policy route
                        className="text-lightBlue-500"
                        onClick={(e) => e.preventDefault()}
                      >
                        Privacy Policy
                      </a>
                    </span>
                  </label>
                </div>

                {/* Submit Button */}
                <div className="text-center mt-6">
                  <button
                    className="bg-blueGray-800 text-white active:bg-blueGray-600 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 w-full ease-linear transition-all duration-150"
                    type="submit"
                  >
                    Create Account
                  </button>
                </div>
              </form>

            </div>
          </div>
              {/* Additional Links */}
              <div className="flex flex-wrap mt-6 relative">
                <div className="w-full text-center">
                  <Link href="/auth/login" className="text-blueGray-200">
                      <small>Already have an account?</small>
                  </Link>
                </div>
              </div>
        </div>

      </div>
    </div>
  );
};

RegisterPage.layout = Auth;

export default RegisterPage;

================
File: pages/visible/child/[id].js
================
// src/pages/visible/child/[id].js

import { useRouter } from 'next/router';
import React, { useContext } from 'react';
import PropTypes from 'prop-types';
import { CartContext } from '../../../contexts/CartContext';
import Link from 'next/link';
import Footer from 'components/Footers/Footer';
import Navbar from 'components/Navbars/AuthNavbar';
import { FaArrowLeft } from 'react-icons/fa';
import Breadcrumbs from 'components/UI/Breadcrumbs'; // Ensure this component exists
import Image from 'next/image';
import axios from 'axios';

const ChildDetailPage = ({ child }) => {
  const router = useRouter();
  const { cart, addToCart, removeFromCart } = useContext(CartContext);

  // Debugging statement
  console.log('Rendered Child:', child);

  if (!child) {
    return (
      <>
        <Navbar />
        <div className="min-h-screen flex items-center justify-center bg-gray-100">
          <p className="text-gray-500 text-lg">Child not found.</p>
        </div>
        <Footer />
      </>
    );
  }

  const handleAddToCart = (item) => {
    const itemId = item.item_id;
    const configId = item.config_id || null; // Adjust based on your data
    const childId = child.child_id;
    const quantity = 1;

    if (!itemId) {
      console.error('Missing item_id');
      return;
    }

    addToCart(itemId, configId, childId, quantity);
  };

  const handleRemoveFromCart = (cartItemId) => {
    removeFromCart(cartItemId);
  };

  const isItemAdded = (item) => {
    return cart?.items?.some(
      (ci) =>
        ci.item_id === item.item_id &&
        ci.config_id === (item.config_id || null) &&
        ci.child_id === child.child_id
    );
  };

  /**
   * Get the cart_item_id for a specific item
   * @param {object} item - The item object
   * @returns {number|null} - The cart_item_id or null if not found
   */
  const getCartItemId = (item) => {
    const cartItem = cart?.items?.find(
      (ci) =>
        ci.item_id === item.item_id &&
        ci.config_id === (item.config_id || null) &&
        ci.child_id === child.child_id
    );
    return cartItem ? cartItem.cart_item_id : null;
  };

  return (
    <>
      <Navbar />
      <div className="min-h-screen bg-gray-500 py-16">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          {/* Breadcrumb Navigation */}
          <Breadcrumbs
            links={[
              { href: '/', label: 'Home' },
              { href: '/visible/orglist', label: 'Organizations' },
              { href: `/drive/${child.drive_id}`, label: child.drive_name },
              { href: `/drive/${child.drive_id}/child/${child.child_id}`, label: child.child_name },
            ]}
          />

          {/* Back Button */}
          <button
            onClick={() => router.back()}
            className="flex items-center mb-6 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors"
            aria-label="Go back to previous page"
          >
            <FaArrowLeft className="mr-2" />
            Back
          </button>

          {/* Child Details */}
          <div className="bg-white shadow-md rounded-lg overflow-hidden mb-8">
            <div className="flex flex-col md:flex-row">
              {/* Child Image */}
              {child.photo && (
                <div className="md:w-1/3 flex justify-center items-center p-6">
                  <Image
                    src={child.photo}
                    alt={child.child_name}
                    width={192}
                    height={192}
                    className="object-cover rounded-full"
                  />
                </div>
              )}
              {/* Child Info */}
              <div className="md:w-2/3 p-6 flex flex-col justify-center">
                <h1 className="text-3xl font-bold text-gray-800 mb-2">{child.child_name}</h1>
                <p className="text-gray-500 mb-2">
                  Associated with Drive:{' '}
                  <Link href={`/drive/${child.drive_id}`} className="text-blue-500 hover:underline">
                    {child.drive_name}
                  </Link>
                </p>
                {/* Optional: Add more child details here */}
                {child.age && <p className="text-gray-600 mb-1"><strong>Age:</strong> {child.age}</p>}
                {child.gender && <p className="text-gray-600 mb-1"><strong>Gender:</strong> {child.gender}</p>}
                {child.description && <p className="text-gray-600">{child.description}</p>}
              </div>
            </div>
          </div>

          {/* Items Needed */}
          <div className="bg-white shadow-md rounded-lg p-6">
            <h2 className="text-2xl font-semibold text-gray-800 mb-6">Items Needed</h2>

            {child.items && child.items.length > 0 ? (
              <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                {child.items.map((item) => {
                  const isAdded = isItemAdded(item);
                  const cartItemId = getCartItemId(item);

                  return (
                    <div
                      key={item.child_item_id}
                      className={`border p-4 rounded-lg shadow-sm ${
                        isAdded ? 'border-green-500' : 'border-gray-200'
                      } flex flex-col justify-between`}
                    >
                      {/* Item Image */}
                      {item.item_photo && (
                        <div className="flex justify-center">
                          <Image
                            src={item.item_photo}
                            alt={item.item_name || 'Item Image'}
                            width={128}
                            height={128}
                            className="object-cover rounded-lg mb-4"
                          />
                        </div>
                      )}
                      {/* Item Info */}
                      <div className="flex-grow">
                        <h3 className="text-lg font-semibold text-gray-800 mb-2">{item.item_name}</h3>
                        <p className="text-gray-600 mb-2">${Number(item.price).toFixed(2)}</p>
                        {/* Optional: Add more item details here */}
                        {item.description && <p className="text-gray-600 mb-2">{item.description}</p>}
                        {/* If there are configurations, display them */}
                        {item.size || item.color ? (
                          <div className="text-sm text-gray-500">
                            {item.size && <span>Size: {item.size} </span>}
                            {item.color && <span>Color: {item.color}</span>}
                          </div>
                        ) : null}
                      </div>
                      {/* Users with Item in Cart */}
                      {item.users_with_item_in_cart > 1 && (
                        <div className="bg-yellow-100 text-yellow-800 text-sm rounded-lg p-2 mb-2">
                          {item.users_with_item_in_cart} other {item.users_with_item_in_cart === 2 ? 'person' : 'people'} have this item in their cart
                        </div>
                      )}
                      {/* Add/Remove Button */}
                      <button
                        onClick={() =>
                          isAdded ? handleRemoveFromCart(cartItemId) : handleAddToCart(item)
                        }
                        className={`w-full py-2 rounded-lg text-white ${
                          isAdded ? 'bg-red-500 hover:bg-red-600' : 'bg-green-500 hover:bg-green-600'
                        } transition-colors`}
                        aria-label={isAdded ? `Remove ${item.item_name} from cart` : `Add ${item.item_name} to cart`}
                      >
                        {isAdded ? 'Remove' : 'Add'}
                      </button>
                    </div>
                  );
                })}
              </div>
            ) : (
              <p className="text-gray-500">No items are currently needed for this child.</p>
            )}
          </div>
        </div>
      </div>
      <Footer />
    </>
  );
};

// PropTypes validation for the ChildDetailPage component
ChildDetailPage.propTypes = {
  child: PropTypes.shape({
    child_id: PropTypes.number.isRequired,
    child_name: PropTypes.string.isRequired,
    drive_id: PropTypes.number.isRequired,
    drive_name: PropTypes.string.isRequired,
    photo: PropTypes.string,
    age: PropTypes.number, // Optional
    gender: PropTypes.string, // Optional
    description: PropTypes.string, // Optional
    items: PropTypes.arrayOf(
      PropTypes.shape({
        child_item_id: PropTypes.number.isRequired,
        item_id: PropTypes.number.isRequired,
        config_id: PropTypes.number, // Optional
        item_name: PropTypes.string.isRequired,
        item_photo: PropTypes.string,
        price: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,
        users_with_item_in_cart: PropTypes.number.isRequired,
        description: PropTypes.string, // Optional
        size: PropTypes.string, // Optional
        color: PropTypes.string, // Optional
      })
    ).isRequired,
  }).isRequired,
};

export default ChildDetailPage;

// Fetch child data on the server side
export async function getServerSideProps(context) {
  const { id } = context.params;
  const apiUrl = process.env.NEXT_PUBLIC_API_URL;

  try {
    // Fetch child details
    const childResponse = await axios.get(`${apiUrl}/api/children/${id}`, {
      withCredentials: true, // Include credentials if needed
    });
    const childData = childResponse.data;

    // Validate childData
    if (!childData || !childData.child_id) {
      console.warn(`Child with ID ${id} not found.`);
      return {
        props: {
          child: null,
        },
      };
    }

    // Fetch items associated with the child
    const itemsResponse = await axios.get(`${apiUrl}/api/children/${childData.child_id}/items`, {
      withCredentials: true,
    });
    const itemsData = itemsResponse.data;

    // Transform items data if necessary
    const items = Array.isArray(itemsData)
      ? itemsData.map((item) => ({
          child_item_id: item.child_item_id,
          item_id: item.item_id,
          config_id: item.config_id || null, // Adjust based on your data
          item_name: item.item_name,
          item_photo: item.item_photo || '/img/default-item.png', // Provide a default image if missing
          price: Number(item.price),
          users_with_item_in_cart: Number(item.users_with_item_in_cart) || 0,
          description: item.description || null,
          size: item.size || null, // If applicable
          color: item.color || null, // If applicable
        }))
      : [];

    // Combine child details with items
    const child = {
      child_id: childData.child_id,
      child_name: childData.child_name,
      drive_id: childData.drive_id,
      drive_name: childData.drive_name,
      photo: childData.photo || '/img/default-child.png', // Provide a default image if missing
      age: childData.age || null,
      gender: childData.gender || null,
      description: childData.description || null,
      items: items,
    };

    return {
      props: {
        child,
      },
    };
  } catch (error) {
    console.error('Error fetching child or items data:', error.message);
    return {
      props: {
        child: null,
      },
    };
  }
}

================
File: pages/visible/drive/[id].js
================
// src/pages/drive/[id].js

import axios from 'axios';
import React from 'react';
import Link from 'next/link';
import PropTypes from 'prop-types';
import { useRouter } from 'next/router';
import Navbar from 'components/Navbars/AuthNavbar.js';
import Footer from 'components/Footers/Footer.js';
import { FaArrowLeft } from 'react-icons/fa';
import Breadcrumbs from 'components/UI/Breadcrumbs.js'; // Optional: Create a Breadcrumbs component
import Image from 'next/image';

const apiUrl = process.env.NEXT_PUBLIC_API_URL;

const DrivePage = ({ drive }) => {
  const router = useRouter();

  if (!drive) {
    return (
      <>
        <Navbar />
        <div className="min-h-screen flex items-center justify-center bg-gray-100">
          <p className="text-gray-500 text-lg">Drive not found.</p>
        </div>
        <Footer />
      </>
    );
  }

  return (
    <>
      <Navbar />
      <div className="min-h-screen bg-gray-500 py-16">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          {/* Breadcrumb Navigation */}
          <Breadcrumbs
            links={[
              { href: '/', label: 'Home' },
              { href: '/visible/orglist', label: 'Organizations' },
              { href: `/drive/${drive.id}`, label: drive.name },
            ]}
          />

          {/* Back Button */}
          <button
            onClick={() => router.back()}
            className="flex items-center mb-6 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors"
            aria-label="Go back to previous page"
          >
            <FaArrowLeft className="mr-2" />
            Back
          </button>

          {/* Drive Header */}
          <div className="bg-white shadow-md rounded-lg overflow-hidden mb-10">
            <div className="flex flex-col md:flex-row">
              {/* Drive Image */}
              {drive.photo && (
                <div className="md:w-1/3 flex justify-center items-center p-4">
                  <Image
                    src={drive.photo || '/img/default-drive.png'}
                    alt={drive.name}
                    width={192} // 48 * 4 (Tailwind's default spacing scale)
                    height={192}
                    className="object-cover rounded-md"
                  />
                </div>
              )}
              {/* Drive Info */}
              <div className="md:w-2/3 p-6">
                <h1 className="text-3xl font-bold text-gray-800 mb-4">
                  {drive.name}
                </h1>
                <p className="text-gray-600 mb-4">{drive.description}</p>
                {/* Optional: Add more drive details here */}
                {drive.location && (
                  <p className="text-gray-600">
                    <strong>Location:</strong> {drive.location}
                  </p>
                )}
                {drive.date && (
                  <p className="text-gray-600">
                    <strong>Date:</strong> {new Date(drive.date).toLocaleDateString()}
                  </p>
                )}
              </div>
            </div>
          </div>

          {/* Children Section */}
          <div>
            <h2 className="text-2xl font-semibold text-gray-800 mb-6">
              Children in {drive.name}
            </h2>
            {drive.children && drive.children.length > 0 ? (
              <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                {drive.children.map((child) => (
                  <Link
                    key={child.child_id}
                    href={`/visible/child/${child.child_id}`}
                    passHref
                    className="block bg-white shadow-md rounded-lg overflow-hidden hover:shadow-lg transition-shadow"
                  >
                      {/* Child Image */}
                      {child.child_photo && (
                        <div className="flex justify-center mt-4">
                          <Image
                            src={child.child_photo || '/img/default-child.png'}
                            alt={child.child_name}
                            width={96} // 48 * 4 (Tailwind's default spacing scale)
                            height={96}
                            className="object-cover rounded-full"
                          />
                        </div>
                      )}
                      {/* Child Info */}
                      <div className="p-4 text-center">
                        <h3 className="text-lg font-semibold text-gray-800 mb-2">
                          {child.child_name}
                        </h3>
                        {/* Optional: Add more child details here */}
                        {child.age && (
                          <p className="text-gray-600">
                            <strong>Age:</strong> {child.age}
                          </p>
                        )}
                        {child.gender && (
                          <p className="text-gray-600">
                            <strong>Gender:</strong> {child.gender}
                          </p>
                        )}
                      </div>
                  </Link>
                ))}
              </div>
            ) : (
              <p className="text-gray-500">
                No children available in this drive.
              </p>
            )}
          </div>
        </div>
      </div>
      <Footer />
    </>
  );
};

// PropTypes validation for the DrivePage component
DrivePage.propTypes = {
  drive: PropTypes.shape({
    id: PropTypes.string.isRequired, // Assuming drive has an 'id' field
    name: PropTypes.string.isRequired,
    description: PropTypes.string,
    photo: PropTypes.string,
    location: PropTypes.string, // Optional: Add if available
    date: PropTypes.string, // Optional: Add if available
    children: PropTypes.arrayOf(
      PropTypes.shape({
        child_id: PropTypes.string.isRequired,
        child_name: PropTypes.string.isRequired,
        child_photo: PropTypes.string,
        age: PropTypes.number, // Optional: Add if available
        gender: PropTypes.string, // Optional: Add if available
      })
    ),
  }),
};

// Fetch drive data on the server side
export async function getServerSideProps(context) {
  const { id } = context.params;

  try {
    const response = await axios.get(`${apiUrl}/api/drives/${id}`);
    const drive = response.data;

    return {
      props: {
        drive,
      },
    };
  } catch (error) {
    console.error('Error fetching drive data:', error);

    return {
      props: {
        drive: null,
      },
    };
  }
}

export default DrivePage;

================
File: pages/visible/organization/[id].js
================
// src/pages/organization/[id].js

import Link from 'next/link';
import axios from 'axios';
import { useRouter } from 'next/router';
import React from 'react';
import PropTypes from 'prop-types';
import Navbar from 'components/Navbars/AuthNavbar.js';
import Footer from 'components/Footers/Footer.js';
import Breadcrumbs from 'components/UI/Breadcrumbs'; // Ensure this component exists
import Image from 'next/image';

const apiUrl = process.env.NEXT_PUBLIC_API_URL;

const OrganizationPage = ({ organization }) => {
  const router = useRouter();

  if (!organization) {
    return (
      <>
        <Navbar transparent />
        <div className="min-h-screen flex items-center justify-center bg-gray-00">
          <p className="text-gray-500 text-lg">Organization not found.</p>
        </div>
        <Footer />
      </>
    );
  }

  return (
    <>
      <Navbar transparent />
      <div className="min-h-screen bg-gray-500 py-16">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          {/* Breadcrumb Navigation */}
          <Breadcrumbs
            links={[
              { href: '/', label: 'Home' },
              { href: '/visible/orglist', label: 'Organizations' },
              { href: `/organization/${organization.org_id}`, label: organization.name },
            ]}
          />

          {/* Back Button */}
          <button
            onClick={() => router.back()}
            className="flex items-center mb-6 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors"
            aria-label="Go back to previous page"
          >
            <svg
              className="w-4 h-4 mr-2"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" />
            </svg>
            Back
          </button>

          {/* Organization Card */}
          <div className="bg-white shadow-md rounded-lg overflow-hidden mb-10">
            <div className="flex flex-col md:flex-row">
              {/* Organization Image */}
              {organization.photo && (
                <div className="md:w-1/3 flex justify-center items-center p-6">
                  <Image
                    src={organization.photo || '/img/default-org.png'}
                    alt={organization.name}
                    width={256} // 64 * 4
                    height={256}
                    className="object-cover rounded-lg"
                  />
                </div>
              )}
              {/* Organization Info */}
              <div className="md:w-2/3 p-6 flex flex-col justify-center">
                <h2 className="text-3xl font-bold text-gray-800 mb-4">
                  {organization.name}
                </h2>
                <p className="text-gray-600 mb-4">{organization.description}</p>
                {/* Optional: Add more organization details here */}
                {organization.location && (
                  <p className="text-gray-600 mb-2">
                    <strong>Location:</strong> {organization.location}
                  </p>
                )}
                {organization.founded && (
                  <p className="text-gray-600">
                    <strong>Founded:</strong> {new Date(organization.founded).toLocaleDateString()}
                  </p>
                )}
              </div>
            </div>
          </div>

          {/* Drives Section */}
          <div>
            <h3 className="text-2xl font-semibold text-gray-800 mb-6">Drives</h3>
            {organization.drives && organization.drives.length > 0 ? (
              <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                {organization.drives.map((drive) => (
                  <Link
                    key={drive.drive_id}
                    href={`/visible/drive/${drive.drive_id}`}
                    className="block bg-white shadow-md rounded-lg overflow-hidden hover:shadow-lg transition-shadow"
                  >
                    {drive.photo && (
                      <div className="relative w-full h-48">
                        <Image
                          src={drive.photo || '/img/default-drive.png'}
                          alt={drive.name}
                          layout="fill"
                          objectFit="cover"
                          className="rounded-t-lg"
                        />
                      </div>
                    )}
                    <div className="p-4">
                      <h4 className="text-lg font-semibold text-gray-800 mb-2">
                        {drive.name}
                      </h4>
                      <p className="text-gray-600">{drive.description}</p>
                    </div>
                  </Link>
                ))}
              </div>
            ) : (
              <p className="text-gray-500">No drives available for this organization.</p>
            )}
          </div>
        </div>
      </div>
      <Footer />
    </>
  );
};

// PropTypes validation for the OrganizationPage component
OrganizationPage.propTypes = {
  organization: PropTypes.shape({
    org_id: PropTypes.number.isRequired,
    photo: PropTypes.string,
    name: PropTypes.string.isRequired,
    description: PropTypes.string,
    location: PropTypes.string, // Optional: Add if available
    founded: PropTypes.string, // Optional: Add if available
    drives: PropTypes.arrayOf(
      PropTypes.shape({
        drive_id: PropTypes.number.isRequired,
        photo: PropTypes.string,
        name: PropTypes.string.isRequired,
        description: PropTypes.string,
      })
    ),
  }).isRequired,
};

// Fetch organization data on the server side
export async function getServerSideProps(context) {
  const { id } = context.params;

  try {
    const response = await axios.get(`${apiUrl}/api/organizations/${id}`);
    const organization = response.data;

    return {
      props: {
        organization,
      },
    };
  } catch (error) {
    console.error('Error fetching organization data:', error);
    return {
      props: {
        organization: null,
      },
    };
  }
}

export default OrganizationPage;

================
File: pages/visible/cancel.js
================
// pages/checkout/cancel.js
import Link from 'next/link';
import Navbar from 'components/Navbars/AuthNavbar';
import Footer from 'components/Footers/Footer';
import React from 'react';

const CancelPage = () => {
  return (
    <>
      <Navbar transparent />
      <main className="pt-20 min-h-[80vh] bg-gray-800">
        <div className="container mx-auto px-4 py-8 text-center text-white">
          <h2 className="text-3xl font-semibold mb-4">Payment Canceled</h2>
          <p className="mb-6">Your payment was canceled. You can continue shopping.</p>
          <Link href="/visible/orglist" className="text-blue-400 hover:underline">
            Browse Organizations
          </Link>
        </div>
      </main>
      <Footer />
    </>
  );
};

export default CancelPage;

================
File: pages/visible/cart.js
================
// pages/visible/cart.js

import React, { useContext, useEffect, useState } from 'react';
import { CartContext } from '../../contexts/CartContext';
import Link from 'next/link';
import Navbar from 'components/Navbars/AuthNavbar';
import Footer from 'components/Footers/Footer';
import { loadStripe } from '@stripe/stripe-js';
import axios from 'axios';

const CartPage = () => {
  const { cart, removeFromCart, updateCartItemQuantity, loading } = useContext(CartContext);
  const [cartItems, setCartItems] = useState([]);

  useEffect(() => {
    if (cart && cart.items) {
      setCartItems(cart.items);
    } else {
      setCartItems([]);
    }
  }, [cart]);

  const handleRemoveItem = async (cartItemId) => {
    try {
      await removeFromCart(cartItemId);
      // No need to manually update cartItems; fetchCart will handle it
    } catch (error) {
      console.error('Error removing item:', error);
    }
  };

  const handleUpdateQuantity = async (cartItemId, quantity) => {
    if (quantity < 1) {
      alert('Quantity must be at least 1.');
      return;
    }

    try {
      await updateCartItemQuantity(cartItemId, quantity);
      // No need to manually update cartItems; fetchCart will handle it
    } catch (error) {
      console.error('Error updating quantity:', error);
    }
  };

  const handleProceedToCheckout = async () => {
    try {
      // Initialize Stripe.js with your publishable key
      const stripePromise = loadStripe(process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY);
      const stripe = await stripePromise;

      // Create a Checkout Session on the server
      const response = await axios.post('/api/checkout/create-checkout-session');

      const { sessionId } = response.data;

      // Redirect to Stripe Checkout
      const { error } = await stripe.redirectToCheckout({ sessionId });

      if (error) {
        console.error('Stripe Checkout error:', error);
        alert('An error occurred while redirecting to checkout.');
      }
    } catch (error) {
      console.error('Error proceeding to checkout:', error);
      alert('Failed to initiate checkout. Please try again.');
    }
  };

  const totalPrice = cartItems.reduce(
    (total, item) => total + (item.price || 0) * (item.quantity || 1),
    0
  );

  return (
    <>
      <Navbar transparent />
      <main className="pt-20 min-h-[80vh] bg-gray-800">
        <div className="container mx-auto px-4 py-8">
          {loading ? (
            <div className="flex justify-center items-center text-white">
              <p>Loading your cart...</p>
            </div>
          ) : cartItems.length === 0 ? (
            <div className="flex flex-col items-center justify-center text-white">
              <h2 className="text-3xl font-semibold mb-4">Your Cart is Empty</h2>
              <Link href="/visible/orglist" className="text-blue-400 hover:underline">
                Browse Organizations
              </Link>
            </div>
          ) : (
            <>
              <h2 className="text-3xl font-semibold mb-6 text-white">Your Cart</h2>
              <div className="overflow-x-auto">
                <table className="w-full bg-white rounded-lg shadow-md">
                  <thead>
                    <tr className="text-left border-b">
                      <th className="px-6 py-4">Product</th>
                      <th className="px-6 py-4">Price</th>
                      <th className="px-6 py-4">Quantity</th>
                      <th className="px-6 py-4">Total</th>
                      <th className="px-6 py-4">Actions</th>
                    </tr>
                  </thead>
                  <tbody>
                    {cartItems.map((item) => (
                      <tr key={item.cart_item_id} className="border-b">
                        <td className="px-6 py-4 flex items-center">
                          {item.image_url ? (
                            <img
                              src={item.image_url}
                              alt={item.item_name}
                              className="w-16 h-16 object-cover mr-4 rounded"
                            />
                          ) : (
                            <div className="w-16 h-16 bg-gray-300 mr-4 rounded"></div>
                          )}
                          <div>
                            <Link href={`/visible/child/${item.child_id}`} className="text-blue-500 hover:underline">
                              {item.item_name}
                            </Link>
                            {item.size || item.color ? (
                              <div className="text-sm text-gray-600">
                                {item.size && <span>Size: {item.size} </span>}
                                {item.color && <span>Color: {item.color}</span>}
                              </div>
                            ) : null}
                          </div>
                        </td>
                        <td className="px-6 py-4">${Number(item.price).toFixed(2)}</td>
                        <td className="px-6 py-4">
                          <input
                            type="number"
                            min="1"
                            value={item.quantity}
                            onChange={(e) =>
                              handleUpdateQuantity(
                                item.cart_item_id,
                                parseInt(e.target.value)
                              )
                            }
                            className="w-16 border border-gray-300 rounded p-1 text-center"
                          />
                        </td>
                        <td className="px-6 py-4">
                          ${(Number(item.price) * Number(item.quantity)).toFixed(2)}
                        </td>
                        <td className="px-6 py-4">
                          <button
                            onClick={() => handleRemoveItem(item.cart_item_id)}
                            className="text-red-500 hover:underline"
                          >
                            Remove
                          </button>
                        </td>
                      </tr>
                    ))}
                    <tr>
                      <td colSpan="3" className="px-6 py-4 text-right font-semibold">
                        Total:
                      </td>
                      <td className="px-6 py-4 font-semibold">
                        ${totalPrice.toFixed(2)}
                      </td>
                      <td></td>
                    </tr>
                  </tbody>
                </table>
              </div>
              <div className="flex justify-end mt-6">
                <button
                  onClick={handleProceedToCheckout}
                  className="bg-blue-500 text-white px-6 py-3 rounded hover:bg-blue-600"
                >
                  Proceed to Checkout
                </button>
              </div>
            </>
          )}
        </div>
      </main>
      <Footer />
    </>
  );
};

export default CartPage;

================
File: pages/visible/orglist.js
================
// src/pages/visible/orglist.js

import React, { useEffect, useState } from 'react';
import axios from 'axios';
import Navbar from 'components/Navbars/AuthNavbar.js';
import Footer from 'components/Footers/Footer.js';
import OrganizationCard from 'components/Cards/OrganizationCard';

const apiUrl = process.env.NEXT_PUBLIC_API_URL;

export default function OrgList() {
  const [organizations, setOrganizations] = useState([]);
  const [searchQuery, setSearchQuery] = useState('');
  const [selectedState, setSelectedState] = useState('All');
  const [selectedCity, setSelectedCity] = useState('All');
  const [featuredOnly, setFeaturedOnly] = useState(true); // Load featured by default
  const [states, setStates] = useState([]);
  const [cities, setCities] = useState([]);
  const [page, setPage] = useState(1);
  const [hasMore, setHasMore] = useState(true);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState(null); // To handle errors

  // Fetch filter options (states and cities)
  useEffect(() => {
    const fetchFilterOptions = async () => {
      try {
        // Fetch unique states
        const statesResponse = await axios.get(`${apiUrl}/api/organizations/states`);
        setStates(statesResponse.data);

        // Fetch unique cities
        const citiesResponse = await axios.get(`${apiUrl}/api/organizations/cities`);
        setCities(citiesResponse.data);
      } catch (error) {
        console.error('Error fetching filter options:', error);
        setError('Failed to load filter options. Please try again later.');
        // Fallback to predefined states and cities if API fails
        setStates(['California', 'Texas', 'New York']);
        setCities(['Los Angeles', 'Houston', 'New York City']);
      }
    };

    fetchFilterOptions();
  }, []);

  // Handle search form submission
  const handleSearch = (e) => {
    e.preventDefault();
    // Reset organizations and pagination when a new search is performed
    setOrganizations([]);
    setPage(1);
    setHasMore(true);
    setFeaturedOnly(false); // Clear "Featured Only" when searching
    fetchOrganizations(1, true);
  };

  // Handle filter changes
  const handleFilterChange = () => {
    // Reset organizations and pagination when filters are changed
    setOrganizations([]);
    setPage(1);
    setHasMore(true);
    fetchOrganizations(1, true);
  };

  // Fetch organizations with filtering and pagination
  const fetchOrganizations = async (currentPage, reset = false) => {
    setLoading(true);
    setError(null); // Reset error state
    try {
      // Build query parameters
      const params = {
        page: currentPage,
        limit: 6, // Adjust as needed
        featured: featuredOnly.toString(), // Convert to string
      };

      if (searchQuery.trim() !== '') {
        params.search = searchQuery.trim();
      }

      if (selectedState !== 'All') {
        params.state = selectedState;
      }

      if (selectedCity !== 'All') {
        params.city = selectedCity;
      }

      // Use the unified endpoint
      const response = await axios.get(`${apiUrl}/api/organizations/featured`, { params });

      if (response.data && response.data.length > 0) {
        setOrganizations((prev) => (reset ? response.data : [...prev, ...response.data]));
        if (response.data.length < 6) {
          setHasMore(false); // No more data to load
        }
      } else {
        setHasMore(false); // No more data to load
      }
    } catch (error) {
      console.error('Error fetching organizations:', error);
      setError('Failed to load organizations. Please try again later.');
      setHasMore(false); // Stop further fetching on error
    }
    setLoading(false);
  };

  // Fetch initial data and when 'page' changes
  useEffect(() => {
    fetchOrganizations(page, page === 1);
  }, [page]);

  // Load more organizations (for "Load More" button)
  const loadMore = () => {
    if (hasMore && !loading) {
      setPage((prev) => prev + 1);
    }
  };

  // Update cities based on selected state
  useEffect(() => {
    const fetchCitiesByState = async () => {
      if (selectedState === 'All') {
        // Reset to all cities
        try {
          const citiesResponse = await axios.get(`${apiUrl}/api/organizations/cities`);
          setCities(citiesResponse.data);
        } catch (error) {
          console.error('Error fetching cities:', error);
          setCities(['Los Angeles', 'Houston', 'New York City']);
        }
      } else {
        try {
          const citiesResponse = await axios.get(`${apiUrl}/api/organizations/cities`, {
            params: { state: selectedState },
          });
          setCities(citiesResponse.data);
        } catch (error) {
          console.error('Error fetching cities:', error);
          setCities(['Los Angeles', 'San Francisco', 'New York City']); // Fallback
        }
      }
      setSelectedCity('All'); // Reset city selection when state changes
    };

    fetchCitiesByState();
  }, [selectedState]);

  return (
    <>
      <Navbar transparent />
      <main>
        {/* Search and Filter Bar Section */}
        <section className="relative py-20 bg-blueGray-600">
          <div className="container mx-auto px-4">
            <h2 className="text-2xl md:text-3xl font-semibold text-blueGray-800 text-center mb-6">
              Find the Perfect Organization for Your Cause
            </h2>
            <form onSubmit={handleSearch} className="w-full max-w-4xl mx-auto">
              {/* Search Bar */}
              <div className="mb-6">
                <div className="relative">
                  <span className="absolute inset-y-0 left-0 pl-3 flex items-center">
                    <svg
                      className="h-5 w-5 text-blueGray-400"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke="currentColor"
                      aria-hidden="true"
                    >
                      <path
                        strokeLinecap="round"
                        strokeLinejoin="round"
                        strokeWidth="2"
                        d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                      />
                    </svg>
                  </span>
                  <input
                    type="text"
                    placeholder="Search for organizations..."
                    value={searchQuery}
                    onChange={(e) => setSearchQuery(e.target.value)}
                    className="block w-full pl-10 pr-4 py-3 border border-blueGray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                    aria-label="Search for organizations"
                  />
                </div>
              </div>
              {/* Filter Menu */}
              <div className="flex flex-col space-y-4 md:space-y-0 md:flex-row md:space-x-4">
                {/* State Filter */}
                <div className="flex-1">
                  <label htmlFor="state" className="sr-only">
                    State
                  </label>
                  <select
                    id="state"
                    name="state"
                    value={selectedState}
                    onChange={(e) => setSelectedState(e.target.value)}
                    onBlur={handleFilterChange}
                    className="block w-full pl-3 pr-10 py-3 border border-blueGray-300 bg-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent sm:text-sm"
                    aria-label="Filter by state"
                  >
                    <option value="All">All States</option>
                    {states.map((state) => (
                      <option key={state} value={state}>
                        {state}
                      </option>
                    ))}
                  </select>
                </div>
                {/* City Filter */}
                <div className="flex-1">
                  <label htmlFor="city" className="sr-only">
                    City
                  </label>
                  <select
                    id="city"
                    name="city"
                    value={selectedCity}
                    onChange={(e) => setSelectedCity(e.target.value)}
                    onBlur={handleFilterChange}
                    className="block w-full pl-3 pr-10 py-3 border border-blueGray-300 bg-white rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent sm:text-sm"
                    aria-label="Filter by city"
                  >
                    <option value="All">All Cities</option>
                    {cities.map((city) => (
                      <option key={city} value={city}>
                        {city}
                      </option>
                    ))}
                  </select>
                </div>
                {/* Featured Filter */}
                <div className="flex items-center">
                  <input
                    id="featured"
                    type="checkbox"
                    checked={featuredOnly}
                    onChange={(e) => {
                      setFeaturedOnly(e.target.checked);
                      handleFilterChange();
                    }}
                    className="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
                    aria-label="Filter by featured organizations"
                  />
                  <label htmlFor="featured" className="ml-2 block text-sm text-blueGray-800">
                    Featured Only
                  </label>
                </div>
                {/* Optional: Additional Filters can be added here */}
              </div>
            </form>
          </div>
        </section>

        {/* Error Message */}
        {error && (
          <section className="py-4 bg-red-100">
            <div className="container mx-auto px-4">
              <p className="text-center text-red-600">{error}</p>
            </div>
          </section>
        )}

        {/* Organizations Section */}
        <section id="organizations" className="relative py-20 bg-blueGray-200">
          <div className="container mx-auto px-4">
            {/* Section Header */}
            <div className="text-center mb-12">
              <h3 className="text-3xl font-semibold text-blueGray-800">Organizations</h3>
              <p className="text-blueGray-600 mt-2">Discover organizations making a real impact</p>
            </div>
            {/* Organizations Grid */}
            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
              {organizations.length > 0 ? (
                organizations.map((org) => (
                  <OrganizationCard key={org.org_id} org={org} />
                ))
              ) : (
                <p className="text-center text-blueGray-600 col-span-full">No organizations found.</p>
              )}
            </div>
            {/* Load More Button */}
            {hasMore && (
              <div className="flex justify-center mt-8">
                <button
                  onClick={loadMore}
                  disabled={loading}
                  className={`bg-blueGray-800 text-white active:bg-blueGray-700 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none ${
                    loading ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'
                  } transition-all duration-150`}
                >
                  {loading ? 'Loading...' : 'Load More'}
                </button>
              </div>
            )}
            {!hasMore && organizations.length > 0 && (
              <p className="text-center text-blueGray-600 mt-4">No more organizations to display.</p>
            )}
          </div>
        </section>
      </main>
      <Footer />
    </>
  );
}

================
File: pages/visible/profile.js
================
// pages/account.js

import React, { useState, useEffect, useContext } from 'react';
import axios from 'axios';
import { AuthContext } from '../../contexts/AuthContext'; // Adjust the path as necessary
import { useRouter } from 'next/router';
import Navbar from '../../components/Navbars/AuthNavbar'; // Adjust the path as necessary
import Footer from '../../components/Footers/Footer'; // Adjust the path as necessary

const apiUrl = process.env.NEXT_PUBLIC_API_URL;

const AccountPage = () => {
  const [cartItems, setCartItems] = useState([]);
  const [orders, setOrders] = useState([]);
  const [error, setError] = useState(null);
  const router = useRouter();

  const { user, loading } = useContext(AuthContext);

  useEffect(() => {
    const fetchAccountData = async () => {
      try {
        if (!user || !user.account_id) {
          setError('User not authenticated.');
          return;
        }
  
        // Fetch user's cart items
        const cartResponse = await axios.get(`${apiUrl}/api/cart`, { withCredentials: true });
        setCartItems(cartResponse.data || []); // Fallback to empty array
  
        // Fetch user's orders
        const ordersResponse = await axios.get(`${apiUrl}/api/orders`, { withCredentials: true });
        setOrders(ordersResponse.data || []); // Fallback to empty array
      } catch (err) {
        console.error('Error fetching account data:', err);
        setError('Failed to load account information.');
      }
    };
  
    if (!loading) {
      fetchAccountData();
    }
  }, [user, loading]);

  if (loading) {
    return (
      <>
        <Navbar transparent />
        <main className="profile-page">
          <div className="container mx-auto px-4 py-20">
            <p className="text-center text-xl">Loading...</p>
          </div>
        </main>
        <Footer />
      </>
    );
  }

  if (error) {
    return (
      <>
        <Navbar transparent />
        <main className="profile-page">
          <div className="container mx-auto px-4 py-20">
            <p className="text-center text-red-500 text-xl">{error}</p>
          </div>
        </main>
        <Footer />
      </>
    );
  }

  if (!user) {
    if (typeof window !== 'undefined') {
      router.push('/auth/login'); // Adjust the login route as necessary
    }
    return null;
  }

  return (
    <>
      <Navbar transparent />
      <main className="profile-page">
        {/* Profile Header Section */}
        <section className="relative block h-500-px">
          <div
            className="absolute top-0 w-full h-full bg-center bg-cover"
            style={{
              backgroundImage:
                "url('https://giveagift-assets.nyc3.cdn.digitaloceanspaces.com/images/christmas_present.png')",
            }}
          >
            <span
              id="blackOverlay"
              className="w-full h-full absolute opacity-50 bg-black"
            ></span>
          </div>
          <div
            className="top-auto bottom-0 left-0 right-0 w-full absolute pointer-events-none overflow-hidden h-16"
            style={{ transform: "translateZ(0)" }}
          >
            <svg
              className="absolute bottom-0 overflow-hidden"
              xmlns="http://www.w3.org/2000/svg"
              preserveAspectRatio="none"
              version="1.1"
              viewBox="0 0 2560 100"
              x="0"
              y="0"
            >
              <polygon
                className="text-blueGray-200 fill-current"
                points="2560 0 2560 100 0 100"
              ></polygon>
            </svg>
          </div>
        </section>

        {/* Profile Information Section */}
        <section className="relative py-16 bg-blueGray-200">
          <div className="container mx-auto px-4">
            <div className="relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-xl rounded-lg -mt-96">
              <div className="px-6">
                <div className="flex flex-wrap justify-center">
                  {/* User Information */}
                <div className="text-center mt-12">
                  <h3 className="text-4xl font-semibold leading-normal mb-2 text-blueGray-700">
                    {user.username}
                  </h3>
                  <div className="text-sm leading-normal mt-0 mb-2 text-blueGray-400 font-bold uppercase">
                    <i className="fas fa-envelope mr-2 text-lg text-blueGray-400"></i>
                    {user.email}
                  </div>
                  <div className="flex flex-wrap justify-center">
                    <div className="w-full lg:w-9/12 px-4">
                      <button
                        className="bg-blueGray-800 text-white active:bg-blueGray-600 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 w-full sm:w-auto ease-linear transition-all duration-150"
                        type="button"
                        onClick={() => router.push('/account/update-profile')} // Adjust the route as necessary
                      >
                        Update Profile
                      </button>
                      <button
                        className="bg-blueGray-600 text-white active:bg-blueGray-500 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 w-full sm:w-auto ease-linear transition-all duration-150 mt-2"
                        type="button"
                        onClick={() => router.push('/account/change-password')} // Adjust the route as necessary
                      >
                        Change Password
                      </button>
                    </div>
                </div>
                </div>
                </div>

                {/* Order History */}
                <div className="mt-10 py-10 border-t border-blueGray-200">
                  <h2 className="text-2xl font-semibold text-blueGray-700 mb-4">Your Order History</h2>
                  {orders.length > 0 ? (
                    <div className="overflow-x-auto">
                      <table className="min-w-full bg-white">
                        <thead>
                          <tr>
                            <th className="py-2 px-4 bg-blueGray-100 text-left text-xs font-semibold text-blueGray-600 uppercase tracking-wider">
                              Order ID
                            </th>
                            <th className="py-2 px-4 bg-blueGray-100 text-left text-xs font-semibold text-blueGray-600 uppercase tracking-wider">
                              Date
                            </th>
                            <th className="py-2 px-4 bg-blueGray-100 text-left text-xs font-semibold text-blueGray-600 uppercase tracking-wider">
                              Total Amount
                            </th>
                            <th className="py-2 px-4 bg-blueGray-100 text-left text-xs font-semibold text-blueGray-600 uppercase tracking-wider">
                              Items
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          {orders.map(order => (
                            <tr key={order.order_id} className="border-b">
                              <td className="py-2 px-4 text-sm text-blueGray-700">
                                #{order.order_id}
                              </td>
                              <td className="py-2 px-4 text-sm text-blueGray-700">
                                {new Date(order.order_date).toLocaleDateString()}
                              </td>
                              <td className="py-2 px-4 text-sm text-blueGray-700">
                                ${order.total_amount.toFixed(2)}
                              </td>
                              <td className="py-2 px-4 text-sm text-blueGray-700">
                                <ul className="list-disc list-inside">
                                  {order.items.map(item => (
                                    <li key={item.order_item_id}>
                                      {item.item_name} {item.size && `(${item.size}`}{item.size && item.color && `, ${item.color})`} - Qty: {item.quantity}
                                    </li>
                                  ))}
                                </ul>
                              </td>
                            </tr>
                          ))}
                        </tbody>
                      </table>
                    </div>
                  ) : (
                    <p className="text-blueGray-600">You have no orders yet.</p>
                  )}
                </div>

                {/* Cart Items */}
                <div className="mt-10 py-10 border-t border-blueGray-200">
                  <h2 className="text-2xl font-semibold text-blueGray-700 mb-4">Your Cart Items</h2>
                  {cartItems.length > 0 ? (
                    <div className="overflow-x-auto">
                      <table className="min-w-full bg-white">
                        <thead>
                          <tr>
                            <th className="py-2 px-4 bg-blueGray-100 text-left text-xs font-semibold text-blueGray-600 uppercase tracking-wider">
                              Item Name
                            </th>
                            <th className="py-2 px-4 bg-blueGray-100 text-left text-xs font-semibold text-blueGray-600 uppercase tracking-wider">
                              Size
                            </th>
                            <th className="py-2 px-4 bg-blueGray-100 text-left text-xs font-semibold text-blueGray-600 uppercase tracking-wider">
                              Color
                            </th>
                            <th className="py-2 px-4 bg-blueGray-100 text-left text-xs font-semibold text-blueGray-600 uppercase tracking-wider">
                              Quantity
                            </th>
                            <th className="py-2 px-4 bg-blueGray-100 text-left text-xs font-semibold text-blueGray-600 uppercase tracking-wider">
                              Actions
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          {cartItems.map(item => (
                            <tr key={item.cart_item_id} className="border-b">
                              <td className="py-2 px-4 text-sm text-blueGray-700">
                                {item.item_name}
                              </td>
                              <td className="py-2 px-4 text-sm text-blueGray-700">
                                {item.size || 'N/A'}
                              </td>
                              <td className="py-2 px-4 text-sm text-blueGray-700">
                                {item.color || 'N/A'}
                              </td>
                              <td className="py-2 px-4 text-sm text-blueGray-700">
                                {item.quantity}
                              </td>
                              <td className="py-2 px-4 text-sm text-blueGray-700">
                                <button
                                  className="bg-red-500 text-white px-3 py-1 rounded"
                                  // onClick={() => removeCartItem(item.cart_item_id)} // Implement removeCartItem function
                                >
                                  Remove
                                </button>
                              </td>
                            </tr>
                          ))}
                        </tbody>
                      </table>
                    </div>
                  ) : (
                    <p className="text-blueGray-600">Your cart is empty.</p>
                  )}
                </div>
              </div>
            </div>
          </div>
        </section>
      </main>
      <Footer />
    </>
  );
};

export default AccountPage;

================
File: pages/visible/registerorg.js
================
// pages/registerorganization.js

import React, { useState, useContext, useEffect } from 'react';
import { useRouter } from 'next/router';
import Auth from 'layouts/Auth.js';
import { AuthContext } from '../../contexts/AuthContext';
import axios from 'axios';
import { useJsApiLoader, Autocomplete } from '@react-google-maps/api';

const apiUrl = process.env.NEXT_PUBLIC_API_URL;
const GOOGLE_API_KEY = process.env.NEXT_PUBLIC_GOOGLE_API_KEY;

const libraries = ['places'];

const RegisterOrganization = () => {
  const { user, setUser } = useContext(AuthContext);
  const router = useRouter();

  const [organizationData, setOrganizationData] = useState({
    name: '',
    description: '',
    photo: null,
    address: '',
    city: '',
    state: '',
    zip_code: '',
    website_link: '',
  });
  const [errorMessage, setErrorMessage] = useState('');
  const [loading, setLoading] = useState(false);

  const { isLoaded } = useJsApiLoader({
    googleMapsApiKey: GOOGLE_API_KEY,
    libraries,
  });

  const [autocomplete, setAutocomplete] = useState(null);

  useEffect(() => {
    if (!user) {
      router.push('../auth/login');
    } else if (user.is_org_admin) {
      router.push('../admin/dashboard');
    }
  }, [user]);

  const handleInputChange = (e) => {
    const { name, value } = e.target;
    setOrganizationData({ ...organizationData, [name]: value });
  };

  const handleFileChange = (e) => {
    setOrganizationData({ ...organizationData, photo: e.target.files[0] });
  };

  const onAutocompleteLoad = (autocompleteInstance) => {
    setAutocomplete(autocompleteInstance);
  };

  const onPlaceChanged = () => {
    if (autocomplete) {
      const place = autocomplete.getPlace();
      let streetAddress = '';
      let city = '';
      let state = '';
      let zip = '';

      place.address_components.forEach((component) => {
        const types = component.types;

        if (types.includes('street_number')) {
          streetAddress = component.long_name;
        }

        if (types.includes('route')) {
          streetAddress += ` ${component.long_name}`;
        }

        if (types.includes('locality')) {
          city = component.long_name;
        }

        if (types.includes('administrative_area_level_1')) {
          state = component.short_name;
        }

        if (types.includes('postal_code')) {
          zip = component.long_name;
        }
      });

      setOrganizationData({
        ...organizationData,
        address: streetAddress.trim(),
        city,
        state,
        zip_code: zip,
      });
    }
  };

  const validateForm = () => {
    const errors = [];

    if (organizationData.name.length < 3) {
      errors.push('Organization name must be at least 3 characters.');
    }

    if (organizationData.zip_code && !/^\d{5}$/.test(organizationData.zip_code)) {
      errors.push('Zip code must be exactly 5 digits.');
    }

    if (
      organizationData.website_link &&
      !/^(https?:\/\/)?([\w-]+\.)+[\w-]+(\/[\w-./?%&=]*)?$/.test(organizationData.website_link)
    ) {
      errors.push('Please enter a valid website URL.');
    }

    if (errors.length > 0) {
      setErrorMessage(errors.join(' '));
      return false;
    }

    setErrorMessage('');
    return true;
  };

  const handleSubmit = async (e) => {
    e.preventDefault();

    if (!validateForm()) return;

    setLoading(true);

    try {
      const formData = new FormData();
      formData.append('name', organizationData.name);
      formData.append('description', organizationData.description);
      if (organizationData.photo) {
        formData.append('photo', organizationData.photo);
      }
      formData.append('address', organizationData.address);
      formData.append('city', organizationData.city);
      formData.append('state', organizationData.state);
      formData.append('zip_code', organizationData.zip_code);
      formData.append('website_link', organizationData.website_link);

      const response = await axios.post(`${apiUrl}/api/organizations/register`, formData, {
        withCredentials: true,
        headers: { 'Content-Type': 'multipart/form-data' },
      });

      setUser({ ...user, org_id: response.data.org_id, is_org_admin: true });
      router.push('/organizationdashboard');
    } catch (error) {
      console.error('Error registering organization:', error);
      setErrorMessage(error.response?.data?.error || 'An error occurred.');
    } finally {
      setLoading(false);
    }
  };

  if (!isLoaded) return (
    <div className="flex justify-center items-center h-screen">
      <p className="text-xl">Loading...</p>
    </div>
  );

  return (
    <div className="container mx-auto px-4 h-full">
      <div className="flex content-center items-center justify-center h-full">
        <div className="w-full lg:w-6/12 px-4">
          <div className="relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-blueGray-200 border-0">
            <div className="rounded-t mb-0 px-6 py-6">
              <div className="text-center mb-3">
                <h6 className="text-blueGray-500 text-sm font-bold">
                  Register Your Organization
                </h6>
              </div>
              {errorMessage && (
                <div className="text-center mb-3">
                  <p className="text-red-500 text-sm">{errorMessage}</p>
                </div>
              )}
              <hr className="mt-6 border-b-1 border-blueGray-300" />
            </div>
            <div className="flex-auto px-4 lg:px-10 py-10 pt-0">
              <form onSubmit={handleSubmit} encType="multipart/form-data" noValidate>
                {/* Organization Name */}
                <div className="relative w-full mb-3">
                  <label
                    className="block uppercase text-blueGray-600 text-xs font-bold mb-2"
                    htmlFor="name"
                  >
                    Organization Name
                  </label>
                  <input
                    type="text"
                    id="name"
                    name="name"
                    value={organizationData.name}
                    onChange={handleInputChange}
                    className="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
                    placeholder="Organization Name"
                    required
                  />
                </div>

                {/* Description */}
                <div className="relative w-full mb-3">
                  <label
                    className="block uppercase text-blueGray-600 text-xs font-bold mb-2"
                    htmlFor="description"
                  >
                    Description
                  </label>
                  <textarea
                    id="description"
                    name="description"
                    value={organizationData.description}
                    onChange={handleInputChange}
                    className="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
                    placeholder="Describe your organization"
                    rows="4"
                  ></textarea>
                </div>

                {/* Photo Upload */}
                <div className="relative w-full mb-3">
                  <label
                    className="block uppercase text-blueGray-600 text-xs font-bold mb-2"
                    htmlFor="photo"
                  >
                    Upload Photo
                  </label>
                  <input
                    type="file"
                    id="photo"
                    name="photo"
                    accept="image/*"
                    onChange={handleFileChange}
                    className="border-0 px-3 py-3 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
                  />
                </div>

                {/* Address with Autocomplete */}
                <div className="relative w-full mb-3">
                  <label
                    className="block uppercase text-blueGray-600 text-xs font-bold mb-2"
                    htmlFor="address"
                  >
                    Address
                  </label>
                  <Autocomplete onLoad={onAutocompleteLoad} onPlaceChanged={onPlaceChanged}>
                    <input
                      type="text"
                      id="address"
                      name="address"
                      value={organizationData.address}
                      onChange={handleInputChange}
                      className="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
                      placeholder="Enter street address"
                      required
                    />
                  </Autocomplete>
                </div>

                {/* City */}
                <div className="relative w-full mb-3">
                  <label
                    className="block uppercase text-blueGray-600 text-xs font-bold mb-2"
                    htmlFor="city"
                  >
                    City
                  </label>
                  <input
                    type="text"
                    id="city"
                    name="city"
                    value={organizationData.city}
                    onChange={handleInputChange}
                    className="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
                    placeholder="City"
                    required
                  />
                </div>

                {/* State */}
                <div className="relative w-full mb-3">
                  <label
                    className="block uppercase text-blueGray-600 text-xs font-bold mb-2"
                    htmlFor="state"
                  >
                    State
                  </label>
                  <input
                    type="text"
                    id="state"
                    name="state"
                    value={organizationData.state}
                    onChange={handleInputChange}
                    className="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
                    placeholder="State"
                    required
                  />
                </div>

                {/* Zip Code */}
                <div className="relative w-full mb-3">
                  <label
                    className="block uppercase text-blueGray-600 text-xs font-bold mb-2"
                    htmlFor="zip_code"
                  >
                    Zip Code
                  </label>
                  <input
                    type="text"
                    id="zip_code"
                    name="zip_code"
                    value={organizationData.zip_code}
                    onChange={handleInputChange}
                    className="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
                    placeholder="Zip Code"
                    required
                  />
                </div>

                {/* Website Link */}
                <div className="relative w-full mb-3">
                  <label
                    className="block uppercase text-blueGray-600 text-xs font-bold mb-2"
                    htmlFor="website_link"
                  >
                    Website Link
                  </label>
                  <input
                    type="text"
                    id="website_link"
                    name="website_link"
                    value={organizationData.website_link}
                    onChange={handleInputChange}
                    className="border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150"
                    placeholder="https://yourorganization.com"
                  />
                </div>

                {/* Submit Button */}
                <div className="text-center mt-6">
                  <button
                    className="bg-blueGray-800 text-white active:bg-blueGray-600 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 w-full ease-linear transition-all duration-150"
                    type="submit"
                    disabled={loading}
                  >
                    {loading ? 'Registering...' : 'Register Organization'}
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

// Assign the Auth layout to this page
RegisterOrganization.layout = Auth;

export default RegisterOrganization;

================
File: pages/visible/success.js
================
// pages/checkout/success.js
import React, { useEffect, useState } from 'react';
import { useRouter } from 'next/router';
import axios from 'axios';
import Navbar from 'components/Navbars/AuthNavbar';
import Footer from 'components/Footers/Footer';

const SuccessPage = () => {
  const router = useRouter();
  const { session_id } = router.query;
  const [order, setOrder] = useState(null);

  useEffect(() => {
    if (session_id) {
      // Optionally, fetch order details using the session_id
      // This depends on how you've structured your backend
      axios
        .get(`/api/orders/${session_id}`)
        .then((response) => setOrder(response.data))
        .catch((error) => console.error('Error fetching order:', error));
    }
  }, [session_id]);

  return (
    <>
      <Navbar transparent />
      <main className="pt-20 min-h-[80vh] bg-gray-800">
        <div className="container mx-auto px-4 py-8 text-center text-white">
          <h2 className="text-3xl font-semibold mb-4">Thank You for Your Purchase!</h2>
          <p className="mb-6">Your order has been placed successfully.</p>
          {order && (
            <div>
              <h3 className="text-2xl font-semibold">Order Details</h3>
              {/* Display order details */}
            </div>
          )}
          <a href="/visible/orglist" className="text-blue-400 hover:underline">
            Continue Shopping
          </a>
        </div>
      </main>
      <Footer />
    </>
  );
};

export default SuccessPage;

================
File: pages/_app.js
================
// src/pages/_app.js

import React, { Suspense } from "react";
import Head from "next/head";
import Router from "next/router";
import NProgress from 'nprogress';
import 'nprogress/nprogress.css';
import Providers from 'components/Providers';
import ErrorBoundary from 'components/ErrorBoundary';
import { ModalProvider } from '../contexts/ModalContext';
import ModalRenderer from '../components/Modals/ModalRenderer';
import { ToastContainer, toast } from 'react-toastify';
import 'react-toastify/dist/ReactToastify.css';

import "@fortawesome/fontawesome-free/css/all.min.css";
import "styles/index.css";

// Configure NProgress
NProgress.configure({ showSpinner: false });

// Route Change Events for NProgress
Router.events.on('routeChangeStart', () => {
  NProgress.start();
});

Router.events.on('routeChangeComplete', () => {
  NProgress.done();
});

Router.events.on('routeChangeError', () => {
  NProgress.done();
});

const MyApp = ({ Component, pageProps }) => {
  const Layout = Component.layout || (({ children }) => <>{children}</>);

  return (
    <React.Fragment>
      <Head>
        <meta
          name="viewport"
          content="width=device-width, initial-scale=1, shrink-to-fit=no"
        />
        <link rel="icon" href="/favicon.ico" />
        <meta name="description" content="GiftDrive.org - Connecting donors with organizations to make a positive impact." />
        {/* Open Graph Meta Tags */}
        <meta property="og:title" content="GiftDrive.org" />
        <meta property="og:description" content="Connecting donors with organizations to make a positive impact." />
        <meta property="og:image" content="https://giveagift-assets.nyc3.cdn.digitaloceanspaces.com/images/GiftDriveOGImage.png" />
        <meta property="og:url" content="https://giftdrive.org" />
        <meta property="og:type" content="website" />
        {/* Twitter Card Meta Tags */}
        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:title" content="GiftDrive.org" />
        <meta name="twitter:description" content="Connecting donors with organizations to make a positive impact." />
        <meta name="twitter:image" content="https://giveagift-assets.nyc3.cdn.digitaloceanspaces.com/images/GiftDriveTwitterImage.png" />
        <meta name="theme-color" content="#ffffff" />
        <title>GiftDrive.org</title>
      </Head>
      <Providers>
        <ErrorBoundary>
          <Layout>
            <Suspense fallback={<div className="flex justify-center items-center min-h-screen">Loading...</div>}>
              <ModalProvider>
                <Component {...pageProps} />
                <ToastContainer />
                <ModalRenderer />
              </ModalProvider>
            </Suspense>
          </Layout>
        </ErrorBoundary>
      </Providers>
    </React.Fragment>
  );
};

export default MyApp;

================
File: pages/_document.js
================
import React from "react";
import Document, { Html, Head, Main, NextScript } from "next/document";

class MyDocument extends Document {
  render() {
    return (
      <Html lang="en">
        <Head>
          <meta charSet="utf-8" />
          <meta name="theme-color" content="#000000" />
          <link rel="shortcut icon" href="/img/brand/favicon.ico" />
          <link
            rel="apple-touch-icon"
            sizes="76x76"
            href="/img/brand/apple-icon.png"
          />
        </Head>
        <body className="text-blueGray-700 antialiased">
          <div id="page-transition"></div>
          <Main />
          <NextScript />
        </body>
      </Html>
    );
  }
}

export default MyDocument;

================
File: pages/_error.js
================
import React, { Component } from "react";
import Router from "next/router";

export default class _error extends Component {
  componentDidMount = () => {
    Router.push("/");
  };

  render() {
    return <div />;
  }
}

================
File: pages/404.js
================
import React from "react";
import Navbar from 'components/Navbars/AuthNavbar.js';
import Footer from 'components/Footers/Footer.js';

// pages/404.js

import Link from 'next/link';

const Custom404 = () => {
  return (
    <>
    <Navbar />
    <div className="min-h-screen flex flex-col items-center justify-center bg-gray-500 px-4">
      {/* 404 Heading */}
      <h1 className="text-6xl font-bold text-gray-800 mb-4">404</h1>
      
      {/* Subheading */}
      <h2 className="text-2xl font-semibold text-gray-700 mb-6">Page Not Found</h2>
      
      {/* Description */}
      <p className="text-gray-600 mb-6 text-center">
        Oops! The page you are looking for doesn&apos;t exist or has been moved.
      </p>
      
      {/* Home Button */}
      <Link href="/" className="px-6 py-3 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors duration-300">
          Go Back Home
      </Link>
    </div>
    <Footer />
    </>
  );
};

export default Custom404;

================
File: pages/index.js
================
// pages.index.js

import React from "react";
import Link from "next/link";
import Image from "next/image";

// components
import Navbar from "components/Navbars/AuthNavbar.js";
import Footer from "components/Footers/Footer.js";

export default function Landing() {
  return (
    <>
      <Navbar transparent />
      <main>
        {/* 1. Main Header Section */}
        <div className="relative pt-16 pb-32 flex content-center items-center justify-center min-h-[75vh]">
          {/* Background Image */}
          <div className="absolute top-0 w-full h-full">
            <Image
              src="https://giveagift-assets.nyc3.cdn.digitaloceanspaces.com/images/homeimage1.png"
              alt="Background Image"
              layout="fill"
              objectFit="cover"
              quality={100}
              priority
            />
            <span
              id="blackOverlay"
              className="w-full h-full absolute opacity-75 bg-black"
            ></span>
          </div>

          {/* Content Container */}
          <div className="container relative mx-auto px-4">
            <div className="items-center flex flex-wrap">
              <div className="w-full lg:w-6/12 px-4 ml-auto mr-auto text-center">
                <div className="pr-0 lg:pr-12">
                  {/* Heading */}
                  <h1 className="text-white font-semibold text-4xl sm:text-5xl md:text-6xl">
                    Gift Drives Start Here
                  </h1>

                  {/* Paragraph */}
                  <p className="mt-4 text-lg sm:text-xl text-blueGray-200">
                    Making it easy to give joy to those in need. Connect with
                    children from partnered organizations, browse curated gift
                    ideas, and make a lasting impactall from the comfort of your
                    home.
                  </p>

                  {/* Buttons */}
                  <div className="mt-8 flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-4">
                    <Link
                      href="/visible/orglist"
                      className="bg-white text-blueGray-700 active:bg-blueGray-50 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none transition-all duration-150"
                    >
                      Explore Organizations
                    </Link>
                    <Link
                      href="/visible/registerorg"
                      className="bg-blueGray-700 text-white active:bg-blueGray-600 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none transition-all duration-150"
                    >
                      Enroll Your Organization
                    </Link>
                  </div>
                </div>
              </div>
            </div>
          </div>

          {/* Decorative SVG */}
          <div
            className="top-auto bottom-0 left-0 right-0 w-full absolute pointer-events-none overflow-hidden h-16"
            style={{ transform: "translateZ(0)" }}
          >
            <svg
              className="absolute bottom-0 overflow-hidden"
              xmlns="http://www.w3.org/2000/svg"
              preserveAspectRatio="none"
              version="1.1"
              viewBox="0 0 2560 100"
              x="0"
              y="0"
            >
              <polygon
                className="text-blueGray-200 fill-current"
                points="2560 0 2560 100 0 100"
              ></polygon>
            </svg>
          </div>
        </div>

        {/* 2. Features Section */}
        <section className="pb-20 bg-blueGray-200 -mt-24">
          <div className="container mx-auto px-4">
            <div className="flex flex-wrap">
              {/* Feature 1 */}
              <div className="lg:pt-12 pt-6 w-full md:w-4/12 px-4 text-center">
                <div className="relative flex flex-col min-w-0 break-words bg-white w-full mb-8 shadow-lg rounded-lg">
                  <div className="px-4 py-5 flex-auto">
                    <div className="text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 mb-5 shadow-lg rounded-full bg-red-400">
                      <i className="fas fa-gift"></i>
                    </div>
                    <h6 className="text-xl font-semibold">
                      Connect with Organizations
                    </h6>
                    <p className="mt-2 mb-4 text-blueGray-500">
                      Browse and connect with trusted organizations to support
                      children in need.
                    </p>
                  </div>
                </div>
              </div>

              {/* Feature 2 */}
              <div className="w-full md:w-4/12 px-4 text-center">
                <div className="relative flex flex-col min-w-0 break-words bg-white w-full mb-8 shadow-lg rounded-lg">
                  <div className="px-4 py-5 flex-auto">
                    <div className="text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 mb-5 shadow-lg rounded-full bg-lightBlue-400">
                      <i className="fas fa-shopping-cart"></i>
                    </div>
                    <h6 className="text-xl font-semibold">Curated Gift Ideas</h6>
                    <p className="mt-2 mb-4 text-blueGray-500">
                      Discover a selection of curated gift ideas tailored to each
                      child&apos;s needs and wishes.
                    </p>
                  </div>
                </div>
              </div>

              {/* Feature 3 */}
              <div className="pt-6 w-full md:w-4/12 px-4 text-center">
                <div className="relative flex flex-col min-w-0 break-words bg-white w-full mb-8 shadow-lg rounded-lg">
                  <div className="px-4 py-5 flex-auto">
                    <div className="text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 mb-5 shadow-lg rounded-full bg-emerald-400">
                      <i className="fas fa-heart"></i>
                    </div>
                    <h6 className="text-xl font-semibold">
                      Make a Lasting Impact
                    </h6>
                    <p className="mt-2 mb-4 text-blueGray-500">
                      Your contributions bring joy and make a meaningful
                      difference in a child&apos;s life.
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        {/* 3. Drive Types Section */}
        <section className="relative py-20 bg-blueGray-800">
          <div className="container mx-auto px-4">
            <div className="text-center mb-12">
              <h2 className="text-4xl font-semibold text-white">Our Drive Types</h2>
              <p className="text-lg leading-relaxed m-4 text-blueGray-200">
                Choose from various types of gift drives to support children in need.
              </p>
            </div>
            <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
              {/* Drive Type 1 */}
              <div className="bg-blueGray-100 shadow-lg rounded-lg overflow-hidden flex flex-col h-full">
                <div className="relative w-11/12 mx-auto mt-4 h-48 rounded-lg overflow-hidden">
                  <Image
                    src="https://giveagift-assets.nyc3.cdn.digitaloceanspaces.com/images/landingpage2.png"
                    alt="Toy Drives"
                    fill
                    objectFit="cover"
                    priority
                  />
                </div>
                <div className="px-4 py-5 flex-grow flex flex-col">
                  <h6 className="text-xl font-semibold mt-5">Toy Drives</h6>
                  <p className="mt-2 mb-4 text-blueGray-500 flex-grow">
                    Provide new toys to children to brighten their day.
                  </p>
                </div>
              </div>
              
              {/* Drive Type 2 */}
              <div className="bg-blueGray-100 shadow-lg rounded-lg overflow-hidden flex flex-col h-full">
                <div className="relative w-11/12 mx-auto mt-4 h-48 rounded-lg overflow-hidden">
                  <Image
                    src="https://giveagift-assets.nyc3.cdn.digitaloceanspaces.com/images/homeimage4.png"
                    alt="Clothing Drives"
                    fill
                    objectFit="cover"
                    priority
                  />
                </div>
                <div className="px-4 py-5 flex-grow flex flex-col">
                  <h6 className="text-xl font-semibold mt-5">Clothing Drives</h6>
                  <p className="mt-2 mb-4 text-blueGray-500 flex-grow">
                    Donate clothing items to keep children warm and comfortable.
                  </p>
                </div>
              </div>
              
              {/* Drive Type 3 */}
              <div className="bg-blueGray-100 shadow-lg rounded-lg overflow-hidden flex flex-col h-full">
                <div className="relative w-11/12 mx-auto mt-4 h-48 rounded-lg overflow-hidden">
                  <Image
                    src="https://giveagift-assets.nyc3.cdn.digitaloceanspaces.com/images/landingpage1.png"
                    alt="Educational Supplies Drives"
                    fill
                    objectFit="cover"
                    priority
                  />
                </div>
                <div className="px-4 py-5 flex-grow flex flex-col">
                  <h6 className="text-xl font-semibold mt-5">
                    Educational Supplies Drives
                  </h6>
                  <p className="mt-2 mb-4 text-blueGray-500 flex-grow">
                    Help equip children with necessary educational materials.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </section>


        {/* 4. Testimonials Section */}
        <section className="relative py-20">
          <div className="container mx-auto px-4">
            <div className="text-center mb-12">
              <h2 className="text-4xl font-semibold">What Our Supporters Say</h2>
              <p className="text-lg leading-relaxed m-4 text-blueGray-500">
                Hear from individuals who have made a difference through our
                platform.
              </p>
            </div>
            <div className="flex flex-wrap">
              {/* Testimonial 1 */}
              <div className="w-full md:w-4/12 px-4">
                <div className="relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded-lg">
                  <div className="relative w-full h-48 rounded-t-lg overflow-hidden">
                    <Image
                      src="https://giveagift-assets.nyc3.cdn.digitaloceanspaces.com/images/landingpage3.png"
                      alt="John Doe"
                      fill
                      objectFit="cover"
                      priority
                    />
                  </div>
                  <blockquote className="relative p-8 mb-4">
                    <h4 className="text-xl font-bold text-blueGray-700">
                      &quot;An amazing experience&quot;
                    </h4>
                    <p className="text-md font-light mt-2 text-blueGray-500">
                      I was able to make a real difference in a child&apos;s life with
                      just a few clicks.
                    </p>
                    <div className="mt-4">
                      <p className="text-sm font-semibold text-blueGray-600">
                        - John Doe
                      </p>
                    </div>
                  </blockquote>
                </div>
              </div>
              {/* Testimonial 2 */}
              <div className="w-full md:w-4/12 px-4">
                <div className="relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded-lg">
                  <div className="relative w-full h-48 rounded-t-lg overflow-hidden">
                    <Image
                      src="https://giveagift-assets.nyc3.cdn.digitaloceanspaces.com/images/homeimage3.png"
                      alt="Jane Smith"
                      fill
                      objectFit="cover"
                      priority
                    />
                  </div>
                  <blockquote className="relative p-8 mb-4">
                    <h4 className="text-xl font-bold text-blueGray-700">
                      &quot;Easy and impactful&quot;
                    </h4>
                    <p className="text-md font-light mt-2 text-blueGray-500">
                      The process was seamless, and I loved knowing exactly where
                      my gift was going.
                    </p>
                    <div className="mt-4">
                      <p className="text-sm font-semibold text-blueGray-600">
                        - Jane Smith
                      </p>
                    </div>
                  </blockquote>
                </div>
              </div>
              {/* Testimonial 3 */}
              <div className="w-full md:w-4/12 px-4">
                <div className="relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded-lg">
                  <div className="relative w-full h-48 rounded-t-lg overflow-hidden">
                    <Image
                      src="https://giveagift-assets.nyc3.cdn.digitaloceanspaces.com/images/homeimage2.png"
                      alt="Emily Johnson"
                      fill
                      objectFit="cover"
                      priority
                    />
                  </div>
                  <blockquote className="relative p-8 mb-4">
                    <h4 className="text-xl font-bold text-blueGray-700">
                      &quot;Highly recommend&quot;
                    </h4>
                    <p className="text-md font-light mt-2 text-blueGray-500">
                      A wonderful way to give back during the holidays and beyond.
                    </p>
                    <div className="mt-4">
                      <p className="text-sm font-semibold text-blueGray-600">
                        - Emily Johnson
                      </p>
                    </div>
                  </blockquote>
                </div>
              </div>
            </div>
          </div>
        </section>

        {/* 5. Stats Section */}
        <section className="py-20 bg-blueGray-200">
          <div className="container mx-auto px-4">
            <div className="flex flex-wrap text-center">
              <div className="w-full md:w-3/12 px-4">
                <h2 className="text-5xl font-semibold text-blueGray-700">
                  500+
                </h2>
                <p className="mt-2 mb-4 text-blueGray-500">
                  Children Supported
                </p>
              </div>
              <div className="w-full md:w-3/12 px-4">
                <h2 className="text-5xl font-semibold text-blueGray-700">
                  200+
                </h2>
                <p className="mt-2 mb-4 text-blueGray-500">
                  Organizations Partnered
                </p>
              </div>
              <div className="w-full md:w-3/12 px-4">
                <h2 className="text-5xl font-semibold text-blueGray-700">
                  1,000+
                </h2>
                <p className="mt-2 mb-4 text-blueGray-500">Gifts Donated</p>
              </div>
              <div className="w-full md:w-3/12 px-4">
                <h2 className="text-5xl font-semibold text-blueGray-700">
                  100%
                </h2>
                <p className="mt-2 mb-4 text-blueGray-500">Transparency</p>
              </div>
            </div>
          </div>
        </section>

        {/* 6. Call to Action Section */}
        <section className="relative block py-24 bg-blueGray-800">
          <div className="container mx-auto px-4">
            <div className="flex flex-wrap justify-center">
              <div className="w-full lg:w-6/12 px-4">
                <div className="relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-blueGray-200">
                  <div className="flex-auto p-5 lg:p-10">
                    <h4 className="text-2xl font-semibold">
                      Register Your Organization
                    </h4>
                    <p className="leading-relaxed mt-1 mb-4 text-blueGray-500">
                      Join us in making a difference. Enroll your organization to
                      connect with more supporters.
                    </p>
                    <div className="text-center mt-6">
                      <Link href="/visible/registerorg">
                        <span className="bg-blueGray-800 text-white active:bg-blueGray-600 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none ease-linear transition-all duration-150 cursor-pointer">
                          Register Now
                        </span>
                      </Link>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        {/* Optional: Additional Spacing or Decorative Elements */}
        {/* You can add more sections or decorative elements here as needed */}
      </main>
      <Footer />
    </>
  );
}

================
File: pages/landing.js
================
/* eslint-disable react/jsx-no-target-blank */
import React from "react";
import Link from "next/link";

import Footer from "components/Footers/Footer.js";

export default function Index() {
  return (<>
    <section className="header relative pt-16 items-center flex h-screen max-h-860-px">
      <div className="container mx-auto items-center flex flex-wrap">
        <div className="w-full md:w-8/12 lg:w-6/12 xl:w-6/12 px-4">
          <div className="pt-32 sm:pt-0">
            <h2 className="font-semibold text-4xl text-blueGray-600">
              Notus NextJS - A beautiful extension for Tailwind CSS.
            </h2>
            <p className="mt-4 text-lg leading-relaxed text-blueGray-500">
              Notus NextJS is Free and Open Source. It does not change any of
              the CSS from{" "}
              <a
                href="https://tailwindcss.com/?ref=creativetim"
                className="text-blueGray-600"
                target="_blank"
                rel="noopener noreferrer"
              >
                Tailwind CSS
              </a>
              . It features multiple HTML elements and it comes with dynamic
              components for ReactJS, Vue and Angular.
            </p>
            <div className="mt-12">
              <a
                href="https://www.creative-tim.com/learning-lab/tailwind/nextjs/overview/notus?ref=nnjs-index"
                target="_blank"
                className="get-started text-white font-bold px-6 py-4 rounded outline-none focus:outline-none mr-1 mb-1 bg-blueGray-400 active:bg-blueGray-500 uppercase text-sm shadow hover:shadow-lg ease-linear transition-all duration-150"
              >
                Get started
              </a>
              <a
                href="https://github.com/creativetimofficial/notus-nextjs?ref=nnjs-index"
                className="github-star ml-1 text-white font-bold px-6 py-4 rounded outline-none focus:outline-none mr-1 mb-1 bg-blueGray-700 active:bg-blueGray-600 uppercase text-sm shadow hover:shadow-lg"
                target="_blank"
              >
                Github Star
              </a>
            </div>
          </div>
        </div>
      </div>
      <img
        className="absolute top-0 b-auto right-0 pt-16 sm:w-6/12 -mt-48 sm:mt-0 w-10/12 max-h-860-px"
        src="/img/pattern_nextjs.png"
        alt="..."
      />
    </section>
    <section className="mt-48 md:mt-40 pb-40 relative bg-blueGray-100">
      <div
        className="-mt-20 top-0 bottom-auto left-0 right-0 w-full absolute h-20"
        style={{ transform: "translateZ(0)" }}
      >
        <svg
          className="absolute bottom-0 overflow-hidden"
          xmlns="http://www.w3.org/2000/svg"
          preserveAspectRatio="none"
          version="1.1"
          viewBox="0 0 2560 100"
          x="0"
          y="0"
        >
          <polygon
            className="text-blueGray-100 fill-current"
            points="2560 0 2560 100 0 100"
          ></polygon>
        </svg>
      </div>
      <div className="container mx-auto">
        <div className="flex flex-wrap items-center">
          <div className="w-10/12 md:w-6/12 lg:w-4/12 px-12 md:px-4 mr-auto ml-auto -mt-32">
            <div className="relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded-lg bg-blueGray-700">
              <img
                alt="..."
                src="https://images.unsplash.com/photo-1498050108023-c5249f4df085?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=700&q=80"
                className="w-full align-middle rounded-t-lg"
              />
              <blockquote className="relative p-8 mb-4">
                <svg
                  preserveAspectRatio="none"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 583 95"
                  className="absolute left-0 w-full block h-95-px -top-94-px"
                >
                  <polygon
                    points="-30,95 583,95 583,65"
                    className="text-blueGray-700 fill-current"
                  ></polygon>
                </svg>
                <h4 className="text-xl font-bold text-white">
                  Great for your awesome project
                </h4>
                <p className="text-md font-light mt-2 text-white">
                  Putting together a page has never been easier than matching
                  together pre-made components. From landing pages
                  presentation to login areas, you can easily customise and
                  built your pages.
                </p>
              </blockquote>
            </div>
          </div>

          <div className="w-full md:w-6/12 px-4">
            <div className="flex flex-wrap">
              <div className="w-full md:w-6/12 px-4">
                <div className="relative flex flex-col mt-4">
                  <div className="px-4 py-5 flex-auto">
                    <div className="text-blueGray-500 p-3 text-center inline-flex items-center justify-center w-12 h-12 mb-5 shadow-lg rounded-full bg-white">
                      <i className="fas fa-sitemap"></i>
                    </div>
                    <h6 className="text-xl mb-1 font-semibold">
                      CSS Components
                    </h6>
                    <p className="mb-4 text-blueGray-500">
                      Notus NextJS comes with a huge number of Fully Coded CSS
                      components.
                    </p>
                  </div>
                </div>
                <div className="relative flex flex-col min-w-0">
                  <div className="px-4 py-5 flex-auto">
                    <div className="text-blueGray-500 p-3 text-center inline-flex items-center justify-center w-12 h-12 mb-5 shadow-lg rounded-full bg-white">
                      <i className="fas fa-drafting-compass"></i>
                    </div>
                    <h6 className="text-xl mb-1 font-semibold">
                      JavaScript Components
                    </h6>
                    <p className="mb-4 text-blueGray-500">
                      We also feature many dynamic components for React,
                      NextJS, Vue and Angular.
                    </p>
                  </div>
                </div>
              </div>
              <div className="w-full md:w-6/12 px-4">
                <div className="relative flex flex-col min-w-0 mt-4">
                  <div className="px-4 py-5 flex-auto">
                    <div className="text-blueGray-500 p-3 text-center inline-flex items-center justify-center w-12 h-12 mb-5 shadow-lg rounded-full bg-white">
                      <i className="fas fa-newspaper"></i>
                    </div>
                    <h6 className="text-xl mb-1 font-semibold">Pages</h6>
                    <p className="mb-4 text-blueGray-500">
                      This extension also comes with 3 sample pages. They are
                      fully coded so you can start working instantly.
                    </p>
                  </div>
                </div>
                <div className="relative flex flex-col min-w-0">
                  <div className="px-4 py-5 flex-auto">
                    <div className="text-blueGray-500 p-3 text-center inline-flex items-center justify-center w-12 h-12 mb-5 shadow-lg rounded-full bg-white">
                      <i className="fas fa-file-alt"></i>
                    </div>
                    <h6 className="text-xl mb-1 font-semibold">
                      Documentation
                    </h6>
                    <p className="mb-4 text-blueGray-500">
                      Built by developers for developers. You will love how
                      easy is to to work with Notus NextJS.
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div className="container mx-auto overflow-hidden pb-20">
        <div className="flex flex-wrap items-center">
          <div className="w-full md:w-4/12 px-12 md:px-4 ml-auto mr-auto mt-48">
            <div className="text-blueGray-500 p-3 text-center inline-flex items-center justify-center w-16 h-16 mb-6 shadow-lg rounded-full bg-white">
              <i className="fas fa-sitemap text-xl"></i>
            </div>
            <h3 className="text-3xl mb-2 font-semibold leading-normal">
              CSS Components
            </h3>
            <p className="text-lg font-light leading-relaxed mt-4 mb-4 text-blueGray-600">
              Every element that you need in a product comes built in as a
              component. All components fit perfectly with each other and can
              have different colours.
            </p>
            <div className="block pb-6">
              <span className="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blueGray-500 bg-white uppercase last:mr-0 mr-2 mt-2">
                Buttons
              </span>
              <span className="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blueGray-500 bg-white uppercase last:mr-0 mr-2 mt-2">
                Inputs
              </span>
              <span className="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blueGray-500 bg-white uppercase last:mr-0 mr-2 mt-2">
                Labels
              </span>
              <span className="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blueGray-500 bg-white uppercase last:mr-0 mr-2 mt-2">
                Menus
              </span>
              <span className="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blueGray-500 bg-white uppercase last:mr-0 mr-2 mt-2">
                Navbars
              </span>
              <span className="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blueGray-500 bg-white uppercase last:mr-0 mr-2 mt-2">
                Pagination
              </span>
              <span className="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blueGray-500 bg-white uppercase last:mr-0 mr-2 mt-2">
                Progressbars
              </span>
              <span className="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blueGray-500 bg-white uppercase last:mr-0 mr-2 mt-2">
                Typography
              </span>
            </div>
            <a
              href="https://www.creative-tim.com/learning-lab/tailwind/nextjs/alerts/notus?ref=nnjs-index"
              target="_blank"
              className="font-bold text-blueGray-700 hover:text-blueGray-500 ease-linear transition-all duration-150"
            >
              View All{" "}
              <i className="fa fa-angle-double-right ml-1 leading-relaxed"></i>
            </a>
          </div>

          <div className="w-full md:w-5/12 px-4 mr-auto ml-auto mt-32">
            <div className="relative flex flex-col min-w-0 w-full mb-6 mt-48 md:mt-0">
              <img
                alt="..."
                src="/img/component-btn.png"
                className="w-full align-middle rounded absolute shadow-lg max-w-100-px left-145-px -top-29-px z-3"
              />
              <img
                alt="..."
                src="/img/component-profile-card.png"
                className="w-full align-middle rounded-lg absolute shadow-lg max-w-210-px left-260-px -top-160-px"
              />
              <img
                alt="..."
                src="/img/component-info-card.png"
                className="w-full align-middle rounded-lg absolute shadow-lg max-w-180-px left-40-px -top-225-px z-2"
              />
              <img
                alt="..."
                src="/img/component-info-2.png"
                className="w-full align-middle rounded-lg absolute shadow-2xl max-w-200-px -left-50-px top-25-px"
              />
              <img
                alt="..."
                src="/img/component-menu.png"
                className="w-full align-middle rounded absolute shadow-lg max-w-580-px -left-20-px top-210-px"
              />
              <img
                alt="..."
                src="/img/component-btn-pink.png"
                className="w-full align-middle rounded absolute shadow-xl max-w-120-px left-195-px top-95-px"
              />
            </div>
          </div>
        </div>

        <div className="flex flex-wrap items-center pt-32">
          <div className="w-full md:w-6/12 px-4 mr-auto ml-auto mt-32">
            <div className="justify-center flex flex-wrap relative">
              <div className="my-4 w-full lg:w-6/12 px-4">
                <a
                  href="https://www.creative-tim.com/learning-lab/tailwind/svelte/alerts/notus?ref=vtw-index"
                  target="_blank"
                >
                  <div className="bg-red-600 shadow-lg rounded-lg text-center p-8">
                    <img
                      alt="..."
                      className="shadow-md rounded-full max-w-full w-16 mx-auto p-2 bg-white"
                      src="https://raw.githubusercontent.com/creativetimofficial/public-assets/master/logos/svelte.jpg"
                    />
                    <p className="text-lg text-white mt-4 font-semibold">
                      Svelte
                    </p>
                  </div>
                </a>
                <a
                  href="https://www.creative-tim.com/learning-lab/tailwind/react/alerts/notus?ref=vtw-index"
                  target="_blank"
                >
                  <div className="bg-lightBlue-500 shadow-lg rounded-lg text-center p-8 mt-8">
                    <img
                      alt="..."
                      className="shadow-md rounded-full max-w-full w-16 mx-auto p-2 bg-white"
                      src="https://raw.githubusercontent.com/creativetimofficial/public-assets/master/logos/react.jpg"
                    />
                    <p className="text-lg text-white mt-4 font-semibold">
                      ReactJS
                    </p>
                  </div>
                </a>
                <a
                  href="https://www.creative-tim.com/learning-lab/tailwind/nextjs/alerts/notus?ref=vtw-index"
                  target="_blank"
                >
                  <div className="bg-blueGray-700 shadow-lg rounded-lg text-center p-8 mt-8">
                    <img
                      alt="..."
                      className="shadow-md rounded-full max-w-full w-16 mx-auto p-2 bg-white"
                      src="https://raw.githubusercontent.com/creativetimofficial/public-assets/master/logos/nextjs.jpg"
                    />
                    <p className="text-lg text-white mt-4 font-semibold">
                      NextJS
                    </p>
                  </div>
                </a>
              </div>
              <div className="my-4 w-full lg:w-6/12 px-4 lg:mt-16">
                <a
                  href="https://www.creative-tim.com/learning-lab/tailwind/js/alerts/notus?ref=vtw-index"
                  target="_blank"
                >
                  <div className="bg-yellow-500 shadow-lg rounded-lg text-center p-8">
                    <img
                      alt="..."
                      className="shadow-md rounded-full max-w-full w-16 mx-auto p-2 bg-white"
                      src="https://raw.githubusercontent.com/creativetimofficial/public-assets/master/logos/js.png"
                    />
                    <p className="text-lg text-white mt-4 font-semibold">
                      JavaScript
                    </p>
                  </div>
                </a>
                <a
                  href="https://www.creative-tim.com/learning-lab/tailwind/angular/alerts/notus?ref=vtw-index"
                  target="_blank"
                >
                  <div className="bg-red-700 shadow-lg rounded-lg text-center p-8 mt-8">
                    <img
                      alt="..."
                      className="shadow-md rounded-full max-w-full w-16 mx-auto p-2 bg-white"
                      src="https://raw.githubusercontent.com/creativetimofficial/public-assets/master/logos/angular.jpg"
                    />
                    <p className="text-lg text-white mt-4 font-semibold">
                      Angular
                    </p>
                  </div>
                </a>
                <a
                  href="https://www.creative-tim.com/learning-lab/tailwind/vue/alerts/notus?ref=vtw-index"
                  target="_blank"
                >
                  <div className="bg-emerald-500 shadow-lg rounded-lg text-center p-8 mt-8">
                    <img
                      alt="..."
                      className="shadow-md rounded-full max-w-full w-16 mx-auto p-2 bg-white"
                      src="https://raw.githubusercontent.com/creativetimofficial/public-assets/master/logos/vue.jpg"
                    />
                    <p className="text-lg text-white mt-4 font-semibold">
                      Vue.js
                    </p>
                  </div>
                </a>
              </div>
            </div>
          </div>

          <div className="w-full md:w-4/12 px-12 md:px-4 ml-auto mr-auto mt-48">
            <div className="text-blueGray-500 p-3 text-center inline-flex items-center justify-center w-16 h-16 mb-6 shadow-lg rounded-full bg-white">
              <i className="fas fa-drafting-compass text-xl"></i>
            </div>
            <h3 className="text-3xl mb-2 font-semibold leading-normal">
              Javascript Components
            </h3>
            <p className="text-lg font-light leading-relaxed mt-4 mb-4 text-blueGray-600">
              In order to create a great User Experience some components
              require JavaScript. In this way you can manipulate the elements
              on the page and give more options to your users.
            </p>
            <p className="text-lg font-light leading-relaxed mt-4 mb-4 text-blueGray-600">
              We created a set of Components that are dynamic and come to help
              you.
            </p>
            <div className="block pb-6">
              <span className="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blueGray-500 bg-white uppercase last:mr-0 mr-2 mt-2">
                Alerts
              </span>
              <span className="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blueGray-500 bg-white uppercase last:mr-0 mr-2 mt-2">
                Dropdowns
              </span>
              <span className="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blueGray-500 bg-white uppercase last:mr-0 mr-2 mt-2">
                Menus
              </span>
              <span className="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blueGray-500 bg-white uppercase last:mr-0 mr-2 mt-2">
                Modals
              </span>
              <span className="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blueGray-500 bg-white uppercase last:mr-0 mr-2 mt-2">
                Navbars
              </span>
              <span className="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blueGray-500 bg-white uppercase last:mr-0 mr-2 mt-2">
                Popovers
              </span>
              <span className="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blueGray-500 bg-white uppercase last:mr-0 mr-2 mt-2">
                Tabs
              </span>
              <span className="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blueGray-500 bg-white uppercase last:mr-0 mr-2 mt-2">
                Tooltips
              </span>
            </div>
            <a
              href="https://www.creative-tim.com/learning-lab/tailwind/nextjs/alerts/notus?ref=nnjs-index"
              target="_blank"
              className="font-bold text-blueGray-700 hover:text-blueGray-500 ease-linear transition-all duration-150"
            >
              View all{" "}
              <i className="fa fa-angle-double-right ml-1 leading-relaxed"></i>
            </a>
          </div>
        </div>
      </div>

      <div className="container mx-auto px-4 pb-32 pt-48">
        <div className="items-center flex flex-wrap">
          <div className="w-full md:w-5/12 ml-auto px-12 md:px-4">
            <div className="md:pr-12">
              <div className="text-blueGray-500 p-3 text-center inline-flex items-center justify-center w-16 h-16 mb-6 shadow-lg rounded-full bg-white">
                <i className="fas fa-file-alt text-xl"></i>
              </div>
              <h3 className="text-3xl font-semibold">
                Complex Documentation
              </h3>
              <p className="mt-4 text-lg leading-relaxed text-blueGray-500">
                This extension comes a lot of fully coded examples that help
                you get started faster. You can adjust the colors and also the
                programming language. You can change the text and images and
                you&apos;re good to go.
              </p>
              <ul className="list-none mt-6">
                <li className="py-2">
                  <div className="flex items-center">
                    <div>
                      <span className="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blueGray-500 bg-blueGray-50 mr-3">
                        <i className="fas fa-fingerprint"></i>
                      </span>
                    </div>
                    <div>
                      <h4 className="text-blueGray-500">
                        Built by Developers for Developers
                      </h4>
                    </div>
                  </div>
                </li>
                <li className="py-2">
                  <div className="flex items-center">
                    <div>
                      <span className="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blueGray-500 bg-blueGray-50 mr-3">
                        <i className="fab fa-html5"></i>
                      </span>
                    </div>
                    <div>
                      <h4 className="text-blueGray-500">
                        Carefully crafted code for Components
                      </h4>
                    </div>
                  </div>
                </li>
                <li className="py-2">
                  <div className="flex items-center">
                    <div>
                      <span className="text-xs font-semibold inline-block py-1 px-2 uppercase rounded-full text-blueGray-500 bg-blueGray-50 mr-3">
                        <i className="far fa-paper-plane"></i>
                      </span>
                    </div>
                    <div>
                      <h4 className="text-blueGray-500">
                        Dynamic Javascript Components
                      </h4>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
          </div>

          <div className="w-full md:w-6/12 mr-auto px-4 pt-24 md:pt-0">
            <img
              alt="..."
              className="max-w-full rounded-lg shadow-xl"
              style={{
                transform:
                  "scale(1) perspective(1040px) rotateY(-11deg) rotateX(2deg) rotate(2deg)",
              }}
              src="/img/documentation.png"
            />
          </div>
        </div>
      </div>

      <div className="justify-center text-center flex flex-wrap mt-24">
        <div className="w-full md:w-6/12 px-12 md:px-4">
          <h2 className="font-semibold text-4xl">Beautiful Example Pages</h2>
          <p className="text-lg leading-relaxed mt-4 mb-4 text-blueGray-500">
            Notus NextJS is a completly new product built using our past
            experience in web templates. Take the examples we made for you and
            start playing with them.
          </p>
        </div>
      </div>
    </section>
    <section className="block relative z-1 bg-blueGray-600">
      <div className="container mx-auto">
        <div className="justify-center flex flex-wrap">
          <div className="w-full lg:w-12/12 px-4  -mt-24">
            <div className="flex flex-wrap">
              <div className="w-full lg:w-4/12 px-4">
                <h5 className="text-xl font-semibold pb-4 text-center">
                  Login Page
                </h5>
                <Link href="/auth/login" legacyBehavior>
                  <div className="hover:-mt-4 relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded-lg ease-linear transition-all duration-150">
                    <img
                      alt="..."
                      className="align-middle border-none max-w-full h-auto rounded-lg"
                      src="/img/login.jpg"
                    />
                  </div>
                </Link>
              </div>

              <div className="w-full lg:w-4/12 px-4">
                <h5 className="text-xl font-semibold pb-4 text-center">
                  Profile Page
                </h5>
                <Link href="/profile" legacyBehavior>
                  <div className="hover:-mt-4 relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded-lg ease-linear transition-all duration-150">
                    <img
                      alt="..."
                      className="align-middle border-none max-w-full h-auto rounded-lg"
                      src="/img/profile.jpg"
                    />
                  </div>
                </Link>
              </div>

              <div className="w-full lg:w-4/12 px-4">
                <h5 className="text-xl font-semibold pb-4 text-center">
                  Landing Page
                </h5>
                <Link href="/landing" legacyBehavior>
                  <div className="hover:-mt-4 relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded-lg ease-linear transition-all duration-150">
                    <img
                      alt="..."
                      className="align-middle border-none max-w-full h-auto rounded-lg"
                      src="/img/landing.jpg"
                    />
                  </div>
                </Link>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section className="py-20 bg-blueGray-600 overflow-hidden">
      <div className="container mx-auto pb-64">
        <div className="flex flex-wrap justify-center">
          <div className="w-full md:w-5/12 px-12 md:px-4 ml-auto mr-auto md:mt-64">
            <div className="text-blueGray-500 p-3 text-center inline-flex items-center justify-center w-16 h-16 mb-6 shadow-lg rounded-full bg-white">
              <i className="fas fa-code-branch text-xl"></i>
            </div>
            <h3 className="text-3xl mb-2 font-semibold leading-normal text-white">
              Open Source
            </h3>
            <p className="text-lg font-light leading-relaxed mt-4 mb-4 text-blueGray-400">
              Since{" "}
              <a
                href="https://tailwindcss.com/?ref=creative"
                className="text-blueGray-300"
                target="_blank"
              >
                Tailwind CSS
              </a>{" "}
              is an open source project we wanted to continue this movement
              too. You can give this version a try to feel the design and also
              test the quality of the code!
            </p>
            <p className="text-lg font-light leading-relaxed mt-0 mb-4 text-blueGray-400">
              Get it free on Github and please help us spread the news with a
              Star!
            </p>
            <a
              href="https://github.com/creativetimofficial/notus-nextjs?ref=nnjs-index"
              target="_blank"
              className="github-star mt-4 inline-block text-white font-bold px-6 py-4 rounded outline-none focus:outline-none mr-1 mb-1 bg-blueGray-700 active:bg-blueGray-600 uppercase text-sm shadow hover:shadow-lg"
            >
              Github Star
            </a>
          </div>

          <div className="w-full md:w-4/12 px-4 mr-auto ml-auto mt-32 relative">
            <i className="fab fa-github text-blueGray-700 absolute text-55 -top-150-px -right-100 left-auto opacity-80"></i>
          </div>
        </div>
      </div>
    </section>
    <section className="pb-16 bg-blueGray-200 relative pt-32">
      <div
        className="-mt-20 top-0 bottom-auto left-0 right-0 w-full absolute h-20"
        style={{ transform: "translateZ(0)" }}
      >
        <svg
          className="absolute bottom-0 overflow-hidden"
          xmlns="http://www.w3.org/2000/svg"
          preserveAspectRatio="none"
          version="1.1"
          viewBox="0 0 2560 100"
          x="0"
          y="0"
        >
          <polygon
            className="text-blueGray-200 fill-current"
            points="2560 0 2560 100 0 100"
          ></polygon>
        </svg>
      </div>

      <div className="container mx-auto">
        <div className="flex flex-wrap justify-center bg-white shadow-xl rounded-lg -mt-64 py-16 px-12 relative z-10">
          <div className="w-full text-center lg:w-8/12">
            <p className="text-4xl text-center">
              <span role="img" aria-label="love">
                
              </span>
            </p>
            <h3 className="font-semibold text-3xl">
              Do you love this Starter Kit?
            </h3>
            <p className="text-blueGray-500 text-lg leading-relaxed mt-4 mb-4">
              Cause if you do, it can be yours now. Hit the buttons below to
              navigate to get the Free version for your next project. Build a
              new web app or give an old project a new look!
            </p>
            <div className="sm:block flex flex-col mt-10">
              <a
                href="https://www.creative-tim.com/learning-lab/tailwind/nextjs/overview/notus?ref=nnjs-index"
                target="_blank"
                className="get-started text-white font-bold px-6 py-4 rounded outline-none focus:outline-none mr-1 mb-2 bg-blueGray-400 active:bg-blueGray-500 uppercase text-sm shadow hover:shadow-lg ease-linear transition-all duration-150"
              >
                Get started
              </a>
              <a
                href="https://github.com/creativetimofficial/notus-nextjs?ref=nnjs-index"
                target="_blank"
                className="github-star sm:ml-1 text-white font-bold px-6 py-4 rounded outline-none focus:outline-none mr-1 mb-1 bg-blueGray-700 active:bg-blueGray-600 uppercase text-sm shadow hover:shadow-lg"
              >
                <i className="fab fa-github text-lg mr-1"></i>
                <span>Help With a Star</span>
              </a>
            </div>
            <div className="text-center mt-16"></div>
          </div>
        </div>
      </div>
    </section>
    <Footer />
  </>);
}

================
File: styles/index.css
================
@tailwind base;

@tailwind components;

@tailwind utilities;

.uniform-image-size {
    width: 100%; /* Ensure the image spans the full width of the container */
    height: 200px; /* Set a fixed height */
    object-fit: cover; /* Crop or scale the image to fit the dimensions */
  }

================
File: utils/localStorageCart.js
================
// src/utils/localStorageCart.js

export const getLocalCartItems = () => {
if (typeof window !== 'undefined') {
    const cart = localStorage.getItem('cart');
    return cart ? JSON.parse(cart) : [];
}
return [];
};

export const setLocalCartItems = (items) => {
if (typeof window !== 'undefined') {
    localStorage.setItem('cart', JSON.stringify(items));
}
};

export const addLocalCartItem = (item) => {
const cartItems = getLocalCartItems();
cartItems.push(item);
setLocalCartItems(cartItems);
};

export const removeLocalCartItem = (cartItemId) => {
const cartItems = getLocalCartItems();
const updatedCartItems = cartItems.filter(item => item.cart_item_id !== cartItemId);
setLocalCartItems(updatedCartItems);
};

================
File: .gitignore
================
# See https://help.github.com/articles/ignoring-files/ for more about ignoring files.

# dependencies
/node_modules
/.pnp
.pnp.js

# testing
/coverage

# production
/build

# misc
.DS_Store
.env.local
.env.development.local
.env.test.local
.env.production.local

npm-debug.log*
yarn-debug.log*
yarn-error.log*

.next/
out/

commit.sh

repopack-output.txt

.env

================
File: eslint.config.mjs
================
import globals from "globals";
import pluginJs from "@eslint/js";
import pluginReact from "eslint-plugin-react";


export default [
  {files: ["**/*.{js,mjs,cjs,jsx}"]},
  {languageOptions: { globals: {...globals.browser, ...globals.node} }},
  pluginJs.configs.recommended,
  pluginReact.configs.flat.recommended,
];

================
File: jsconfig.json
================
{
  "compilerOptions": {
    "baseUrl": "."
  }
}

================
File: next.config.js
================
// next.config.js

/** @type {import('next').NextConfig} */
const nextConfig = {
    reactStrictMode: true,
    images: {
      domains: ['giveagift-assets.nyc3.cdn.digitaloceanspaces.com', 'nyc3.digitaloceanspaces.com', 'm.media-amazon.com'],
    },
  };
  
  module.exports = nextConfig;

================
File: package.json
================
{
  "name": "giftdrive",
  "version": "1.0.0",
  "description": "A brief description of your project.",
  "repository": {
    "type": "git",
    "url": "https://github.com/yourusername/your-repo.git"
  },
  "license": "MIT",
  "dependencies": {
    "@fortawesome/fontawesome-free": "^6.6.0",
    "@popperjs/core": "^2.11.7",
    "@react-google-maps/api": "^2.20.3",
    "@stripe/stripe-js": "^5.4.0",
    "@tailwindcss/line-clamp": "^0.4.4",
    "axios": "^1.7.7",
    "chart.js": "^2.9.4",
    "components": "^0.1.0",
    "dotenv": "^16.4.5",
    "eslint-config-next": "^15.0.1",
    "express-rate-limit": "^7.4.1",
    "express-validator": "^7.2.0",
    "layouts": "^3.0.2",
    "multer": "^1.4.5-lts.1",
    "next": "^13.4.6",
    "nprogress": "^0.2.0",
    "prettier": "^3.3.3",
    "prop-types": "^15.8.1",
    "react": "18.2.0",
    "react-datepicker": "^7.5.0",
    "react-dom": "18.2.0",
    "react-icons": "^5.3.0",
    "react-infinite-scroll-component": "^6.1.0",
    "react-toastify": "^11.0.2",
    "recharts": "^2.13.3",
    "styles": "^0.2.1",
    "typescript": "^4.9.5",
    "validator": "^13.12.0"
  },
  "devDependencies": {
    "@eslint/js": "^9.13.0",
    "@tailwindcss/forms": "^0.5.3",
    "autoprefixer": "^10.4.20",
    "eslint": "^8.57.1",
    "eslint-plugin-react": "^7.37.2",
    "globals": "^15.11.0",
    "postcss": "^8.4.47",
    "tailwindcss": "^3.4.14"
  },
  "scripts": {
    "start": "next start",
    "build": "next build",
    "dev": "next dev",
    "lint": "eslint . --ext .js,.jsx,.ts,.tsx"
  },
  "eslintConfig": {
    "extends": [
      "next",
      "next/core-web-vitals"
    ]
  },
  "browserslist": {
    "production": [
      ">0.2%",
      "not dead",
      "not op_mini all"
    ],
    "development": [
      "last 1 chrome version",
      "last 1 firefox version",
      "last 1 safari version"
    ]
  }
}

================
File: postcss.config.js
================
module.exports = {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}

================
File: tailwind.config.js
================
const plugin = require("tailwindcss/plugin");
const colors = require("tailwindcss/colors");

module.exports = {
  mode: 'jit',
  purge: {
    enabled: true,
    content: [
      // Components: All JS/JSX/TS/TSX files in the components directory and its subdirectories
      "./components/**/*.{js,jsx,ts,tsx}",
  
      // Contexts: All JS/JSX/TS/TSX files in the contexts directory and its subdirectories
      "./contexts/**/*.{js,jsx,ts,tsx}",
  
      // Layouts: All JS/JSX/TS/TSX files in the layouts directory and its subdirectories
      "./layouts/**/*.{js,jsx,ts,tsx}",
  
      // Pages: All JS/JSX/TS/TSX files in the pages directory and its subdirectories
      "./pages/**/*.{js,jsx,ts,tsx}",
  
      // Public: Any HTML files in the public directory (if you have any)
      "./public/**/*.html",
  
      // Styles: All CSS and SCSS files in the styles directory
      "./styles/**/*.{css,scss}",
  
      // Utils: All JS/JSX/TS/TSX files in the utils directory and its subdirectories
      "./utils/**/*.{js,jsx,ts,tsx}",
  
      // Add any other directories or file types as needed
    ],
    options: {
      safelist: [],
    },
  },
  theme: {
    extend: {
      colors: {
        ...colors,
      },
      minHeight: {
        "screen-75": "75vh",
      },
      fontSize: {
        55: "55rem",
      },
      opacity: {
        80: ".8",
      },
      zIndex: {
        2: 2,
        3: 3,
      },
      inset: {
        "-100": "-100%",
        "-225-px": "-225px",
        "-160-px": "-160px",
        "-150-px": "-150px",
        "-94-px": "-94px",
        "-50-px": "-50px",
        "-29-px": "-29px",
        "-20-px": "-20px",
        "25-px": "25px",
        "40-px": "40px",
        "95-px": "95px",
        "145-px": "145px",
        "195-px": "195px",
        "210-px": "210px",
        "260-px": "260px",
      },
      height: {
        "95-px": "95px",
        "70-px": "70px",
        "350-px": "350px",
        "500-px": "500px",
        "600-px": "600px",
      },
      maxHeight: {
        "860-px": "860px",
      },
      maxWidth: {
        "100-px": "100px",
        "120-px": "120px",
        "150-px": "150px",
        "180-px": "180px",
        "200-px": "200px",
        "210-px": "210px",
        "580-px": "580px",
      },
      minWidth: {
        "140-px": "140px",
        48: "12rem",
      },
      backgroundSize: {
        full: "100%",
      },
    },
  },
  variants: [
    "responsive",
    "group-hover",
    "focus-within",
    "first",
    "last",
    "odd",
    "even",
    "hover",
    "focus",
    "active",
    "visited",
    "disabled",
  ],
  plugins: [
    require("@tailwindcss/forms"),
    plugin(function ({ addComponents, theme }) {
      const screens = theme("screens", {});
      addComponents([
        {
          ".container": { width: "100%" },
        },
        {
          [`@media (min-width: ${screens.sm})`]: {
            ".container": {
              "max-width": "640px",
            },
          },
        },
        {
          [`@media (min-width: ${screens.md})`]: {
            ".container": {
              "max-width": "768px",
            },
          },
        },
        {
          [`@media (min-width: ${screens.lg})`]: {
            ".container": {
              "max-width": "1024px",
            },
          },
        },
        {
          [`@media (min-width: ${screens.xl})`]: {
            ".container": {
              "max-width": "1280px",
            },
          },
        },
        {
          [`@media (min-width: ${screens["2xl"]})`]: {
            ".container": {
              "max-width": "1280px",
            },
          },
        },
      ]);
    }),
  ],
};
